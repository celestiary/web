import{a as r_}from"./chunk-PUY6DSWW.js";import{$ as nc,A as Dn,Aa as Gl,B as Eg,Ba as Jr,C as Cg,D as kg,E as Rg,Ea as Xg,F as Ht,Fa as qg,G as Io,Ga as Vi,H as Mg,Ha as Kl,I as Fl,Ia as Qg,J as Ju,Ja as Zg,K as qt,L as Vo,M as Tg,Ma as Jg,O as $u,Oa as Wl,R as Ft,Ra as u_,S as ec,Sa as c_,T as Lg,U as Og,Ua as $g,V as tc,Va as e0,W as Er,X as Ho,Xa as t0,Y as Dg,Ya as Hi,Za as n0,_a as Fi,a as qu,aa as Ag,b as Xr,ba as zg,c as qr,ca as Ii,cb as r0,d as hg,da as jg,e as Nl,f as fg,fa as rc,g as mg,ga as Bl,h as vg,ha as Fo,i as Qu,ia as Ng,j as gg,ja as Zr,k as Et,ka as Ig,l as wg,la as Vg,m as Zu,ma as Hg,n as he,na as Bo,o as bg,oa as Fg,p as Il,pa as Bg,q as Yn,qa as Uo,r as yg,ra as Ug,s as _g,t as Qr,ta as Gg,u as Vl,ua as Ul,v as xg,va as Kg,w as Hl,wa as Go,x as Pg,xa as Re,y as On,ya as Wg,z as Sg,za as Yg}from"./chunk-PQAOOUJR.js";import{S as l_,U as ug,a as l,b as Sr,ba as jo,d as V,da as a_,ea as cg,f as Pe,g as n_,h as o_,ha as zl,ia as No,k as ye,l as Wr,m as Ln,ma as pg,na as dg,o as re,oa as jl,qa as nt,ra as He,t as Yr,v as i_,w as s_}from"./chunk-O7VKDUJE.js";var Jw=Sr(wo=>{"use strict";wo.ConcurrentRoot=1;wo.ContinuousEventPriority=4;wo.DefaultEventPriority=16;wo.DiscreteEventPriority=1;wo.IdleEventPriority=536870912;wo.LegacyRoot=0});var If=Sr((cR,$w)=>{"use strict";$w.exports=Jw()});var pb=Sr(De=>{"use strict";function Bf(o,e){var t=o.length;o.push(e);e:for(;0<t;){var i=t-1>>>1,u=o[i];if(0<Pa(u,e))o[i]=e,o[t]=u,t=i;else break e}}l(Bf,"f");function _n(o){return o.length===0?null:o[0]}l(_n,"h");function Ea(o){if(o.length===0)return null;var e=o[0],t=o.pop();if(t!==e){o[0]=t;e:for(var i=0,u=o.length,p=u>>>1;i<p;){var h=2*(i+1)-1,m=o[h],g=h+1,b=o[g];if(0>Pa(m,t))g<u&&0>Pa(b,m)?(o[i]=b,o[g]=t,i=g):(o[i]=m,o[h]=t,i=h);else if(g<u&&0>Pa(b,t))o[i]=b,o[g]=t,i=g;else break e}}return e}l(Ea,"k");function Pa(o,e){var t=o.sortIndex-e.sortIndex;return t!==0?t:o.id-e.id}l(Pa,"g");typeof performance=="object"&&typeof performance.now=="function"?(nb=performance,De.unstable_now=function(){return nb.now()}):(Vf=Date,rb=Vf.now(),De.unstable_now=function(){return Vf.now()-rb});var nb,Vf,rb,Vn=[],Ar=[],dS=1,dn=null,kt=3,Ca=!1,bo=!1,Ps=!1,sb=typeof setTimeout=="function"?setTimeout:null,lb=typeof clearTimeout=="function"?clearTimeout:null,ob=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Uf(o){for(var e=_n(Ar);e!==null;){if(e.callback===null)Ea(Ar);else if(e.startTime<=o)Ea(Ar),e.sortIndex=e.expirationTime,Bf(Vn,e);else break;e=_n(Ar)}}l(Uf,"G");function Gf(o){if(Ps=!1,Uf(o),!bo)if(_n(Vn)!==null)bo=!0,Wf(Kf);else{var e=_n(Ar);e!==null&&Yf(Gf,e.startTime-o)}}l(Gf,"H");function Kf(o,e){bo=!1,Ps&&(Ps=!1,lb(Ss),Ss=-1),Ca=!0;var t=kt;try{for(Uf(e),dn=_n(Vn);dn!==null&&(!(dn.expirationTime>e)||o&&!cb());){var i=dn.callback;if(typeof i=="function"){dn.callback=null,kt=dn.priorityLevel;var u=i(dn.expirationTime<=e);e=De.unstable_now(),typeof u=="function"?dn.callback=u:dn===_n(Vn)&&Ea(Vn),Uf(e)}else Ea(Vn);dn=_n(Vn)}if(dn!==null)var p=!0;else{var h=_n(Ar);h!==null&&Yf(Gf,h.startTime-e),p=!1}return p}finally{dn=null,kt=t,Ca=!1}}l(Kf,"J");var ka=!1,Sa=null,Ss=-1,ab=5,ub=-1;function cb(){return!(De.unstable_now()-ub<ab)}l(cb,"M");function Hf(){if(Sa!==null){var o=De.unstable_now();ub=o;var e=!0;try{e=Sa(!0,o)}finally{e?xs():(ka=!1,Sa=null)}}else ka=!1}l(Hf,"R");var xs;typeof ob=="function"?xs=l(function(){ob(Hf)},"S"):typeof MessageChannel<"u"?(Ff=new MessageChannel,ib=Ff.port2,Ff.port1.onmessage=Hf,xs=l(function(){ib.postMessage(null)},"S")):xs=l(function(){sb(Hf,0)},"S");var Ff,ib;function Wf(o){Sa=o,ka||(ka=!0,xs())}l(Wf,"I");function Yf(o,e){Ss=sb(function(){o(De.unstable_now())},e)}l(Yf,"K");De.unstable_IdlePriority=5;De.unstable_ImmediatePriority=1;De.unstable_LowPriority=4;De.unstable_NormalPriority=3;De.unstable_Profiling=null;De.unstable_UserBlockingPriority=2;De.unstable_cancelCallback=function(o){o.callback=null};De.unstable_continueExecution=function(){bo||Ca||(bo=!0,Wf(Kf))};De.unstable_forceFrameRate=function(o){0>o||125<o?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ab=0<o?Math.floor(1e3/o):5};De.unstable_getCurrentPriorityLevel=function(){return kt};De.unstable_getFirstCallbackNode=function(){return _n(Vn)};De.unstable_next=function(o){switch(kt){case 1:case 2:case 3:var e=3;break;default:e=kt}var t=kt;kt=e;try{return o()}finally{kt=t}};De.unstable_pauseExecution=function(){};De.unstable_requestPaint=function(){};De.unstable_runWithPriority=function(o,e){switch(o){case 1:case 2:case 3:case 4:case 5:break;default:o=3}var t=kt;kt=o;try{return e()}finally{kt=t}};De.unstable_scheduleCallback=function(o,e,t){var i=De.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?i+t:i):t=i,o){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return u=t+u,o={id:dS++,callback:e,priorityLevel:o,startTime:t,expirationTime:u,sortIndex:-1},t>i?(o.sortIndex=t,Bf(Ar,o),_n(Vn)===null&&o===_n(Ar)&&(Ps?(lb(Ss),Ss=-1):Ps=!0,Yf(Gf,t-i))):(o.sortIndex=u,Bf(Vn,o),bo||Ca||(bo=!0,Wf(Kf))),o};De.unstable_shouldYield=cb;De.unstable_wrapCallback=function(o){var e=kt;return function(){var t=kt;kt=e;try{return o.apply(this,arguments)}finally{kt=t}}}});var Ra=Sr((mR,db)=>{"use strict";db.exports=pb()});var fb=Sr((vR,hb)=>{hb.exports=l(function(e){var t={},i=Pe(),u=Ra(),p=Object.assign;function h(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}l(h,"n");var m=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),b=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var K=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=K&&n[K]||n["@@iterator"],typeof n=="function"?n:null)}l(G,"ua");function q(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case f:return"Fragment";case b:return"Portal";case x:return"Profiler";case v:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case L:return(n.displayName||"Context")+".Consumer";case M:return(n._context.displayName||"Context")+".Provider";case T:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:q(n.type)||"Memo";case O:r=n._payload,n=n._init;try{return q(n(r))}catch(s){}}return null}l(q,"va");function $(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(r);case 8:return r===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}l($,"xa");function H(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}l(H,"ya");function D(n){if(H(n)!==n)throw Error(h(188))}l(D,"za");function j(n){var r=n.alternate;if(!r){if(r=H(n),r===null)throw Error(h(188));return r!==n?null:n}for(var s=n,a=r;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return D(c),n;if(d===a)return D(c),r;d=d.sibling}throw Error(h(188))}if(s.return!==a.return)s=c,a=d;else{for(var w=!1,y=c.child;y;){if(y===s){w=!0,s=c,a=d;break}if(y===a){w=!0,a=c,s=d;break}y=y.sibling}if(!w){for(y=d.child;y;){if(y===s){w=!0,s=d,a=c;break}if(y===a){w=!0,a=d,s=c;break}y=y.sibling}if(!w)throw Error(h(189))}}if(s.alternate!==a)throw Error(h(190))}if(s.tag!==3)throw Error(h(188));return s.stateNode.current===s?n:r}l(j,"Aa");function ne(n){return n=j(n),n!==null?Me(n):null}l(ne,"Ba");function Me(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Me(n);if(r!==null)return r;n=n.sibling}return null}l(Me,"Ca");function ce(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){if(n.tag!==4){var r=ce(n);if(r!==null)return r}n=n.sibling}return null}l(ce,"Da");var Ge=Array.isArray,Ee=e.getPublicInstance,pe=e.getRootHostContext,Y=e.getChildHostContext,xe=e.prepareForCommit,ve=e.resetAfterCommit,Ce=e.createInstance,gt=e.appendInitialChild,Z=e.finalizeInitialChildren,at=e.prepareUpdate,de=e.shouldSetTextContent,ze=e.createTextInstance,Ke=e.scheduleTimeout,et=e.cancelTimeout,wt=e.noTimeout,rt=e.isPrimaryRenderer,We=e.supportsMutation,Ye=e.supportsPersistence,ke=e.supportsHydration,xn=e.getInstanceFromNode,hn=e.preparePortalMount,Ds=e.getCurrentEventPriority,As=e.detachDeletedInstance,zs=e.supportsMicrotasks,Aa=e.scheduleMicrotask,zr=e.supportsTestSelectors,js=e.findFiberRoot,di=e.getBoundingRect,hi=e.getTextContent,cr=e.isHiddenSubtree,za=e.matchAccessibilityRole,ja=e.setFocusIfFocusable,Ns=e.setupIntersectionObserver,fi=e.appendChild,Na=e.appendChildToContainer,Ia=e.commitTextUpdate,Is=e.commitMount,Va=e.commitUpdate,Vs=e.insertBefore,Hs=e.insertInContainerBefore,mi=e.removeChild,P=e.removeChildFromContainer,F=e.resetTextContent,ee=e.hideInstance,fe=e.hideTextInstance,ot=e.unhideInstance,fn=e.unhideTextInstance,Pn=e.clearContainer,Cm=e.cloneInstance,vi=e.createContainerChildSet,$t=e.appendChildToContainerChildSet,mn=e.finalizeContainerChildren,pr=e.replaceContainerChildren,dr=e.cloneHiddenInstance,hr=e.cloneHiddenTextInstance,_o=e.canHydrateInstance,Xb=e.canHydrateTextInstance,qb=e.canHydrateSuspenseInstance,km=e.isSuspenseInstancePending,Ha=e.isSuspenseInstanceFallback,Qb=e.registerSuspenseInstanceRetry,gi=e.getNextHydratableSibling,Zb=e.getFirstHydratableChild,Jb=e.getFirstHydratableChildWithinContainer,$b=e.getFirstHydratableChildWithinSuspenseInstance,ey=e.hydrateInstance,ty=e.hydrateTextInstance,ny=e.hydrateSuspenseInstance,ry=e.getNextHydratableInstanceAfterSuspenseInstance,Rm=e.commitHydratedContainer,oy=e.commitHydratedSuspenseInstance,iy=e.clearSuspenseBoundary,sy=e.clearSuspenseBoundaryFromContainer,ly=e.shouldDeleteUnhydratedTailInstances,ay=e.didNotMatchHydratedContainerTextInstance,uy=e.didNotMatchHydratedTextInstance,Fa;function wi(n){if(Fa===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Fa=r&&r[1]||""}return"\n"+Fa+n}l(wi,"ac");var Ba=!1;function Ua(n,r){if(!n||Ba)return"";Ba=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=l(function(){throw Error()},"b"),Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(N){var a=N}Reflect.construct(n,[],r)}else{try{r.call()}catch(N){a=N}n.call(r.prototype)}else{try{throw Error()}catch(N){a=N}n()}}catch(N){if(N&&a&&typeof N.stack=="string"){for(var c=N.stack.split("\n"),d=a.stack.split("\n"),w=c.length-1,y=d.length-1;1<=w&&0<=y&&c[w]!==d[y];)y--;for(;1<=w&&0<=y;w--,y--)if(c[w]!==d[y]){if(w!==1||y!==1)do if(w--,y--,0>y||c[w]!==d[y]){var R="\n"+c[w].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=w&&0<=y);break}}}finally{Ba=!1,Error.prepareStackTrace=s}return(n=n?n.displayName||n.name:"")?wi(n):""}l(Ua,"cc");var cy=Object.prototype.hasOwnProperty,Ga=[],xo=-1;function fr(n){return{current:n}}l(fr,"gc");function je(n){0>xo||(n.current=Ga[xo],Ga[xo]=null,xo--)}l(je,"x");function Le(n,r){xo++,Ga[xo]=n.current,n.current=r}l(Le,"y");var mr={},yt=fr(mr),zt=fr(!1),jr=mr;function Po(n,r){var s=n.type.contextTypes;if(!s)return mr;var a=n.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=r[d];return a&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=c),c}l(Po,"jc");function jt(n){return n=n.childContextTypes,n!=null}l(jt,"C");function Fs(){je(zt),je(yt)}l(Fs,"kc");function Mm(n,r,s){if(yt.current!==mr)throw Error(h(168));Le(yt,r),Le(zt,s)}l(Mm,"lc");function Tm(n,r,s){var a=n.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in r))throw Error(h(108,$(n)||"Unknown",c));return p({},s,a)}l(Tm,"mc");function Bs(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||mr,jr=yt.current,Le(yt,n),Le(zt,zt.current),!0}l(Bs,"nc");function Lm(n,r,s){var a=n.stateNode;if(!a)throw Error(h(169));s?(n=Tm(n,r,jr),a.__reactInternalMemoizedMergedChildContext=n,je(zt),je(yt),Le(yt,n)):je(zt),Le(zt,s)}l(Lm,"oc");var vn=Math.clz32?Math.clz32:hy,py=Math.log,dy=Math.LN2;function hy(n){return n>>>=0,n===0?32:31-(py(n)/dy|0)|0}l(hy,"pc");var Us=64,Gs=4194304;function bi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}l(bi,"vc");function Ks(n,r){var s=n.pendingLanes;if(s===0)return 0;var a=0,c=n.suspendedLanes,d=n.pingedLanes,w=s&268435455;if(w!==0){var y=w&~c;y!==0?a=bi(y):(d&=w,d!==0&&(a=bi(d)))}else w=s&~c,w!==0?a=bi(w):d!==0&&(a=bi(d));if(a===0)return 0;if(r!==0&&r!==a&&!(r&c)&&(c=a&-a,d=r&-r,c>=d||c===16&&(d&4194240)!==0))return r;if(a&4&&(a|=s&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=a;0<r;)s=31-vn(r),c=1<<s,a|=n[s],r&=~c;return a}l(Ks,"wc");function fy(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}l(fy,"xc");function my(n,r){for(var s=n.suspendedLanes,a=n.pingedLanes,c=n.expirationTimes,d=n.pendingLanes;0<d;){var w=31-vn(d),y=1<<w,R=c[w];R===-1?(!(y&s)||y&a)&&(c[w]=fy(y,r)):R<=r&&(n.expiredLanes|=y),d&=~y}}l(my,"yc");function Ka(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}l(Ka,"zc");function Wa(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}l(Wa,"Ac");function yi(n,r,s){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-vn(r),n[r]=s}l(yi,"Bc");function vy(n,r){var s=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var a=n.eventTimes;for(n=n.expirationTimes;0<s;){var c=31-vn(s),d=1<<c;r[c]=0,a[c]=-1,n[c]=-1,s&=~d}}l(vy,"Cc");function Ya(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var a=31-vn(s),c=1<<a;c&r|n[a]&r&&(n[a]|=r),s&=~c}}l(Ya,"Dc");var ge=0;function Om(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}l(Om,"Ec");var Xa=u.unstable_scheduleCallback,Dm=u.unstable_cancelCallback,gy=u.unstable_shouldYield,wy=u.unstable_requestPaint,dt=u.unstable_now,qa=u.unstable_ImmediatePriority,by=u.unstable_UserBlockingPriority,Qa=u.unstable_NormalPriority,yy=u.unstable_IdlePriority,Ws=null,Sn=null;function _y(n){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Ws,n,void 0,(n.current.flags&128)===128)}catch(r){}}l(_y,"Pc");function xy(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}l(xy,"Qc");var En=typeof Object.is=="function"?Object.is:xy,Fn=null,Ys=!1,Za=!1;function Am(n){Fn===null?Fn=[n]:Fn.push(n)}l(Am,"Vc");function Py(n){Ys=!0,Am(n)}l(Py,"Wc");function Cn(){if(!Za&&Fn!==null){Za=!0;var n=0,r=ge;try{var s=Fn;for(ge=1;n<s.length;n++){var a=s[n];do a=a(!0);while(a!==null)}Fn=null,Ys=!1}catch(c){throw Fn!==null&&(Fn=Fn.slice(n+1)),Xa(qa,Cn),c}finally{ge=r,Za=!1}}return null}l(Cn,"Xc");var Sy=m.ReactCurrentBatchConfig;function Xs(n,r){if(En(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),a=Object.keys(r);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!cy.call(r,c)||!En(n[c],r[c]))return!1}return!0}l(Xs,"Zc");function Ey(n){switch(n.tag){case 5:return wi(n.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 2:case 15:return n=Ua(n.type,!1),n;case 11:return n=Ua(n.type.render,!1),n;case 1:return n=Ua(n.type,!0),n;default:return""}}l(Ey,"$c");function gn(n,r){if(n&&n.defaultProps){r=p({},r),n=n.defaultProps;for(var s in n)r[s]===void 0&&(r[s]=n[s]);return r}return r}l(gn,"ad");var qs=fr(null),Qs=null,So=null,Ja=null;function $a(){Ja=So=Qs=null}l($a,"fd");function zm(n,r,s){rt?(Le(qs,r._currentValue),r._currentValue=s):(Le(qs,r._currentValue2),r._currentValue2=s)}l(zm,"gd");function eu(n){var r=qs.current;je(qs),rt?n._currentValue=r:n._currentValue2=r}l(eu,"hd");function tu(n,r,s){for(;n!==null;){var a=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),n===s)break;n=n.return}}l(tu,"id");function Eo(n,r){Qs=n,Ja=So=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&r&&(Yt=!0),n.firstContext=null)}l(Eo,"jd");function en(n){var r=rt?n._currentValue:n._currentValue2;if(Ja!==n)if(n={context:n,memoizedValue:r,next:null},So===null){if(Qs===null)throw Error(h(308));So=n,Qs.dependencies={lanes:0,firstContext:n}}else So=So.next=n;return r}l(en,"ld");var kn=null,vr=!1;function nu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}l(nu,"od");function jm(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}l(jm,"pd");function Bn(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}l(Bn,"qd");function gr(n,r){var s=n.updateQueue;s!==null&&(s=s.shared,it!==null&&n.mode&1&&!(ae&2)?(n=s.interleaved,n===null?(r.next=r,kn===null?kn=[s]:kn.push(s)):(r.next=n.next,n.next=r),s.interleaved=r):(n=s.pending,n===null?r.next=r:(r.next=n.next,n.next=r),s.pending=r))}l(gr,"rd");function Zs(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var a=r.lanes;a&=n.pendingLanes,s|=a,r.lanes=s,Ya(n,s)}}l(Zs,"sd");function Nm(n,r){var s=n.updateQueue,a=n.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var w={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=w:d=d.next=w,s=s.next}while(s!==null);d===null?c=d=r:d=d.next=r}else c=d=r;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}l(Nm,"td");function Js(n,r,s,a){var c=n.updateQueue;vr=!1;var d=c.firstBaseUpdate,w=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var R=y,N=R.next;R.next=null,w===null?d=N:w.next=N,w=R;var W=n.alternate;W!==null&&(W=W.updateQueue,y=W.lastBaseUpdate,y!==w&&(y===null?W.firstBaseUpdate=N:y.next=N,W.lastBaseUpdate=R))}if(d!==null){var ie=c.baseState;w=0,W=N=R=null,y=d;do{var J=y.lane,Te=y.eventTime;if((a&J)===J){W!==null&&(W=W.next={eventTime:Te,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Q=n,St=y;switch(J=r,Te=s,St.tag){case 1:if(Q=St.payload,typeof Q=="function"){ie=Q.call(Te,ie,J);break e}ie=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=St.payload,J=typeof Q=="function"?Q.call(Te,ie,J):Q,J==null)break e;ie=p({},ie,J);break e;case 2:vr=!0}}y.callback!==null&&y.lane!==0&&(n.flags|=64,J=c.effects,J===null?c.effects=[y]:J.push(y))}else Te={eventTime:Te,lane:J,tag:y.tag,payload:y.payload,callback:y.callback,next:null},W===null?(N=W=Te,R=ie):W=W.next=Te,w|=J;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;J=y,y=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);if(W===null&&(R=ie),c.baseState=R,c.firstBaseUpdate=N,c.lastBaseUpdate=W,r=c.shared.interleaved,r!==null){c=r;do w|=c.lane,c=c.next;while(c!==r)}else d===null&&(c.shared.lanes=0);Ao|=w,n.lanes=w,n.memoizedState=ie}}l(Js,"ud");function Im(n,r,s){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var a=n[r],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(h(191,c));c.call(a)}}}l(Im,"wd");var Vm=new i.Component().refs;function ru(n,r,s,a){r=n.memoizedState,s=s(a,r),s=s==null?r:p({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}l(ru,"yd");var $s={isMounted:function(n){return(n=n._reactInternals)?H(n)===n:!1},enqueueSetState:function(n,r,s){n=n._reactInternals;var a=Mt(),c=yr(n),d=Bn(a,c);d.payload=r,s!=null&&(d.callback=s),gr(n,d),r=sn(n,c,a),r!==null&&Zs(r,n,c)},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var a=Mt(),c=yr(n),d=Bn(a,c);d.tag=1,d.payload=r,s!=null&&(d.callback=s),gr(n,d),r=sn(n,c,a),r!==null&&Zs(r,n,c)},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=Mt(),a=yr(n),c=Bn(s,a);c.tag=2,r!=null&&(c.callback=r),gr(n,c),r=sn(n,a,s),r!==null&&Zs(r,n,a)}};function Hm(n,r,s,a,c,d,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(a,d,w):r.prototype&&r.prototype.isPureReactComponent?!Xs(s,a)||!Xs(c,d):!0}l(Hm,"Cd");function Fm(n,r,s){var a=!1,c=mr,d=r.contextType;return typeof d=="object"&&d!==null?d=en(d):(c=jt(r)?jr:yt.current,a=r.contextTypes,d=(a=a!=null)?Po(n,c):mr),r=new r(s,d),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=$s,n.stateNode=r,r._reactInternals=n,a&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=c,n.__reactInternalMemoizedMaskedChildContext=d),r}l(Fm,"Dd");function Bm(n,r,s,a){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,a),r.state!==n&&$s.enqueueReplaceState(r,r.state,null)}l(Bm,"Ed");function ou(n,r,s,a){var c=n.stateNode;c.props=s,c.state=n.memoizedState,c.refs=Vm,nu(n);var d=r.contextType;typeof d=="object"&&d!==null?c.context=en(d):(d=jt(r)?jr:yt.current,c.context=Po(n,d)),c.state=n.memoizedState,d=r.getDerivedStateFromProps,typeof d=="function"&&(ru(n,r,d,s),c.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&$s.enqueueReplaceState(c,c.state,null),Js(n,s,c,a),c.state=n.memoizedState),typeof c.componentDidMount=="function"&&(n.flags|=4194308)}l(ou,"Fd");var Co=[],ko=0,el=null,tl=0,tn=[],nn=0,Nr=null,Un=1,Gn="";function Ir(n,r){Co[ko++]=tl,Co[ko++]=el,el=n,tl=r}l(Ir,"Pd");function Um(n,r,s){tn[nn++]=Un,tn[nn++]=Gn,tn[nn++]=Nr,Nr=n;var a=Un;n=Gn;var c=32-vn(a)-1;a&=~(1<<c),s+=1;var d=32-vn(r)+c;if(30<d){var w=c-c%5;d=(a&(1<<w)-1).toString(32),a>>=w,c-=w,Un=1<<32-vn(r)+c|s<<c|a,Gn=d+n}else Un=1<<d|s<<c|a,Gn=n}l(Um,"Qd");function iu(n){n.return!==null&&(Ir(n,1),Um(n,1,0))}l(iu,"Rd");function su(n){for(;n===el;)el=Co[--ko],Co[ko]=null,tl=Co[--ko],Co[ko]=null;for(;n===Nr;)Nr=tn[--nn],tn[nn]=null,Gn=tn[--nn],tn[nn]=null,Un=tn[--nn],tn[nn]=null}l(su,"Sd");var Kt=null,Wt=null,Ve=!1,_i=!1,wn=null;function Gm(n,r){var s=ln(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=n,r=n.deletions,r===null?(n.deletions=[s],n.flags|=16):r.push(s)}l(Gm,"Xd");function Km(n,r){switch(n.tag){case 5:return r=_o(r,n.type,n.pendingProps),r!==null?(n.stateNode=r,Kt=n,Wt=Zb(r),!0):!1;case 6:return r=Xb(r,n.pendingProps),r!==null?(n.stateNode=r,Kt=n,Wt=null,!0):!1;case 13:if(r=qb(r),r!==null){var s=Nr!==null?{id:Un,overflow:Gn}:null;return n.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=ln(18,null,null,0),s.stateNode=r,s.return=n,n.child=s,Kt=n,Wt=null,!0}return!1;default:return!1}}l(Km,"Zd");function lu(n){return(n.mode&1)!==0&&(n.flags&128)===0}l(lu,"$d");function au(n){if(Ve){var r=Wt;if(r){var s=r;if(!Km(n,r)){if(lu(n))throw Error(h(418));r=gi(s);var a=Kt;r&&Km(n,r)?Gm(a,s):(n.flags=n.flags&-4097|2,Ve=!1,Kt=n)}}else{if(lu(n))throw Error(h(418));n.flags=n.flags&-4097|2,Ve=!1,Kt=n}}}l(au,"ae");function Wm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Kt=n}l(Wm,"be");function xi(n){if(!ke||n!==Kt)return!1;if(!Ve)return Wm(n),Ve=!0,!1;if(n.tag!==3&&(n.tag!==5||ly(n.type)&&!de(n.type,n.memoizedProps))){var r=Wt;if(r){if(lu(n)){for(n=Wt;n;)n=gi(n);throw Error(h(418))}for(;r;)Gm(n,r),r=gi(r)}}if(Wm(n),n.tag===13){if(!ke)throw Error(h(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(h(317));Wt=ry(n)}else Wt=Kt?gi(n.stateNode):null;return!0}l(xi,"ce");function Ro(){ke&&(Wt=Kt=null,_i=Ve=!1)}l(Ro,"de");function uu(n){wn===null?wn=[n]:wn.push(n)}l(uu,"ee");function Pi(n,r,s){if(n=s.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(h(309));var a=s.stateNode}if(!a)throw Error(h(147,n));var c=a,d=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===d?r.ref:(r=l(function(w){var y=c.refs;y===Vm&&(y=c.refs={}),w===null?delete y[d]:y[d]=w},"b"),r._stringRef=d,r)}if(typeof n!="string")throw Error(h(284));if(!s._owner)throw Error(h(290,n))}return n}l(Pi,"fe");function nl(n,r){throw n=Object.prototype.toString.call(r),Error(h(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}l(nl,"ge");function Ym(n){var r=n._init;return r(n._payload)}l(Ym,"he");function Xm(n){function r(S,_){if(n){var E=S.deletions;E===null?(S.deletions=[_],S.flags|=16):E.push(_)}}l(r,"b");function s(S,_){if(!n)return null;for(;_!==null;)r(S,_),_=_.sibling;return null}l(s,"c");function a(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}l(a,"d");function c(S,_){return S=xr(S,_),S.index=0,S.sibling=null,S}l(c,"e");function d(S,_,E){return S.index=E,n?(E=S.alternate,E!==null?(E=E.index,E<_?(S.flags|=2,_):E):(S.flags|=2,_)):(S.flags|=1048576,_)}l(d,"f");function w(S){return n&&S.alternate===null&&(S.flags|=2),S}l(w,"g");function y(S,_,E,U){return _===null||_.tag!==6?(_=Wu(E,S.mode,U),_.return=S,_):(_=c(_,E),_.return=S,_)}l(y,"h");function R(S,_,E,U){var X=E.type;return X===f?W(S,_,E.props.children,U,E.key):_!==null&&(_.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===O&&Ym(X)===_.type)?(U=c(_,E.props),U.ref=Pi(S,_,E),U.return=S,U):(U=Dl(E.type,E.key,E.props,null,S.mode,U),U.ref=Pi(S,_,E),U.return=S,U)}l(R,"k");function N(S,_,E,U){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Yu(E,S.mode,U),_.return=S,_):(_=c(_,E.children||[]),_.return=S,_)}l(N,"l");function W(S,_,E,U,X){return _===null||_.tag!==7?(_=Kr(E,S.mode,U,X),_.return=S,_):(_=c(_,E),_.return=S,_)}l(W,"m");function ie(S,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Wu(""+_,S.mode,E),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case g:return E=Dl(_.type,_.key,_.props,null,S.mode,E),E.ref=Pi(S,null,_),E.return=S,E;case b:return _=Yu(_,S.mode,E),_.return=S,_;case O:var U=_._init;return ie(S,U(_._payload),E)}if(Ge(_)||G(_))return _=Kr(_,S.mode,E,null),_.return=S,_;nl(S,_)}return null}l(ie,"v");function J(S,_,E,U){var X=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return X!==null?null:y(S,_,""+E,U);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case g:return E.key===X?R(S,_,E,U):null;case b:return E.key===X?N(S,_,E,U):null;case O:return X=E._init,J(S,_,X(E._payload),U)}if(Ge(E)||G(E))return X!==null?null:W(S,_,E,U,null);nl(S,E)}return null}l(J,"r");function Te(S,_,E,U,X){if(typeof U=="string"&&U!==""||typeof U=="number")return S=S.get(E)||null,y(_,S,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case g:return S=S.get(U.key===null?E:U.key)||null,R(_,S,U,X);case b:return S=S.get(U.key===null?E:U.key)||null,N(_,S,U,X);case O:var le=U._init;return Te(S,_,E,le(U._payload),X)}if(Ge(U)||G(U))return S=S.get(E)||null,W(_,S,U,X,null);nl(_,U)}return null}l(Te,"z");function Q(S,_,E,U){for(var X=null,le=null,se=_,we=_=0,ft=null;se!==null&&we<E.length;we++){se.index>we?(ft=se,se=null):ft=se.sibling;var be=J(S,se,E[we],U);if(be===null){se===null&&(se=ft);break}n&&se&&be.alternate===null&&r(S,se),_=d(be,_,we),le===null?X=be:le.sibling=be,le=be,se=ft}if(we===E.length)return s(S,se),Ve&&Ir(S,we),X;if(se===null){for(;we<E.length;we++)se=ie(S,E[we],U),se!==null&&(_=d(se,_,we),le===null?X=se:le.sibling=se,le=se);return Ve&&Ir(S,we),X}for(se=a(S,se);we<E.length;we++)ft=Te(se,S,we,E[we],U),ft!==null&&(n&&ft.alternate!==null&&se.delete(ft.key===null?we:ft.key),_=d(ft,_,we),le===null?X=ft:le.sibling=ft,le=ft);return n&&se.forEach(function(Pr){return r(S,Pr)}),Ve&&Ir(S,we),X}l(Q,"q");function St(S,_,E,U){var X=G(E);if(typeof X!="function")throw Error(h(150));if(E=X.call(E),E==null)throw Error(h(151));for(var le=X=null,se=_,we=_=0,ft=null,be=E.next();se!==null&&!be.done;we++,be=E.next()){se.index>we?(ft=se,se=null):ft=se.sibling;var Pr=J(S,se,be.value,U);if(Pr===null){se===null&&(se=ft);break}n&&se&&Pr.alternate===null&&r(S,se),_=d(Pr,_,we),le===null?X=Pr:le.sibling=Pr,le=Pr,se=ft}if(be.done)return s(S,se),Ve&&Ir(S,we),X;if(se===null){for(;!be.done;we++,be=E.next())be=ie(S,be.value,U),be!==null&&(_=d(be,_,we),le===null?X=be:le.sibling=be,le=be);return Ve&&Ir(S,we),X}for(se=a(S,se);!be.done;we++,be=E.next())be=Te(se,S,we,be.value,U),be!==null&&(n&&be.alternate!==null&&se.delete(be.key===null?we:be.key),_=d(be,_,we),le===null?X=be:le.sibling=be,le=be);return n&&se.forEach(function(t_){return r(S,t_)}),Ve&&Ir(S,we),X}l(St,"N");function an(S,_,E,U){if(typeof E=="object"&&E!==null&&E.type===f&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case g:e:{for(var X=E.key,le=_;le!==null;){if(le.key===X){if(X=E.type,X===f){if(le.tag===7){s(S,le.sibling),_=c(le,E.props.children),_.return=S,S=_;break e}}else if(le.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===O&&Ym(X)===le.type){s(S,le.sibling),_=c(le,E.props),_.ref=Pi(S,le,E),_.return=S,S=_;break e}s(S,le);break}else r(S,le);le=le.sibling}E.type===f?(_=Kr(E.props.children,S.mode,U,E.key),_.return=S,S=_):(U=Dl(E.type,E.key,E.props,null,S.mode,U),U.ref=Pi(S,_,E),U.return=S,S=U)}return w(S);case b:e:{for(le=E.key;_!==null;){if(_.key===le)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){s(S,_.sibling),_=c(_,E.children||[]),_.return=S,S=_;break e}else{s(S,_);break}else r(S,_);_=_.sibling}_=Yu(E,S.mode,U),_.return=S,S=_}return w(S);case O:return le=E._init,an(S,_,le(E._payload),U)}if(Ge(E))return Q(S,_,E,U);if(G(E))return St(S,_,E,U);nl(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(s(S,_.sibling),_=c(_,E),_.return=S,S=_):(s(S,_),_=Wu(E,S.mode,U),_.return=S,S=_),w(S)):s(S,_)}return l(an,"da"),an}l(Xm,"ie");var Mo=Xm(!0),qm=Xm(!1),Si={},rn=fr(Si),Ei=fr(Si),To=fr(Si);function Rn(n){if(n===Si)throw Error(h(174));return n}l(Rn,"ue");function cu(n,r){Le(To,r),Le(Ei,n),Le(rn,Si),n=pe(r),je(rn),Le(rn,n)}l(cu,"ve");function Lo(){je(rn),je(Ei),je(To)}l(Lo,"we");function Qm(n){var r=Rn(To.current),s=Rn(rn.current);r=Y(s,n.type,r),s!==r&&(Le(Ei,n),Le(rn,r))}l(Qm,"xe");function pu(n){Ei.current===n&&(je(rn),je(Ei))}l(pu,"ye");var Xe=fr(0);function rl(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||km(s)||Ha(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}l(rl,"ze");var du=[];function hu(){for(var n=0;n<du.length;n++){var r=du[n];rt?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}du.length=0}l(hu,"Be");var ol=m.ReactCurrentDispatcher,on=m.ReactCurrentBatchConfig,Oo=0,Qe=null,_t=null,ht=null,il=!1,Ci=!1,ki=0,Cy=0;function xt(){throw Error(h(321))}l(xt,"O");function fu(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!En(n[s],r[s]))return!1;return!0}l(fu,"Je");function mu(n,r,s,a,c,d){if(Oo=d,Qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ol.current=n===null||n.memoizedState===null?Ty:Ly,n=s(a,c),Ci){d=0;do{if(Ci=!1,ki=0,25<=d)throw Error(h(301));d+=1,ht=_t=null,r.updateQueue=null,ol.current=Oy,n=s(a,c)}while(Ci)}if(ol.current=cl,r=_t!==null&&_t.next!==null,Oo=0,ht=_t=Qe=null,il=!1,r)throw Error(h(300));return n}l(mu,"Ke");function vu(){var n=ki!==0;return ki=0,n}l(vu,"Pe");function Kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Qe.memoizedState=ht=n:ht=ht.next=n,ht}l(Kn,"Qe");function Mn(){if(_t===null){var n=Qe.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var r=ht===null?Qe.memoizedState:ht.next;if(r!==null)ht=r,_t=n;else{if(n===null)throw Error(h(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},ht===null?Qe.memoizedState=ht=n:ht=ht.next=n}return ht}l(Mn,"Re");function Vr(n,r){return typeof r=="function"?r(n):r}l(Vr,"Se");function sl(n){var r=Mn(),s=r.queue;if(s===null)throw Error(h(311));s.lastRenderedReducer=n;var a=_t,c=a.baseQueue,d=s.pending;if(d!==null){if(c!==null){var w=c.next;c.next=d.next,d.next=w}a.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,a=a.baseState;var y=w=null,R=null,N=d;do{var W=N.lane;if((Oo&W)===W)R!==null&&(R=R.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),a=N.hasEagerState?N.eagerState:n(a,N.action);else{var ie={lane:W,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};R===null?(y=R=ie,w=a):R=R.next=ie,Qe.lanes|=W,Ao|=W}N=N.next}while(N!==null&&N!==d);R===null?w=a:R.next=y,En(a,r.memoizedState)||(Yt=!0),r.memoizedState=a,r.baseState=w,r.baseQueue=R,s.lastRenderedState=a}if(n=s.interleaved,n!==null){c=n;do d=c.lane,Qe.lanes|=d,Ao|=d,c=c.next;while(c!==n)}else c===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}l(sl,"Te");function ll(n){var r=Mn(),s=r.queue;if(s===null)throw Error(h(311));s.lastRenderedReducer=n;var a=s.dispatch,c=s.pending,d=r.memoizedState;if(c!==null){s.pending=null;var w=c=c.next;do d=n(d,w.action),w=w.next;while(w!==c);En(d,r.memoizedState)||(Yt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,a]}l(ll,"Ue");function Zm(){}l(Zm,"Ve");function Jm(n,r){var s=Qe,a=Mn(),c=r(),d=!En(a.memoizedState,c);if(d&&(a.memoizedState=c,Yt=!0),a=a.queue,Mi(tv.bind(null,s,a,n),[n]),a.getSnapshot!==r||d||ht!==null&&ht.memoizedState.tag&1){if(s.flags|=2048,Ri(9,ev.bind(null,s,a,c,r),void 0,null),it===null)throw Error(h(349));Oo&30||$m(s,r,c)}return c}l(Jm,"We");function $m(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}l($m,"af");function ev(n,r,s,a){r.value=s,r.getSnapshot=a,nv(r)&&sn(n,1,-1)}l(ev,"$e");function tv(n,r,s){return s(function(){nv(r)&&sn(n,1,-1)})}l(tv,"Ye");function nv(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!En(n,s)}catch(a){return!0}}l(nv,"bf");function gu(n){var r=Kn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:n},r.queue=n,n=n.dispatch=My.bind(null,Qe,n),[r.memoizedState,n]}l(gu,"cf");function Ri(n,r,s,a){return n={tag:n,create:r,destroy:s,deps:a,next:null},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.lastEffect=n.next=n):(s=r.lastEffect,s===null?r.lastEffect=n.next=n:(a=s.next,s.next=n,n.next=a,r.lastEffect=n)),n}l(Ri,"Ze");function rv(){return Mn().memoizedState}l(rv,"ef");function al(n,r,s,a){var c=Kn();Qe.flags|=n,c.memoizedState=Ri(1|r,s,void 0,a===void 0?null:a)}l(al,"ff");function ul(n,r,s,a){var c=Mn();a=a===void 0?null:a;var d=void 0;if(_t!==null){var w=_t.memoizedState;if(d=w.destroy,a!==null&&fu(a,w.deps)){c.memoizedState=Ri(r,s,d,a);return}}Qe.flags|=n,c.memoizedState=Ri(1|r,s,d,a)}l(ul,"gf");function wu(n,r){return al(8390656,8,n,r)}l(wu,"hf");function Mi(n,r){return ul(2048,8,n,r)}l(Mi,"Xe");function ov(n,r){return ul(4,2,n,r)}l(ov,"jf");function iv(n,r){return ul(4,4,n,r)}l(iv,"kf");function sv(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}l(sv,"lf");function lv(n,r,s){return s=s!=null?s.concat([n]):null,ul(4,4,sv.bind(null,r,n),s)}l(lv,"mf");function bu(){}l(bu,"nf");function av(n,r){var s=Mn();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&fu(r,a[1])?a[0]:(s.memoizedState=[n,r],n)}l(av,"of");function uv(n,r){var s=Mn();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&fu(r,a[1])?a[0]:(n=n(),s.memoizedState=[n,r],n)}l(uv,"pf");function ky(n,r){var s=ge;ge=s!==0&&4>s?s:4,n(!0);var a=on.transition;on.transition={};try{n(!1),r()}finally{ge=s,on.transition=a}}l(ky,"qf");function cv(){return Mn().memoizedState}l(cv,"rf");function Ry(n,r,s){var a=yr(n);s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},pv(n)?dv(r,s):(hv(n,r,s),s=Mt(),n=sn(n,a,s),n!==null&&fv(n,r,a))}l(Ry,"sf");function My(n,r,s){var a=yr(n),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(pv(n))dv(r,c);else{hv(n,r,c);var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var w=r.lastRenderedState,y=d(w,s);if(c.hasEagerState=!0,c.eagerState=y,En(y,w))return}catch(R){}finally{}s=Mt(),n=sn(n,a,s),n!==null&&fv(n,r,a)}}l(My,"df");function pv(n){var r=n.alternate;return n===Qe||r!==null&&r===Qe}l(pv,"tf");function dv(n,r){Ci=il=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}l(dv,"uf");function hv(n,r,s){it!==null&&n.mode&1&&!(ae&2)?(n=r.interleaved,n===null?(s.next=s,kn===null?kn=[r]:kn.push(r)):(s.next=n.next,n.next=s),r.interleaved=s):(n=r.pending,n===null?s.next=s:(s.next=n.next,n.next=s),r.pending=s)}l(hv,"vf");function fv(n,r,s){if(s&4194240){var a=r.lanes;a&=n.pendingLanes,s|=a,r.lanes=s,Ya(n,s)}}l(fv,"wf");var cl={readContext:en,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Ty={readContext:en,useCallback:function(n,r){return Kn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:wu,useImperativeHandle:function(n,r,s){return s=s!=null?s.concat([n]):null,al(4194308,4,sv.bind(null,r,n),s)},useLayoutEffect:function(n,r){return al(4194308,4,n,r)},useInsertionEffect:function(n,r){return al(4,2,n,r)},useMemo:function(n,r){var s=Kn();return r=r===void 0?null:r,n=n(),s.memoizedState=[n,r],n},useReducer:function(n,r,s){var a=Kn();return r=s!==void 0?s(r):r,a.memoizedState=a.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},a.queue=n,n=n.dispatch=Ry.bind(null,Qe,n),[a.memoizedState,n]},useRef:function(n){var r=Kn();return n={current:n},r.memoizedState=n},useState:gu,useDebugValue:bu,useDeferredValue:function(n){var r=gu(n),s=r[0],a=r[1];return wu(function(){var c=on.transition;on.transition={};try{a(n)}finally{on.transition=c}},[n]),s},useTransition:function(){var n=gu(!1),r=n[0];return n=ky.bind(null,n[1]),Kn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,s){var a=Qe,c=Kn();if(Ve){if(s===void 0)throw Error(h(407));s=s()}else{if(s=r(),it===null)throw Error(h(349));Oo&30||$m(a,r,s)}c.memoizedState=s;var d={value:s,getSnapshot:r};return c.queue=d,wu(tv.bind(null,a,d,n),[n]),a.flags|=2048,Ri(9,ev.bind(null,a,d,s,r),void 0,null),s},useId:function(){var n=Kn(),r=it.identifierPrefix;if(Ve){var s=Gn,a=Un;s=(a&~(1<<32-vn(a)-1)).toString(32)+s,r=":"+r+"R"+s,s=ki++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=Cy++,r=":"+r+"r"+s.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Ly={readContext:en,useCallback:av,useContext:en,useEffect:Mi,useImperativeHandle:lv,useInsertionEffect:ov,useLayoutEffect:iv,useMemo:uv,useReducer:sl,useRef:rv,useState:function(){return sl(Vr)},useDebugValue:bu,useDeferredValue:function(n){var r=sl(Vr),s=r[0],a=r[1];return Mi(function(){var c=on.transition;on.transition={};try{a(n)}finally{on.transition=c}},[n]),s},useTransition:function(){var n=sl(Vr)[0],r=Mn().memoizedState;return[n,r]},useMutableSource:Zm,useSyncExternalStore:Jm,useId:cv,unstable_isNewReconciler:!1},Oy={readContext:en,useCallback:av,useContext:en,useEffect:Mi,useImperativeHandle:lv,useInsertionEffect:ov,useLayoutEffect:iv,useMemo:uv,useReducer:ll,useRef:rv,useState:function(){return ll(Vr)},useDebugValue:bu,useDeferredValue:function(n){var r=ll(Vr),s=r[0],a=r[1];return Mi(function(){var c=on.transition;on.transition={};try{a(n)}finally{on.transition=c}},[n]),s},useTransition:function(){var n=ll(Vr)[0],r=Mn().memoizedState;return[n,r]},useMutableSource:Zm,useSyncExternalStore:Jm,useId:cv,unstable_isNewReconciler:!1};function yu(n,r){try{var s="",a=r;do s+=Ey(a),a=a.return;while(a);var c=s}catch(d){c="\nError generating stack: "+d.message+"\n"+d.stack}return{value:n,source:r,stack:c}}l(yu,"xf");function _u(n,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}l(_u,"yf");var Dy=typeof WeakMap=="function"?WeakMap:Map;function mv(n,r,s){s=Bn(-1,s),s.tag=3,s.payload={element:null};var a=r.value;return s.callback=function(){Cl||(Cl=!0,Vu=a),_u(n,r)},s}l(mv,"Af");function vv(n,r,s){s=Bn(-1,s),s.tag=3;var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var c=r.value;s.payload=function(){return a(c)},s.callback=function(){_u(n,r)}}var d=n.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){_u(n,r),typeof a!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),s}l(vv,"Df");function gv(n,r,s){var a=n.pingCache;if(a===null){a=n.pingCache=new Dy;var c=new Set;a.set(r,c)}else c=a.get(r),c===void 0&&(c=new Set,a.set(r,c));c.has(s)||(c.add(s),n=Yy.bind(null,n,r,s),r.then(n,n))}l(gv,"Ff");function wv(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}l(wv,"Hf");function bv(n,r,s,a,c){return n.mode&1?(n.flags|=65536,n.lanes=c,n):(n===r?n.flags|=65536:(n.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=Bn(-1,1),r.tag=2,gr(s,r))),s.lanes|=1),n)}l(bv,"If");function Tn(n){n.flags|=4}l(Tn,"Jf");function yv(n,r){if(n!==null&&n.child===r.child)return!0;if(r.flags&16)return!1;for(n=r.child;n!==null;){if(n.flags&12854||n.subtreeFlags&12854)return!1;n=n.sibling}return!0}l(yv,"Kf");var Ti,Li,pl,dl;if(We)Ti=l(function(n,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)gt(n,s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},"Lf"),Li=l(function(){},"Mf"),pl=l(function(n,r,s,a,c){if(n=n.memoizedProps,n!==a){var d=r.stateNode,w=Rn(rn.current);s=at(d,s,n,a,c,w),(r.updateQueue=s)&&Tn(r)}},"Nf"),dl=l(function(n,r,s,a){s!==a&&Tn(r)},"Of");else if(Ye){Ti=l(function(n,r,s,a){for(var c=r.child;c!==null;){if(c.tag===5){var d=c.stateNode;s&&a&&(d=dr(d,c.type,c.memoizedProps,c)),gt(n,d)}else if(c.tag===6)d=c.stateNode,s&&a&&(d=hr(d,c.memoizedProps,c)),gt(n,d);else if(c.tag!==4){if(c.tag===22&&c.memoizedState!==null)d=c.child,d!==null&&(d.return=c),Ti(n,c,!0,!0);else if(c.child!==null){c.child.return=c,c=c.child;continue}}if(c===r)break;for(;c.sibling===null;){if(c.return===null||c.return===r)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},"Lf");var _v=l(function(n,r,s,a){for(var c=r.child;c!==null;){if(c.tag===5){var d=c.stateNode;s&&a&&(d=dr(d,c.type,c.memoizedProps,c)),$t(n,d)}else if(c.tag===6)d=c.stateNode,s&&a&&(d=hr(d,c.memoizedProps,c)),$t(n,d);else if(c.tag!==4){if(c.tag===22&&c.memoizedState!==null)d=c.child,d!==null&&(d.return=c),_v(n,c,!0,!0);else if(c.child!==null){c.child.return=c,c=c.child;continue}}if(c===r)break;for(;c.sibling===null;){if(c.return===null||c.return===r)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},"Pf");Li=l(function(n,r){var s=r.stateNode;if(!yv(n,r)){n=s.containerInfo;var a=vi(n);_v(a,r,!1,!1),s.pendingChildren=a,Tn(r),mn(n,a)}},"Mf"),pl=l(function(n,r,s,a,c){var d=n.stateNode,w=n.memoizedProps;if((n=yv(n,r))&&w===a)r.stateNode=d;else{var y=r.stateNode,R=Rn(rn.current),N=null;w!==a&&(N=at(y,s,w,a,c,R)),n&&N===null?r.stateNode=d:(d=Cm(d,N,s,w,a,r,n,y),Z(d,s,a,c,R)&&Tn(r),r.stateNode=d,n?Tn(r):Ti(d,r,!1,!1))}},"Nf"),dl=l(function(n,r,s,a){s!==a?(n=Rn(To.current),s=Rn(rn.current),r.stateNode=ze(a,n,s,r),Tn(r)):r.stateNode=n.stateNode},"Of")}else Li=l(function(){},"Mf"),pl=l(function(){},"Nf"),dl=l(function(){},"Of");function Oi(n,r){if(!Ve)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:a.sibling=null}}l(Oi,"Qf");function Pt(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,a=0;if(r)for(var c=n.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=n,c=c.sibling;else for(c=n.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=n,c=c.sibling;return n.subtreeFlags|=a,n.childLanes=s,r}l(Pt,"P");function Ay(n,r,s){var a=r.pendingProps;switch(su(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(r),null;case 1:return jt(r.type)&&Fs(),Pt(r),null;case 3:return a=r.stateNode,Lo(),je(zt),je(yt),hu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(xi(r)?Tn(r):n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,wn!==null&&(Bu(wn),wn=null))),Li(n,r),Pt(r),null;case 5:pu(r),s=Rn(To.current);var c=r.type;if(n!==null&&r.stateNode!=null)pl(n,r,c,a,s),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(h(166));return Pt(r),null}if(n=Rn(rn.current),xi(r)){if(!ke)throw Error(h(175));n=ey(r.stateNode,r.type,r.memoizedProps,s,n,r,!_i),r.updateQueue=n,n!==null&&Tn(r)}else{var d=Ce(c,a,s,n,r);Ti(d,r,!1,!1),r.stateNode=d,Z(d,c,a,s,n)&&Tn(r)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pt(r),null;case 6:if(n&&r.stateNode!=null)dl(n,r,n.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(h(166));if(n=Rn(To.current),s=Rn(rn.current),xi(r)){if(!ke)throw Error(h(176));if(n=r.stateNode,a=r.memoizedProps,(s=ty(n,a,r,!_i))&&(c=Kt,c!==null))switch(d=(c.mode&1)!==0,c.tag){case 3:ay(c.stateNode.containerInfo,n,a,d);break;case 5:uy(c.type,c.memoizedProps,c.stateNode,n,a,d)}s&&Tn(r)}else r.stateNode=ze(a,n,s,r)}return Pt(r),null;case 13:if(je(Xe),a=r.memoizedState,Ve&&Wt!==null&&r.mode&1&&!(r.flags&128)){for(n=Wt;n;)n=gi(n);return Ro(),r.flags|=98560,r}if(a!==null&&a.dehydrated!==null){if(a=xi(r),n===null){if(!a)throw Error(h(318));if(!ke)throw Error(h(344));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(h(317));ny(n,r)}else Ro(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;return Pt(r),null}return wn!==null&&(Bu(wn),wn=null),r.flags&128?(r.lanes=s,r):(a=a!==null,s=!1,n===null?xi(r):s=n.memoizedState!==null,a&&!s&&(r.child.flags|=8192,r.mode&1&&(n===null||Xe.current&1?ut===0&&(ut=3):Gu())),r.updateQueue!==null&&(r.flags|=4),Pt(r),null);case 4:return Lo(),Li(n,r),n===null&&hn(r.stateNode.containerInfo),Pt(r),null;case 10:return eu(r.type._context),Pt(r),null;case 17:return jt(r.type)&&Fs(),Pt(r),null;case 19:if(je(Xe),c=r.memoizedState,c===null)return Pt(r),null;if(a=(r.flags&128)!==0,d=c.rendering,d===null)if(a)Oi(c,!1);else{if(ut!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(d=rl(n),d!==null){for(r.flags|=128,Oi(c,!1),n=d.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=s,a=r.child;a!==null;)s=a,c=n,s.flags&=14680066,d=s.alternate,d===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,c=d.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a=a.sibling;return Le(Xe,Xe.current&1|2),r.child}n=n.sibling}c.tail!==null&&dt()>Iu&&(r.flags|=128,a=!0,Oi(c,!1),r.lanes=4194304)}else{if(!a)if(n=rl(d),n!==null){if(r.flags|=128,a=!0,n=n.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),Oi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Ve)return Pt(r),null}else 2*dt()-c.renderingStartTime>Iu&&s!==1073741824&&(r.flags|=128,a=!0,Oi(c,!1),r.lanes=4194304);c.isBackwards?(d.sibling=r.child,r.child=d):(n=c.last,n!==null?n.sibling=d:r.child=d,c.last=d)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=dt(),r.sibling=null,n=Xe.current,Le(Xe,a?n&1|2:n&1),r):(Pt(r),null);case 22:case 23:return Uu(),a=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?Xt&1073741824&&(Pt(r),We&&r.subtreeFlags&6&&(r.flags|=8192)):Pt(r),null;case 24:return null;case 25:return null}throw Error(h(156,r.tag))}l(Ay,"Rf");var zy=m.ReactCurrentOwner,Yt=!1;function Rt(n,r,s,a){r.child=n===null?qm(r,null,s,a):Mo(r,n.child,s,a)}l(Rt,"R");function xv(n,r,s,a,c){s=s.render;var d=r.ref;return Eo(r,c),a=mu(n,r,s,a,d,c),s=vu(),n!==null&&!Yt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~c,Wn(n,r,c)):(Ve&&s&&iu(r),r.flags|=1,Rt(n,r,a,c),r.child)}l(xv,"Yf");function Pv(n,r,s,a,c){if(n===null){var d=s.type;return typeof d=="function"&&!Ku(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=d,Sv(n,r,d,a,c)):(n=Dl(s.type,null,a,r,r.mode,c),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!(n.lanes&c)){var w=d.memoizedProps;if(s=s.compare,s=s!==null?s:Xs,s(w,a)&&n.ref===r.ref)return Wn(n,r,c)}return r.flags|=1,n=xr(d,a),n.ref=r.ref,n.return=r,r.child=n}l(Pv,"$f");function Sv(n,r,s,a,c){if(n!==null&&Xs(n.memoizedProps,a)&&n.ref===r.ref)if(Yt=!1,(n.lanes&c)!==0)n.flags&131072&&(Yt=!0);else return r.lanes=n.lanes,Wn(n,r,c);return xu(n,r,s,a,c)}l(Sv,"bg");function Ev(n,r,s){var a=r.pendingProps,c=a.children,d=n!==null?n.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null},Le(Do,Xt),Xt|=s;else if(s&1073741824)r.memoizedState={baseLanes:0,cachePool:null},a=d!==null?d.baseLanes:s,Le(Do,Xt),Xt|=a;else return n=d!==null?d.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null},r.updateQueue=null,Le(Do,Xt),Xt|=n,null;else d!==null?(a=d.baseLanes|s,r.memoizedState=null):a=s,Le(Do,Xt),Xt|=a;return Rt(n,r,c,s),r.child}l(Ev,"dg");function Cv(n,r){var s=r.ref;(n===null&&s!==null||n!==null&&n.ref!==s)&&(r.flags|=512,r.flags|=2097152)}l(Cv,"fg");function xu(n,r,s,a,c){var d=jt(s)?jr:yt.current;return d=Po(r,d),Eo(r,c),s=mu(n,r,s,a,d,c),a=vu(),n!==null&&!Yt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~c,Wn(n,r,c)):(Ve&&a&&iu(r),r.flags|=1,Rt(n,r,s,c),r.child)}l(xu,"cg");function kv(n,r,s,a,c){if(jt(s)){var d=!0;Bs(r)}else d=!1;if(Eo(r,c),r.stateNode===null)n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2),Fm(r,s,a),ou(r,s,a,c),a=!0;else if(n===null){var w=r.stateNode,y=r.memoizedProps;w.props=y;var R=w.context,N=s.contextType;typeof N=="object"&&N!==null?N=en(N):(N=jt(s)?jr:yt.current,N=Po(r,N));var W=s.getDerivedStateFromProps,ie=typeof W=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(y!==a||R!==N)&&Bm(r,w,a,N),vr=!1;var J=r.memoizedState;w.state=J,Js(r,a,w,c),R=r.memoizedState,y!==a||J!==R||zt.current||vr?(typeof W=="function"&&(ru(r,s,W,a),R=r.memoizedState),(y=vr||Hm(r,s,y,a,J,R,N))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=R),w.props=a,w.state=R,w.context=N,a=y):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{w=r.stateNode,jm(n,r),y=r.memoizedProps,N=r.type===r.elementType?y:gn(r.type,y),w.props=N,ie=r.pendingProps,J=w.context,R=s.contextType,typeof R=="object"&&R!==null?R=en(R):(R=jt(s)?jr:yt.current,R=Po(r,R));var Te=s.getDerivedStateFromProps;(W=typeof Te=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(y!==ie||J!==R)&&Bm(r,w,a,R),vr=!1,J=r.memoizedState,w.state=J,Js(r,a,w,c);var Q=r.memoizedState;y!==ie||J!==Q||zt.current||vr?(typeof Te=="function"&&(ru(r,s,Te,a),Q=r.memoizedState),(N=vr||Hm(r,s,N,a,J,Q,R)||!1)?(W||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(a,Q,R),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(a,Q,R)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||y===n.memoizedProps&&J===n.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&J===n.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=Q),w.props=a,w.state=Q,w.context=R,a=N):(typeof w.componentDidUpdate!="function"||y===n.memoizedProps&&J===n.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&J===n.memoizedState||(r.flags|=1024),a=!1)}return Pu(n,r,s,a,d,c)}l(kv,"gg");function Pu(n,r,s,a,c,d){Cv(n,r);var w=(r.flags&128)!==0;if(!a&&!w)return c&&Lm(r,s,!1),Wn(n,r,d);a=r.stateNode,zy.current=r;var y=w&&typeof s.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,n!==null&&w?(r.child=Mo(r,n.child,null,d),r.child=Mo(r,null,y,d)):Rt(n,r,y,d),r.memoizedState=a.state,c&&Lm(r,s,!0),r.child}l(Pu,"hg");function Rv(n){var r=n.stateNode;r.pendingContext?Mm(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Mm(n,r.context,!1),cu(n,r.containerInfo)}l(Rv,"ig");function Mv(n,r,s,a,c){return Ro(),uu(c),r.flags|=256,Rt(n,r,s,a),r.child}l(Mv,"jg");var hl={dehydrated:null,treeContext:null,retryLane:0};function fl(n){return{baseLanes:n,cachePool:null}}l(fl,"lg");function Tv(n,r,s){var a=r.pendingProps,c=Xe.current,d=!1,w=(r.flags&128)!==0,y;if((y=w)||(y=n!==null&&n.memoizedState===null?!1:(c&2)!==0),y?(d=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(c|=1),Le(Xe,c&1),n===null)return au(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(r.mode&1?Ha(n)?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(c=a.children,n=a.fallback,d?(a=r.mode,d=r.child,c={mode:"hidden",children:c},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=c):d=Al(c,a,0,null),n=Kr(n,a,s,null),d.return=r,n.return=r,d.sibling=n,r.child=d,r.child.memoizedState=fl(s),r.memoizedState=hl,n):Su(r,c));if(c=n.memoizedState,c!==null){if(y=c.dehydrated,y!==null){if(w)return r.flags&256?(r.flags&=-257,ml(n,r,s,Error(h(422)))):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(d=a.fallback,c=r.mode,a=Al({mode:"visible",children:a.children},c,0,null),d=Kr(d,c,s,null),d.flags|=2,a.return=r,d.return=r,a.sibling=d,r.child=a,r.mode&1&&Mo(r,n.child,null,s),r.child.memoizedState=fl(s),r.memoizedState=hl,d);if(!(r.mode&1))r=ml(n,r,s,null);else if(Ha(y))r=ml(n,r,s,Error(h(419)));else if(a=(s&n.childLanes)!==0,Yt||a){if(a=it,a!==null){switch(s&-s){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}a=d&(a.suspendedLanes|s)?0:d,a!==0&&a!==c.retryLane&&(c.retryLane=a,sn(n,a,-1))}Gu(),r=ml(n,r,s,Error(h(421)))}else km(y)?(r.flags|=128,r.child=n.child,r=Xy.bind(null,n),Qb(y,r),r=null):(s=c.treeContext,ke&&(Wt=$b(y),Kt=r,Ve=!0,wn=null,_i=!1,s!==null&&(tn[nn++]=Un,tn[nn++]=Gn,tn[nn++]=Nr,Un=s.id,Gn=s.overflow,Nr=r)),r=Su(r,r.pendingProps.children),r.flags|=4096);return r}return d?(a=Ov(n,r,a.children,a.fallback,s),d=r.child,c=n.child.memoizedState,d.memoizedState=c===null?fl(s):{baseLanes:c.baseLanes|s,cachePool:null},d.childLanes=n.childLanes&~s,r.memoizedState=hl,a):(s=Lv(n,r,a.children,s),r.memoizedState=null,s)}return d?(a=Ov(n,r,a.children,a.fallback,s),d=r.child,c=n.child.memoizedState,d.memoizedState=c===null?fl(s):{baseLanes:c.baseLanes|s,cachePool:null},d.childLanes=n.childLanes&~s,r.memoizedState=hl,a):(s=Lv(n,r,a.children,s),r.memoizedState=null,s)}l(Tv,"mg");function Su(n,r){return r=Al({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}l(Su,"og");function Lv(n,r,s,a){var c=n.child;return n=c.sibling,s=xr(c,{mode:"visible",children:s}),!(r.mode&1)&&(s.lanes=a),s.return=r,s.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=s}l(Lv,"sg");function Ov(n,r,s,a,c){var d=r.mode;n=n.child;var w=n.sibling,y={mode:"hidden",children:s};return!(d&1)&&r.child!==n?(s=r.child,s.childLanes=0,s.pendingProps=y,r.deletions=null):(s=xr(n,y),s.subtreeFlags=n.subtreeFlags&14680064),w!==null?a=xr(w,a):(a=Kr(a,d,c,null),a.flags|=2),a.return=r,s.return=r,s.sibling=a,r.child=s,a}l(Ov,"rg");function ml(n,r,s,a){return a!==null&&uu(a),Mo(r,n.child,null,s),n=Su(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}l(ml,"pg");function Dv(n,r,s){n.lanes|=r;var a=n.alternate;a!==null&&(a.lanes|=r),tu(n.return,r,s)}l(Dv,"tg");function Eu(n,r,s,a,c){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=s,d.tailMode=c)}l(Eu,"ug");function Av(n,r,s){var a=r.pendingProps,c=a.revealOrder,d=a.tail;if(Rt(n,r,a.children,s),a=Xe.current,a&2)a=a&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dv(n,s,r);else if(n.tag===19)Dv(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}a&=1}if(Le(Xe,a),!(r.mode&1))r.memoizedState=null;else switch(c){case"forwards":for(s=r.child,c=null;s!==null;)n=s.alternate,n!==null&&rl(n)===null&&(c=s),s=s.sibling;s=c,s===null?(c=r.child,r.child=null):(c=s.sibling,s.sibling=null),Eu(r,!1,c,s,d);break;case"backwards":for(s=null,c=r.child,r.child=null;c!==null;){if(n=c.alternate,n!==null&&rl(n)===null){r.child=c;break}n=c.sibling,c.sibling=s,s=c,c=n}Eu(r,!0,s,null,d);break;case"together":Eu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}l(Av,"vg");function Wn(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Ao|=r.lanes,!(s&r.childLanes))return null;if(n!==null&&r.child!==n.child)throw Error(h(153));if(r.child!==null){for(n=r.child,s=xr(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=xr(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}l(Wn,"Zf");function jy(n,r,s){switch(r.tag){case 3:Rv(r),Ro();break;case 5:Qm(r);break;case 1:jt(r.type)&&Bs(r);break;case 4:cu(r,r.stateNode.containerInfo);break;case 10:zm(r,r.type._context,r.memoizedProps.value);break;case 13:var a=r.memoizedState;if(a!==null)return a.dehydrated!==null?(Le(Xe,Xe.current&1),r.flags|=128,null):s&r.child.childLanes?Tv(n,r,s):(Le(Xe,Xe.current&1),n=Wn(n,r,s),n!==null?n.sibling:null);Le(Xe,Xe.current&1);break;case 19:if(a=(s&r.childLanes)!==0,n.flags&128){if(a)return Av(n,r,s);r.flags|=128}var c=r.memoizedState;if(c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Le(Xe,Xe.current),a)break;return null;case 22:case 23:return r.lanes=0,Ev(n,r,s)}return Wn(n,r,s)}l(jy,"wg");function Ny(n,r){switch(su(r),r.tag){case 1:return jt(r.type)&&Fs(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Lo(),je(zt),je(yt),hu(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 5:return pu(r),null;case 13:if(je(Xe),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(h(340));Ro()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return je(Xe),null;case 4:return Lo(),null;case 10:return eu(r.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}l(Ny,"xg");var vl=!1,Hr=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,B=null;function gl(n,r){var s=n.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Vt(n,r,a)}else s.current=null}l(gl,"Bg");function Cu(n,r,s){try{s()}catch(a){Vt(n,r,a)}}l(Cu,"Cg");var zv=!1;function Vy(n,r){for(xe(n.containerInfo),B=r;B!==null;)if(n=B,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,B=r;else for(;B!==null;){n=B;try{var s=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(s!==null){var a=s.memoizedProps,c=s.memoizedState,d=n.stateNode,w=d.getSnapshotBeforeUpdate(n.elementType===n.type?a:gn(n.type,a),c);d.__reactInternalSnapshotBeforeUpdate=w}break;case 3:We&&Pn(n.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(y){Vt(n,n.return,y)}if(r=n.sibling,r!==null){r.return=n.return,B=r;break}B=n.return}return s=zv,zv=!1,s}l(Vy,"Eg");function Fr(n,r,s){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&n)===n){var d=c.destroy;c.destroy=void 0,d!==void 0&&Cu(r,s,d)}c=c.next}while(c!==a)}}l(Fr,"Fg");function Di(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var a=s.create;s.destroy=a()}s=s.next}while(s!==r)}}l(Di,"Gg");function ku(n){var r=n.ref;if(r!==null){var s=n.stateNode;switch(n.tag){case 5:n=Ee(s);break;default:n=s}typeof r=="function"?r(n):r.current=n}}l(ku,"Hg");function jv(n,r,s){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Ws,r)}catch(w){}switch(r.tag){case 0:case 11:case 14:case 15:if(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var a=n=n.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Cu(r,s,d),a=a.next}while(a!==n)}break;case 1:if(gl(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function")try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(w){Vt(r,s,w)}break;case 5:gl(r,s);break;case 4:We?Bv(n,r,s):Ye&&Ye&&(r=r.stateNode.containerInfo,s=vi(r),pr(r,s))}}l(jv,"Ig");function Nv(n,r,s){for(var a=r;;)if(jv(n,a,s),a.child===null||We&&a.tag===4){if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else a.child.return=a,a=a.child}l(Nv,"Kg");function Iv(n){var r=n.alternate;r!==null&&(n.alternate=null,Iv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&As(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}l(Iv,"Lg");function Vv(n){return n.tag===5||n.tag===3||n.tag===4}l(Vv,"Mg");function Hv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}l(Hv,"Ng");function Fv(n){if(We){e:{for(var r=n.return;r!==null;){if(Vv(r))break e;r=r.return}throw Error(h(160))}var s=r;switch(s.tag){case 5:r=s.stateNode,s.flags&32&&(F(r),s.flags&=-33),s=Hv(n),Mu(n,s,r);break;case 3:case 4:r=s.stateNode.containerInfo,s=Hv(n),Ru(n,s,r);break;default:throw Error(h(161))}}}l(Fv,"Og");function Ru(n,r,s){var a=n.tag;if(a===5||a===6)n=n.stateNode,r?Hs(s,n,r):Na(s,n);else if(a!==4&&(n=n.child,n!==null))for(Ru(n,r,s),n=n.sibling;n!==null;)Ru(n,r,s),n=n.sibling}l(Ru,"Qg");function Mu(n,r,s){var a=n.tag;if(a===5||a===6)n=n.stateNode,r?Vs(s,n,r):fi(s,n);else if(a!==4&&(n=n.child,n!==null))for(Mu(n,r,s),n=n.sibling;n!==null;)Mu(n,r,s),n=n.sibling}l(Mu,"Pg");function Bv(n,r,s){for(var a=r,c=!1,d,w;;){if(!c){c=a.return;e:for(;;){if(c===null)throw Error(h(160));switch(d=c.stateNode,c.tag){case 5:w=!1;break e;case 3:d=d.containerInfo,w=!0;break e;case 4:d=d.containerInfo,w=!0;break e}c=c.return}c=!0}if(a.tag===5||a.tag===6)Nv(n,a,s),w?P(d,a.stateNode):mi(d,a.stateNode);else if(a.tag===18)w?sy(d,a.stateNode):iy(d,a.stateNode);else if(a.tag===4){if(a.child!==null){d=a.stateNode.containerInfo,w=!0,a.child.return=a,a=a.child;continue}}else if(jv(n,a,s),a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return,a.tag===4&&(c=!1)}a.sibling.return=a.return,a=a.sibling}}l(Bv,"Jg");function Tu(n,r){if(We){switch(r.tag){case 0:case 11:case 14:case 15:Fr(3,r,r.return),Di(3,r),Fr(5,r,r.return);return;case 1:return;case 5:var s=r.stateNode;if(s!=null){var a=r.memoizedProps;n=n!==null?n.memoizedProps:a;var c=r.type,d=r.updateQueue;r.updateQueue=null,d!==null&&Va(s,d,c,n,a,r)}return;case 6:if(r.stateNode===null)throw Error(h(162));s=r.memoizedProps,Ia(r.stateNode,n!==null?n.memoizedProps:s,s);return;case 3:ke&&n!==null&&n.memoizedState.isDehydrated&&Rm(r.stateNode.containerInfo);return;case 12:return;case 13:wl(r);return;case 19:wl(r);return;case 17:return}throw Error(h(163))}switch(r.tag){case 0:case 11:case 14:case 15:Fr(3,r,r.return),Di(3,r),Fr(5,r,r.return);return;case 12:return;case 13:wl(r);return;case 19:wl(r);return;case 3:ke&&n!==null&&n.memoizedState.isDehydrated&&Rm(r.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ye){switch(r.tag){case 1:case 5:case 6:break e;case 3:case 4:r=r.stateNode,pr(r.containerInfo,r.pendingChildren);break e}throw Error(h(163))}}l(Tu,"Rg");function wl(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var s=n.stateNode;s===null&&(s=n.stateNode=new Iy),r.forEach(function(a){var c=qy.bind(null,n,a);s.has(a)||(s.add(a),a.then(c,c))})}}l(wl,"Sg");function Hy(n,r){for(B=r;B!==null;){r=B;var s=r.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var d=n;We?Bv(d,c,r):Nv(d,c,r);var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(X){Vt(c,r,X)}}if(s=r.child,r.subtreeFlags&12854&&s!==null)s.return=r,B=s;else for(;B!==null;){r=B;try{var y=r.flags;if(y&32&&We&&F(r.stateNode),y&512){var R=r.alternate;if(R!==null){var N=R.ref;N!==null&&(typeof N=="function"?N(null):N.current=null)}}if(y&8192)switch(r.tag){case 13:if(r.memoizedState!==null){var W=r.alternate;(W===null||W.memoizedState===null)&&(Nu=dt())}break;case 22:var ie=r.memoizedState!==null,J=r.alternate,Te=J!==null&&J.memoizedState!==null;if(s=r,We){e:if(a=s,c=ie,d=null,We)for(var Q=a;;){if(Q.tag===5){if(d===null){d=Q;var St=Q.stateNode;c?ee(St):ot(Q.stateNode,Q.memoizedProps)}}else if(Q.tag===6){if(d===null){var an=Q.stateNode;c?fe(an):fn(an,Q.memoizedProps)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===a)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===a)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===a)break e;d===Q&&(d=null),Q=Q.return}d===Q&&(d=null),Q.sibling.return=Q.return,Q=Q.sibling}}if(ie&&!Te&&s.mode&1){B=s;for(var S=s.child;S!==null;){for(s=B=S;B!==null;){a=B;var _=a.child;switch(a.tag){case 0:case 11:case 14:case 15:Fr(4,a,a.return);break;case 1:gl(a,a.return);var E=a.stateNode;if(typeof E.componentWillUnmount=="function"){var U=a.return;try{E.props=a.memoizedProps,E.state=a.memoizedState,E.componentWillUnmount()}catch(X){Vt(a,U,X)}}break;case 5:gl(a,a.return);break;case 22:if(a.memoizedState!==null){Kv(s);continue}}_!==null?(_.return=a,B=_):Kv(s)}S=S.sibling}}}switch(y&4102){case 2:Fv(r),r.flags&=-3;break;case 6:Fv(r),r.flags&=-3,Tu(r.alternate,r);break;case 4096:r.flags&=-4097;break;case 4100:r.flags&=-4097,Tu(r.alternate,r);break;case 4:Tu(r.alternate,r)}}catch(X){Vt(r,r.return,X)}if(s=r.sibling,s!==null){s.return=r.return,B=s;break}B=r.return}}}l(Hy,"Ug");function Fy(n,r,s){B=n,Uv(n,r,s)}l(Fy,"Xg");function Uv(n,r,s){for(var a=(n.mode&1)!==0;B!==null;){var c=B,d=c.child;if(c.tag===22&&a){var w=c.memoizedState!==null||vl;if(!w){var y=c.alternate,R=y!==null&&y.memoizedState!==null||Hr;y=vl;var N=Hr;if(vl=w,(Hr=R)&&!N)for(B=c;B!==null;)w=B,R=w.child,w.tag===22&&w.memoizedState!==null?Wv(c):R!==null?(R.return=w,B=R):Wv(c);for(;d!==null;)B=d,Uv(d,r,s),d=d.sibling;B=c,vl=y,Hr=N}Gv(n,r,s)}else c.subtreeFlags&8772&&d!==null?(d.return=c,B=d):Gv(n,r,s)}}l(Uv,"Yg");function Gv(n){for(;B!==null;){var r=B;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Hr||Di(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!Hr)if(s===null)a.componentDidMount();else{var c=r.elementType===r.type?s.memoizedProps:gn(r.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=r.updateQueue;d!==null&&Im(r,d,a);break;case 3:var w=r.updateQueue;if(w!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=Ee(r.child.stateNode);break;case 1:s=r.child.stateNode}Im(r,w,s)}break;case 5:var y=r.stateNode;s===null&&r.flags&4&&Is(y,r.type,r.memoizedProps,r);break;case 6:break;case 4:break;case 12:break;case 13:if(ke&&r.memoizedState===null){var R=r.alternate;if(R!==null){var N=R.memoizedState;if(N!==null){var W=N.dehydrated;W!==null&&oy(W)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(h(163))}Hr||r.flags&512&&ku(r)}catch(ie){Vt(r,r.return,ie)}}if(r===n){B=null;break}if(s=r.sibling,s!==null){s.return=r.return,B=s;break}B=r.return}}l(Gv,"$g");function Kv(n){for(;B!==null;){var r=B;if(r===n){B=null;break}var s=r.sibling;if(s!==null){s.return=r.return,B=s;break}B=r.return}}l(Kv,"Wg");function Wv(n){for(;B!==null;){var r=B;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{Di(4,r)}catch(R){Vt(r,s,R)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var c=r.return;try{a.componentDidMount()}catch(R){Vt(r,c,R)}}var d=r.return;try{ku(r)}catch(R){Vt(r,d,R)}break;case 5:var w=r.return;try{ku(r)}catch(R){Vt(r,w,R)}}}catch(R){Vt(r,r.return,R)}if(r===n){B=null;break}var y=r.sibling;if(y!==null){y.return=r.return,B=y;break}B=r.return}}l(Wv,"Zg");var bl=0,yl=1,_l=2,xl=3,Pl=4;if(typeof Symbol=="function"&&Symbol.for){var Ai=Symbol.for;bl=Ai("selector.component"),yl=Ai("selector.has_pseudo_class"),_l=Ai("selector.role"),xl=Ai("selector.test_id"),Pl=Ai("selector.text")}function Lu(n){var r=xn(n);if(r!=null){if(typeof r.memoizedProps["data-testname"]!="string")throw Error(h(364));return r}if(n=js(n),n===null)throw Error(h(362));return n.stateNode.current}l(Lu,"gh");function Ou(n,r){switch(r.$$typeof){case bl:if(n.type===r.value)return!0;break;case yl:e:{r=r.value,n=[n,0];for(var s=0;s<n.length;){var a=n[s++],c=n[s++],d=r[c];if(a.tag!==5||!cr(a)){for(;d!=null&&Ou(a,d);)c++,d=r[c];if(c===r.length){r=!0;break e}else for(a=a.child;a!==null;)n.push(a,c),a=a.sibling}}r=!1}return r;case _l:if(n.tag===5&&za(n.stateNode,r.value))return!0;break;case Pl:if((n.tag===5||n.tag===6)&&(n=hi(n),n!==null&&0<=n.indexOf(r.value)))return!0;break;case xl:if(n.tag===5&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===r.value.toLowerCase()))return!0;break;default:throw Error(h(365))}return!1}l(Ou,"hh");function Du(n){switch(n.$$typeof){case bl:return"<"+(q(n.value)||"Unknown")+">";case yl:return":has("+(Du(n)||"")+")";case _l:return'[role="'+n.value+'"]';case Pl:return'"'+n.value+'"';case xl:return'[data-testname="'+n.value+'"]';default:throw Error(h(365))}}l(Du,"ih");function Yv(n,r){var s=[];n=[n,0];for(var a=0;a<n.length;){var c=n[a++],d=n[a++],w=r[d];if(c.tag!==5||!cr(c)){for(;w!=null&&Ou(c,w);)d++,w=r[d];if(d===r.length)s.push(c);else for(c=c.child;c!==null;)n.push(c,d),c=c.sibling}}return s}l(Yv,"jh");function Au(n,r){if(!zr)throw Error(h(363));n=Lu(n),n=Yv(n,r),r=[],n=Array.from(n);for(var s=0;s<n.length;){var a=n[s++];if(a.tag===5)cr(a)||r.push(a.stateNode);else for(a=a.child;a!==null;)n.push(a),a=a.sibling}return r}l(Au,"kh");var By=Math.ceil,Sl=m.ReactCurrentDispatcher,zu=m.ReactCurrentOwner,tt=m.ReactCurrentBatchConfig,ae=0,it=null,st=null,bt=0,Xt=0,Do=fr(0),ut=0,zi=null,Ao=0,El=0,ju=0,ji=null,Nt=null,Nu=0,Iu=1/0;function zo(){Iu=dt()+500}l(zo,"sh");var Cl=!1,Vu=null,wr=null,kl=!1,br=null,Rl=0,Ni=0,Hu=null,Ml=-1,Tl=0;function Mt(){return ae&6?dt():Ml!==-1?Ml:Ml=dt()}l(Mt,"H");function yr(n){return n.mode&1?ae&2&&bt!==0?bt&-bt:Sy.transition!==null?(Tl===0&&(n=Us,Us<<=1,!(Us&4194240)&&(Us=64),Tl=n),Tl):(n=ge,n!==0?n:Ds()):1}l(yr,"zd");function sn(n,r,s){if(50<Ni)throw Ni=0,Hu=null,Error(h(185));var a=Ll(n,r);return a===null?null:(yi(a,r,s),(!(ae&2)||a!==it)&&(a===it&&(!(ae&2)&&(El|=r),ut===4&&_r(a,bt)),It(a,s),r===1&&ae===0&&!(n.mode&1)&&(zo(),Ys&&Cn())),a)}l(sn,"Ad");function Ll(n,r){n.lanes|=r;var s=n.alternate;for(s!==null&&(s.lanes|=r),s=n,n=n.return;n!==null;)n.childLanes|=r,s=n.alternate,s!==null&&(s.childLanes|=r),s=n,n=n.return;return s.tag===3?s.stateNode:null}l(Ll,"Ah");function It(n,r){var s=n.callbackNode;my(n,r);var a=Ks(n,n===it?bt:0);if(a===0)s!==null&&Dm(s),n.callbackNode=null,n.callbackPriority=0;else if(r=a&-a,n.callbackPriority!==r){if(s!=null&&Dm(s),r===1)n.tag===0?Py(qv.bind(null,n)):Am(qv.bind(null,n)),zs?Aa(function(){ae===0&&Cn()}):Xa(qa,Cn),s=null;else{switch(Om(a)){case 1:s=qa;break;case 4:s=by;break;case 16:s=Qa;break;case 536870912:s=yy;break;default:s=Qa}s=og(s,Xv.bind(null,n))}n.callbackPriority=r,n.callbackNode=s}}l(It,"Z");function Xv(n,r){if(Ml=-1,Tl=0,ae&6)throw Error(h(327));var s=n.callbackNode;if(Gr()&&n.callbackNode!==s)return null;var a=Ks(n,n===it?bt:0);if(a===0)return null;if(a&30||a&n.expiredLanes||r)r=Ol(n,a);else{r=a;var c=ae;ae|=2;var d=Jv();(it!==n||bt!==r)&&(zo(),Br(n,r));do try{Ky();break}catch(y){Zv(n,y)}while(!0);$a(),Sl.current=d,ae=c,st!==null?r=0:(it=null,bt=0,r=ut)}if(r!==0){if(r===2&&(c=Ka(n),c!==0&&(a=c,r=Fu(n,c))),r===1)throw s=zi,Br(n,0),_r(n,a),It(n,dt()),s;if(r===6)_r(n,a);else{if(c=n.current.alternate,!(a&30)&&!Uy(c)&&(r=Ol(n,a),r===2&&(d=Ka(n),d!==0&&(a=d,r=Fu(n,d))),r===1))throw s=zi,Br(n,0),_r(n,a),It(n,dt()),s;switch(n.finishedWork=c,n.finishedLanes=a,r){case 0:case 1:throw Error(h(345));case 2:Ur(n,Nt);break;case 3:if(_r(n,a),(a&130023424)===a&&(r=Nu+500-dt(),10<r)){if(Ks(n,0)!==0)break;if(c=n.suspendedLanes,(c&a)!==a){Mt(),n.pingedLanes|=n.suspendedLanes&c;break}n.timeoutHandle=Ke(Ur.bind(null,n,Nt),r);break}Ur(n,Nt);break;case 4:if(_r(n,a),(a&4194240)===a)break;for(r=n.eventTimes,c=-1;0<a;){var w=31-vn(a);d=1<<w,w=r[w],w>c&&(c=w),a&=~d}if(a=c,a=dt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*By(a/1960))-a,10<a){n.timeoutHandle=Ke(Ur.bind(null,n,Nt),a);break}Ur(n,Nt);break;case 5:Ur(n,Nt);break;default:throw Error(h(329))}}}return It(n,dt()),n.callbackNode===s?Xv.bind(null,n):null}l(Xv,"Eh");function Fu(n,r){var s=ji;return n.current.memoizedState.isDehydrated&&(Br(n,r).flags|=256),n=Ol(n,r),n!==2&&(r=Nt,Nt=s,r!==null&&Bu(r)),n}l(Fu,"Lh");function Bu(n){Nt===null?Nt=n:Nt.push.apply(Nt,n)}l(Bu,"Sf");function Uy(n){for(var r=n;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],d=c.getSnapshot;c=c.value;try{if(!En(d(),c))return!1}catch(w){return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}l(Uy,"Mh");function _r(n,r){for(r&=~ju,r&=~El,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var s=31-vn(r),a=1<<s;n[s]=-1,r&=~a}}l(_r,"Bh");function qv(n){if(ae&6)throw Error(h(327));Gr();var r=Ks(n,0);if(!(r&1))return It(n,dt()),null;var s=Ol(n,r);if(n.tag!==0&&s===2){var a=Ka(n);a!==0&&(r=a,s=Fu(n,a))}if(s===1)throw s=zi,Br(n,0),_r(n,r),It(n,dt()),s;if(s===6)throw Error(h(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Ur(n,Nt),It(n,dt()),null}l(qv,"Ch");function Qv(n){br!==null&&br.tag===0&&!(ae&6)&&Gr();var r=ae;ae|=1;var s=tt.transition,a=ge;try{if(tt.transition=null,ge=1,n)return n()}finally{ge=a,tt.transition=s,ae=r,!(ae&6)&&Cn()}}l(Qv,"Oh");function Uu(){Xt=Do.current,je(Do)}l(Uu,"Vf");function Br(n,r){n.finishedWork=null,n.finishedLanes=0;var s=n.timeoutHandle;if(s!==wt&&(n.timeoutHandle=wt,et(s)),st!==null)for(s=st.return;s!==null;){var a=s;switch(su(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Fs();break;case 3:Lo(),je(zt),je(yt),hu();break;case 5:pu(a);break;case 4:Lo();break;case 13:je(Xe);break;case 19:je(Xe);break;case 10:eu(a.type._context);break;case 22:case 23:Uu()}s=s.return}if(it=n,st=n=xr(n.current,null),bt=Xt=r,ut=0,zi=null,ju=El=Ao=0,Nt=ji=null,kn!==null){for(r=0;r<kn.length;r++)if(s=kn[r],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,d=s.pending;if(d!==null){var w=d.next;d.next=c,a.next=w}s.pending=a}kn=null}return n}l(Br,"Ih");function Zv(n,r){do{var s=st;try{if($a(),ol.current=cl,il){for(var a=Qe.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}il=!1}if(Oo=0,ht=_t=Qe=null,Ci=!1,ki=0,zu.current=null,s===null||s.return===null){ut=1,zi=r,st=null;break}e:{var d=n,w=s.return,y=s,R=r;if(r=bt,y.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var N=R,W=y,ie=W.tag;if(!(W.mode&1)&&(ie===0||ie===11||ie===15)){var J=W.alternate;J?(W.updateQueue=J.updateQueue,W.memoizedState=J.memoizedState,W.lanes=J.lanes):(W.updateQueue=null,W.memoizedState=null)}var Te=wv(w);if(Te!==null){Te.flags&=-257,bv(Te,w,y,d,r),Te.mode&1&&gv(d,N,r),r=Te,R=N;var Q=r.updateQueue;if(Q===null){var St=new Set;St.add(R),r.updateQueue=St}else Q.add(R);break e}else{if(!(r&1)){gv(d,N,r),Gu();break e}R=Error(h(426))}}else if(Ve&&y.mode&1){var an=wv(w);if(an!==null){!(an.flags&65536)&&(an.flags|=256),bv(an,w,y,d,r),uu(R);break e}}d=R,ut!==4&&(ut=2),ji===null?ji=[d]:ji.push(d),R=yu(R,y),y=w;do{switch(y.tag){case 3:y.flags|=65536,r&=-r,y.lanes|=r;var S=mv(y,R,r);Nm(y,S);break e;case 1:d=R;var _=y.type,E=y.stateNode;if(!(y.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(wr===null||!wr.has(E)))){y.flags|=65536,r&=-r,y.lanes|=r;var U=vv(y,d,r);Nm(y,U);break e}}y=y.return}while(y!==null)}eg(s)}catch(X){r=X,st===s&&s!==null&&(st=s=s.return);continue}break}while(!0)}l(Zv,"Kh");function Jv(){var n=Sl.current;return Sl.current=cl,n===null?cl:n}l(Jv,"Hh");function Gu(){(ut===0||ut===3||ut===2)&&(ut=4),it===null||!(Ao&268435455)&&!(El&268435455)||_r(it,bt)}l(Gu,"Tf");function Ol(n,r){var s=ae;ae|=2;var a=Jv();it===n&&bt===r||Br(n,r);do try{Gy();break}catch(c){Zv(n,c)}while(!0);if($a(),ae=s,Sl.current=a,st!==null)throw Error(h(261));return it=null,bt=0,ut}l(Ol,"Gh");function Gy(){for(;st!==null;)$v(st)}l(Gy,"Qh");function Ky(){for(;st!==null&&!gy();)$v(st)}l(Ky,"Jh");function $v(n){var r=rg(n.alternate,n,Xt);n.memoizedProps=n.pendingProps,r===null?eg(n):st=r,zu.current=null}l($v,"Rh");function eg(n){var r=n;do{var s=r.alternate;if(n=r.return,r.flags&32768){if(s=Ny(s,r),s!==null){s.flags&=32767,st=s;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ut=6,st=null;return}}else if(s=Ay(s,r,Xt),s!==null){st=s;return}if(r=r.sibling,r!==null){st=r;return}st=r=n}while(r!==null);ut===0&&(ut=5)}l(eg,"Ph");function Ur(n,r){var s=ge,a=tt.transition;try{tt.transition=null,ge=1,Wy(n,r,s)}finally{tt.transition=a,ge=s}return null}l(Ur,"Nh");function Wy(n,r,s){do Gr();while(br!==null);if(ae&6)throw Error(h(327));var a=n.finishedWork,c=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(h(177));n.callbackNode=null,n.callbackPriority=0;var d=a.lanes|a.childLanes;if(vy(n,d),n===it&&(st=it=null,bt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||kl||(kl=!0,og(Qa,function(){return Gr(),null})),d=(a.flags&15990)!==0,a.subtreeFlags&15990||d){d=tt.transition,tt.transition=null;var w=ge;ge=1;var y=ae;ae|=4,zu.current=null,Vy(n,a),Hy(n,a,c),ve(n.containerInfo),n.current=a,Fy(a,n,c),wy(),ae=y,ge=w,tt.transition=d}else n.current=a;if(kl&&(kl=!1,br=n,Rl=c),d=n.pendingLanes,d===0&&(wr=null),_y(a.stateNode,s),It(n,dt()),r!==null)for(s=n.onRecoverableError,a=0;a<r.length;a++)s(r[a]);if(Cl)throw Cl=!1,n=Vu,Vu=null,n;return Rl&1&&n.tag!==0&&Gr(),d=n.pendingLanes,d&1?n===Hu?Ni++:(Ni=0,Hu=n):Ni=0,Cn(),null}l(Wy,"Th");function Gr(){if(br!==null){var n=Om(Rl),r=tt.transition,s=ge;try{if(tt.transition=null,ge=16>n?16:n,br===null)var a=!1;else{if(n=br,br=null,Rl=0,ae&6)throw Error(h(331));var c=ae;for(ae|=4,B=n.current;B!==null;){var d=B,w=d.child;if(B.flags&16){var y=d.deletions;if(y!==null){for(var R=0;R<y.length;R++){var N=y[R];for(B=N;B!==null;){var W=B;switch(W.tag){case 0:case 11:case 15:Fr(8,W,d)}var ie=W.child;if(ie!==null)ie.return=W,B=ie;else for(;B!==null;){W=B;var J=W.sibling,Te=W.return;if(Iv(W),W===N){B=null;break}if(J!==null){J.return=Te,B=J;break}B=Te}}}var Q=d.alternate;if(Q!==null){var St=Q.child;if(St!==null){Q.child=null;do{var an=St.sibling;St.sibling=null,St=an}while(St!==null)}}B=d}}if(d.subtreeFlags&2064&&w!==null)w.return=d,B=w;else e:for(;B!==null;){if(d=B,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Fr(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,B=S;break e}B=d.return}}var _=n.current;for(B=_;B!==null;){w=B;var E=w.child;if(w.subtreeFlags&2064&&E!==null)E.return=w,B=E;else e:for(w=_;B!==null;){if(y=B,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:Di(9,y)}}catch(X){Vt(y,y.return,X)}if(y===w){B=null;break e}var U=y.sibling;if(U!==null){U.return=y.return,B=U;break e}B=y.return}}if(ae=c,Cn(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Ws,n)}catch(X){}a=!0}return a}finally{ge=s,tt.transition=r}}return!1}l(Gr,"Fh");function tg(n,r,s){r=yu(s,r),r=mv(n,r,1),gr(n,r),r=Mt(),n=Ll(n,1),n!==null&&(yi(n,1,r),It(n,r))}l(tg,"Uh");function Vt(n,r,s){if(n.tag===3)tg(n,n,s);else for(;r!==null;){if(r.tag===3){tg(r,n,s);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(wr===null||!wr.has(a))){n=yu(s,n),n=vv(r,n,1),gr(r,n),n=Mt(),r=Ll(r,1),r!==null&&(yi(r,1,n),It(r,n));break}}r=r.return}}l(Vt,"T");function Yy(n,r,s){var a=n.pingCache;a!==null&&a.delete(r),r=Mt(),n.pingedLanes|=n.suspendedLanes&s,it===n&&(bt&s)===s&&(ut===4||ut===3&&(bt&130023424)===bt&&500>dt()-Nu?Br(n,0):ju|=s),It(n,r)}l(Yy,"Gf");function ng(n,r){r===0&&(n.mode&1?(r=Gs,Gs<<=1,!(Gs&130023424)&&(Gs=4194304)):r=1);var s=Mt();n=Ll(n,r),n!==null&&(yi(n,r,s),It(n,s))}l(ng,"Vh");function Xy(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),ng(n,s)}l(Xy,"qg");function qy(n,r){var s=0;switch(n.tag){case 13:var a=n.stateNode,c=n.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=n.stateNode;break;default:throw Error(h(314))}a!==null&&a.delete(r),ng(n,s)}l(qy,"Tg");var rg;rg=l(function(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps||zt.current)Yt=!0;else{if(!(n.lanes&s)&&!(r.flags&128))return Yt=!1,jy(n,r,s);Yt=!!(n.flags&131072)}else Yt=!1,Ve&&r.flags&1048576&&Um(r,tl,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2),n=r.pendingProps;var c=Po(r,yt.current);Eo(r,s),c=mu(null,r,a,n,c,s);var d=vu();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,jt(a)?(d=!0,Bs(r)):d=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,nu(r),c.updater=$s,r.stateNode=c,c._reactInternals=r,ou(r,a,n,s),r=Pu(null,r,a,!0,d,s)):(r.tag=0,Ve&&d&&iu(r),Rt(null,r,c,s),r=r.child),r;case 16:a=r.elementType;e:{switch(n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2),n=r.pendingProps,c=a._init,a=c(a._payload),r.type=a,c=r.tag=Zy(a),n=gn(a,n),c){case 0:r=xu(null,r,a,n,s);break e;case 1:r=kv(null,r,a,n,s);break e;case 11:r=xv(null,r,a,n,s);break e;case 14:r=Pv(null,r,a,gn(a.type,n),s);break e}throw Error(h(306,a,""))}return r;case 0:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:gn(a,c),xu(n,r,a,c,s);case 1:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:gn(a,c),kv(n,r,a,c,s);case 3:e:{if(Rv(r),n===null)throw Error(h(387));a=r.pendingProps,d=r.memoizedState,c=d.element,jm(n,r),Js(r,a,null,s);var w=r.memoizedState;if(a=w.element,ke&&d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:w.cache,transitions:w.transitions},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){c=Error(h(423)),r=Mv(n,r,a,s,c);break e}else if(a!==c){c=Error(h(424)),r=Mv(n,r,a,s,c);break e}else for(ke&&(Wt=Jb(r.stateNode.containerInfo),Kt=r,Ve=!0,wn=null,_i=!1),s=qm(r,null,a,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ro(),a===c){r=Wn(n,r,s);break e}Rt(n,r,a,s)}r=r.child}return r;case 5:return Qm(r),n===null&&au(r),a=r.type,c=r.pendingProps,d=n!==null?n.memoizedProps:null,w=c.children,de(a,c)?w=null:d!==null&&de(a,d)&&(r.flags|=32),Cv(n,r),Rt(n,r,w,s),r.child;case 6:return n===null&&au(r),null;case 13:return Tv(n,r,s);case 4:return cu(r,r.stateNode.containerInfo),a=r.pendingProps,n===null?r.child=Mo(r,null,a,s):Rt(n,r,a,s),r.child;case 11:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:gn(a,c),xv(n,r,a,c,s);case 7:return Rt(n,r,r.pendingProps,s),r.child;case 8:return Rt(n,r,r.pendingProps.children,s),r.child;case 12:return Rt(n,r,r.pendingProps.children,s),r.child;case 10:e:{if(a=r.type._context,c=r.pendingProps,d=r.memoizedProps,w=c.value,zm(r,a,w),d!==null)if(En(d.value,w)){if(d.children===c.children&&!zt.current){r=Wn(n,r,s);break e}}else for(d=r.child,d!==null&&(d.return=r);d!==null;){var y=d.dependencies;if(y!==null){w=d.child;for(var R=y.firstContext;R!==null;){if(R.context===a){if(d.tag===1){R=Bn(-1,s&-s),R.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var W=N.pending;W===null?R.next=R:(R.next=W.next,W.next=R),N.pending=R}}d.lanes|=s,R=d.alternate,R!==null&&(R.lanes|=s),tu(d.return,s,r),y.lanes|=s;break}R=R.next}}else if(d.tag===10)w=d.type===r.type?null:d.child;else if(d.tag===18){if(w=d.return,w===null)throw Error(h(341));w.lanes|=s,y=w.alternate,y!==null&&(y.lanes|=s),tu(w,s,r),w=d.sibling}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===r){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}Rt(n,r,c.children,s),r=r.child}return r;case 9:return c=r.type,a=r.pendingProps.children,Eo(r,s),c=en(c),a=a(c),r.flags|=1,Rt(n,r,a,s),r.child;case 14:return a=r.type,c=gn(a,r.pendingProps),c=gn(a.type,c),Pv(n,r,a,c,s);case 15:return Sv(n,r,r.type,r.pendingProps,s);case 17:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:gn(a,c),n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2),r.tag=1,jt(a)?(n=!0,Bs(r)):n=!1,Eo(r,s),Fm(r,a,c),ou(r,a,c,s),Pu(null,r,a,!0,n,s);case 19:return Av(n,r,s);case 22:return Ev(n,r,s)}throw Error(h(156,r.tag))},"Sh");function og(n,r){return Xa(n,r)}l(og,"Dh");function Qy(n,r,s,a){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}l(Qy,"Xh");function ln(n,r,s,a){return new Qy(n,r,s,a)}l(ln,"Yd");function Ku(n){return n=n.prototype,!(!n||!n.isReactComponent)}l(Ku,"ag");function Zy(n){if(typeof n=="function")return Ku(n)?1:0;if(n!=null){if(n=n.$$typeof,n===T)return 11;if(n===k)return 14}return 2}l(Zy,"Wh");function xr(n,r){var s=n.alternate;return s===null?(s=ln(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&14680064,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s}l(xr,"je");function Dl(n,r,s,a,c,d){var w=2;if(a=n,typeof n=="function")Ku(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case f:return Kr(s.children,c,d,r);case v:w=8,c|=8;break;case x:return n=ln(12,s,r,c|2),n.elementType=x,n.lanes=d,n;case A:return n=ln(13,s,r,c),n.elementType=A,n.lanes=d,n;case C:return n=ln(19,s,r,c),n.elementType=C,n.lanes=d,n;case I:return Al(s,c,d,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:w=10;break e;case L:w=9;break e;case T:w=11;break e;case k:w=14;break e;case O:w=16,a=null;break e}throw Error(h(130,n==null?n:typeof n,""))}return r=ln(w,s,r,c),r.elementType=n,r.type=a,r.lanes=d,r}l(Dl,"le");function Kr(n,r,s,a){return n=ln(7,n,a,r),n.lanes=s,n}l(Kr,"ne");function Al(n,r,s,a){return n=ln(22,n,a,r),n.elementType=I,n.lanes=s,n.stateNode={},n}l(Al,"ng");function Wu(n,r,s){return n=ln(6,n,null,r),n.lanes=s,n}l(Wu,"ke");function Yu(n,r,s){return r=ln(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}l(Yu,"me");function Jy(n,r,s,a,c){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=wt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wa(0),this.expirationTimes=Wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.identifierPrefix=a,this.onRecoverableError=c,ke&&(this.mutableSourceEagerHydrationData=null)}l(Jy,"Yh");function ig(n,r,s,a,c,d,w,y,R){return n=new Jy(n,r,s,y,R),r===1?(r=1,d===!0&&(r|=8)):r=0,d=ln(3,null,null,r),n.current=d,d.stateNode=n,d.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null},nu(d),n}l(ig,"Zh");function sg(n){if(!n)return mr;n=n._reactInternals;e:{if(H(n)!==n||n.tag!==1)throw Error(h(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(jt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(h(171))}if(n.tag===1){var s=n.type;if(jt(s))return Tm(n,s,r)}return r}l(sg,"$h");function lg(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(h(188)):(n=Object.keys(n).join(","),Error(h(268,n)));return n=ne(r),n===null?null:n.stateNode}l(lg,"ai");function ag(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}l(ag,"bi");function Xu(n,r){ag(n,r),(n=n.alternate)&&ag(n,r)}l(Xu,"ci");function $y(n){return n=ne(n),n===null?null:n.stateNode}l($y,"di");function e_(){return null}return l(e_,"ei"),t.attemptContinuousHydration=function(n){if(n.tag===13){var r=Mt();sn(n,134217728,r),Xu(n,134217728)}},t.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var r=Mt(),s=yr(n);sn(n,s,r),Xu(n,s)}},t.attemptSynchronousHydration=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var s=bi(r.pendingLanes);s!==0&&(Ya(r,s|1),It(r,dt()),!(ae&6)&&(zo(),Cn()))}break;case 13:var a=Mt();Qv(function(){return sn(n,1,a)}),Xu(n,1)}},t.batchedUpdates=function(n,r){var s=ae;ae|=1;try{return n(r)}finally{ae=s,ae===0&&(zo(),Ys&&Cn())}},t.createComponentSelector=function(n){return{$$typeof:bl,value:n}},t.createContainer=function(n,r,s,a,c,d,w){return ig(n,r,!1,null,s,a,c,d,w)},t.createHasPseudoClassSelector=function(n){return{$$typeof:yl,value:n}},t.createHydrationContainer=function(n,r,s,a,c,d,w,y,R){return n=ig(s,a,!0,n,c,d,w,y,R),n.context=sg(null),s=n.current,a=Mt(),c=yr(s),d=Bn(a,c),d.callback=r!=null?r:null,gr(s,d),n.current.lanes=c,yi(n,c,a),It(n,a),n},t.createPortal=function(n,r,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:a==null?null:""+a,children:n,containerInfo:r,implementation:s}},t.createRoleSelector=function(n){return{$$typeof:_l,value:n}},t.createTestNameSelector=function(n){return{$$typeof:xl,value:n}},t.createTextSelector=function(n){return{$$typeof:Pl,value:n}},t.deferredUpdates=function(n){var r=ge,s=tt.transition;try{return tt.transition=null,ge=16,n()}finally{ge=r,tt.transition=s}},t.discreteUpdates=function(n,r,s,a,c){var d=ge,w=tt.transition;try{return tt.transition=null,ge=1,n(r,s,a,c)}finally{ge=d,tt.transition=w,ae===0&&zo()}},t.findAllNodes=Au,t.findBoundingRects=function(n,r){if(!zr)throw Error(h(363));r=Au(n,r),n=[];for(var s=0;s<r.length;s++)n.push(di(r[s]));for(r=n.length-1;0<r;r--){s=n[r];for(var a=s.x,c=a+s.width,d=s.y,w=d+s.height,y=r-1;0<=y;y--)if(r!==y){var R=n[y],N=R.x,W=N+R.width,ie=R.y,J=ie+R.height;if(a>=N&&d>=ie&&c<=W&&w<=J){n.splice(r,1);break}else if(a!==N||s.width!==R.width||J<d||ie>w){if(!(d!==ie||s.height!==R.height||W<a||N>c)){N>a&&(R.width+=N-a,R.x=a),W<c&&(R.width=c-N),n.splice(r,1);break}}else{ie>d&&(R.height+=ie-d,R.y=d),J<w&&(R.height=w-ie),n.splice(r,1);break}}}return n},t.findHostInstance=lg,t.findHostInstanceWithNoPortals=function(n){return n=j(n),n=n!==null?ce(n):null,n===null?null:n.stateNode},t.findHostInstanceWithWarning=function(n){return lg(n)},t.flushControlled=function(n){var r=ae;ae|=1;var s=tt.transition,a=ge;try{tt.transition=null,ge=1,n()}finally{ge=a,tt.transition=s,ae=r,ae===0&&(zo(),Cn())}},t.flushPassiveEffects=Gr,t.flushSync=Qv,t.focusWithin=function(n,r){if(!zr)throw Error(h(363));for(n=Lu(n),r=Yv(n,r),r=Array.from(r),n=0;n<r.length;){var s=r[n++];if(!cr(s)){if(s.tag===5&&ja(s.stateNode))return!0;for(s=s.child;s!==null;)r.push(s),s=s.sibling}}return!1},t.getCurrentUpdatePriority=function(){return ge},t.getFindAllNodesFailureDescription=function(n,r){if(!zr)throw Error(h(363));var s=0,a=[];n=[Lu(n),0];for(var c=0;c<n.length;){var d=n[c++],w=n[c++],y=r[w];if((d.tag!==5||!cr(d))&&(Ou(d,y)&&(a.push(Du(y)),w++,w>s&&(s=w)),w<r.length))for(d=d.child;d!==null;)n.push(d,w),d=d.sibling}if(s<r.length){for(n=[];s<r.length;s++)n.push(Du(r[s]));return"findAllNodes was able to match part of the selector:\n  "+(a.join(" > ")+"\n\nNo matching component was found for:\n  ")+n.join(" > ")}return null},t.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return Ee(n.child.stateNode);default:return n.child.stateNode}},t.injectIntoDevTools=function(n){if(n={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:$y,findFiberByHostInstance:n.findFiberByHostInstance||e_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)n=!0;else{try{Ws=r.inject(n),Sn=r}catch(s){}n=!!r.checkDCE}}return n},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(n,r,s,a){if(!zr)throw Error(h(363));n=Au(n,r);var c=Ns(n,s,a).disconnect;return{disconnect:function(){c()}}},t.registerMutableSourceForHydration=function(n,r){var s=r._getVersion;s=s(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,s]:n.mutableSourceEagerHydrationData.push(r,s)},t.runWithPriority=function(n,r){var s=ge;try{return ge=n,r()}finally{ge=s}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(n,r,s,a){var c=r.current,d=Mt(),w=yr(c);return s=sg(s),r.context===null?r.context=s:r.pendingContext=s,r=Bn(d,w),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),gr(c,r),n=sn(c,w,d),n!==null&&Zs(n,c,w),w},t},"$$$reconciler")});var Xf=Sr((wR,mb)=>{"use strict";mb.exports=fb()});var Nb=Sr((ER,jb)=>{function vm(o,e,t){var i,u,p,h,m;e==null&&(e=100);function g(){var f=Date.now()-h;f<e&&f>=0?i=setTimeout(g,e-f):(i=null,t||(m=o.apply(p,u),p=u=null))}l(g,"later");var b=l(function(){p=this,u=arguments,h=Date.now();var f=t&&!i;return i||(i=setTimeout(g,e)),f&&(m=o.apply(p,u),p=u=null),m},"debounced");return b.clear=function(){i&&(clearTimeout(i),i=null)},b.flush=function(){i&&(m=o.apply(p,u),p=u=null,clearTimeout(i),i=null)},b}l(vm,"debounce");vm.debounce=vm;jb.exports=vm});var Wb=Sr(Da=>{"use strict";"use client";var GS=o_();Object.defineProperty(Da,"__esModule",{value:!0});Da.default=void 0;var KS=GS(c_()),WS=re(),MM=Da.default=(0,KS.default)((0,WS.jsx)("path",{fillRule:"evenodd",d:"M22 10c.32-3.28-4.28-6-9.99-6S1.7 6.72 2.02 10zM5.35 13.5c.55 0 .78.14 1.15.36.45.27 1.07.64 2.18.64s1.73-.37 2.18-.64c.37-.23.59-.36 1.15-.36.55 0 .78.14 1.15.36.45.27 1.07.64 2.18.64s1.73-.37 2.18-.64c.37-.23.59-.36 1.15-.36.55 0 .78.14 1.15.36.45.27 1.07.63 2.17.64v-1.98s-.79-.16-1.16-.38c-.45-.27-1.07-.64-2.18-.64s-1.73.37-2.18.64c-.37.23-.6.36-1.15.36s-.78-.14-1.15-.36c-.45-.27-1.07-.64-2.18-.64s-1.73.37-2.18.64c-.37.23-.59.36-1.15.36-.55 0-.78-.14-1.15-.36-.45-.27-1.07-.64-2.18-.64s-1.73.37-2.18.64c-.37.23-.59.36-1.15.36v2c1.11 0 1.73-.37 2.21-.64.37-.23.59-.36 1.14-.36M2 16v2c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-2z"}),"LunchDining")});var pi=V(Pe());Wr();var ct=V(Pe()),uc=V(n_());var g0=V(a_());Wr();var Wo=V(Pe());var u0=V(l_());Wr();var bn=V(Pe());var oc=V(u_()),o0=V(re());var p_=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function d_(o,e,t){let i=e.getBoundingClientRect(),u=t&&t.getBoundingClientRect(),p=(0,oc.ownerWindow)(e),h;if(e.fakeTransform)h=e.fakeTransform;else{let b=p.getComputedStyle(e);h=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("transform")}let m=0,g=0;if(h&&h!=="none"&&typeof h=="string"){let b=h.split("(")[1].split(")")[0].split(",");m=parseInt(b[4],10),g=parseInt(b[5],10)}return o==="left"?u?"translateX(".concat(u.right+m-i.left,"px)"):"translateX(".concat(p.innerWidth+m-i.left,"px)"):o==="right"?u?"translateX(-".concat(i.right-u.left-m,"px)"):"translateX(-".concat(i.left+i.width-m,"px)"):o==="up"?u?"translateY(".concat(u.bottom+g-i.top,"px)"):"translateY(".concat(p.innerHeight+g-i.top,"px)"):u?"translateY(-".concat(i.top-u.top+i.height-g,"px)"):"translateY(-".concat(i.top+i.height-g,"px)")}l(d_,"getTranslateValue");function h_(o){return typeof o=="function"?o():o}l(h_,"resolveContainer");function Yl(o,e,t){let i=h_(t),u=d_(o,e,i);u&&(e.style.webkitTransform=u,e.style.transform=u)}l(Yl,"setTranslateValue");var f_=bn.forwardRef(l(function(e,t){let i=jo(),u={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},p={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:h,appear:m=!0,children:g,container:b,direction:f="down",easing:v=u,in:x,onEnter:M,onEntered:L,onEntering:T,onExit:A,onExited:C,onExiting:k,style:O,timeout:I=p,TransitionComponent:K=Xg}=e,G=Ln(e,p_),q=bn.useRef(null),$=Kl(g.ref,q,t),H=l(Y=>xe=>{Y&&(xe===void 0?Y(q.current):Y(q.current,xe))},"normalizedTransitionCallback"),D=H((Y,xe)=>{Yl(f,Y,b),qg(Y),M&&M(Y,xe)}),j=H((Y,xe)=>{let ve=Vi({timeout:I,style:O,easing:v},{mode:"enter"});Y.style.webkitTransition=i.transitions.create("-webkit-transform",ye({},ve)),Y.style.transition=i.transitions.create("transform",ye({},ve)),Y.style.webkitTransform="none",Y.style.transform="none",T&&T(Y,xe)}),ne=H(L),Me=H(k),ce=H(Y=>{let xe=Vi({timeout:I,style:O,easing:v},{mode:"exit"});Y.style.webkitTransition=i.transitions.create("-webkit-transform",xe),Y.style.transition=i.transitions.create("transform",xe),Yl(f,Y,b),A&&A(Y)}),Ge=H(Y=>{Y.style.webkitTransition="",Y.style.transition="",C&&C(Y)}),Ee=l(Y=>{h&&h(q.current,Y)},"handleAddEndListener"),pe=bn.useCallback(()=>{q.current&&Yl(f,q.current,b)},[f,b]);return bn.useEffect(()=>{if(x||f==="down"||f==="right")return;let Y=n0(()=>{q.current&&Yl(f,q.current,b)}),xe=(0,oc.ownerWindow)(q.current);return xe.addEventListener("resize",Y),()=>{Y.clear(),xe.removeEventListener("resize",Y)}},[f,x,b]),bn.useEffect(()=>{x||pe()},[x,pe]),(0,o0.jsx)(K,ye({nodeRef:q,onEnter:D,onEntered:ne,onEntering:j,onExit:ce,onExited:Ge,onExiting:Me,addEndListener:Ee,appear:m,in:x,timeout:I},G,{children:(Y,xe)=>bn.cloneElement(g,ye({ref:$,style:ye({visibility:Y==="exited"&&!x?"hidden":void 0},O,g.props.style)},xe))}))},"Slide")),ic=f_;var i0=V(s_()),s0=V(i_());function l0(o){return(0,s0.default)("MuiDrawer",o)}l(l0,"getDrawerUtilityClass");var sE=(0,i0.default)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var Ko=V(re());var m_=["BackdropProps"],v_=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],c0=l((o,e)=>{let{ownerState:t}=o;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},"overridesResolver"),g_=l(o=>{let{classes:e,anchor:t,variant:i}=o,u={root:["root"],docked:[(i==="permanent"||i==="persistent")&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(Jr(t)),i!=="temporary"&&"paperAnchorDocked".concat(Jr(t))]};return(0,u0.default)(u,l0,e)},"useUtilityClasses"),w_=No(Qg,{name:"MuiDrawer",slot:"Root",overridesResolver:c0})(({theme:o})=>({zIndex:(o.vars||o).zIndex.drawer})),a0=No("div",{shouldForwardProp:zl,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:c0})({flex:"0 0 auto"}),b_=No(Zg,{name:"MuiDrawer",slot:"Paper",overridesResolver:(o,e)=>{let{ownerState:t}=o;return[e.paper,e["paperAnchor".concat(Jr(t.anchor))],t.variant!=="temporary"&&e["paperAnchorDocked".concat(Jr(t.anchor))]]}})(({theme:o,ownerState:e})=>ye({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(o.vars||o).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:"1px solid ".concat((o.vars||o).palette.divider)},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:"1px solid ".concat((o.vars||o).palette.divider)},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:"1px solid ".concat((o.vars||o).palette.divider)},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:"1px solid ".concat((o.vars||o).palette.divider)})),p0={left:"right",right:"left",top:"down",bottom:"up"};function Xn(o){return["left","right"].indexOf(o)!==-1}l(Xn,"isHorizontal");function Yo({direction:o},e){return o==="rtl"&&Xn(e)?p0[e]:e}l(Yo,"getAnchor");var y_=Wo.forwardRef(l(function(e,t){let i=cg({props:e,name:"MuiDrawer"}),u=jo(),p=ug(),h={enter:u.transitions.duration.enteringScreen,exit:u.transitions.duration.leavingScreen},{anchor:m="left",BackdropProps:g,children:b,className:f,elevation:v=16,hideBackdrop:x=!1,ModalProps:{BackdropProps:M}={},onClose:L,open:T=!1,PaperProps:A={},SlideProps:C,TransitionComponent:k=ic,transitionDuration:O=h,variant:I="temporary"}=i,K=Ln(i.ModalProps,m_),G=Ln(i,v_),q=Wo.useRef(!1);Wo.useEffect(()=>{q.current=!0},[]);let $=Yo({direction:p?"rtl":"ltr"},m),D=ye({},i,{anchor:m,elevation:v,open:T,variant:I},G),j=g_(D),ne=(0,Ko.jsx)(b_,ye({elevation:I==="temporary"?v:0,square:!0},A,{className:Yr(j.paper,A.className),ownerState:D,children:b}));if(I==="permanent")return(0,Ko.jsx)(a0,ye({className:Yr(j.root,j.docked,f),ownerState:D,ref:t},G,{children:ne}));let Me=(0,Ko.jsx)(k,ye({in:T,direction:p0[$],timeout:O,appear:q.current},C,{children:ne}));return I==="persistent"?(0,Ko.jsx)(a0,ye({className:Yr(j.root,j.docked,f),ownerState:D,ref:t},G,{children:Me})):(0,Ko.jsx)(w_,ye({BackdropProps:ye({},g,M,{transitionDuration:O}),className:Yr(j.root,j.modal,f),open:T,ownerState:D,onClose:L,hideBackdrop:x,ref:t},G,K,{children:Me}))},"Drawer")),d0=y_;Wr();var h0=V(Pe());var f0=V(re());var __=["anchor","classes","className","width","style"],x_=No("div",{shouldForwardProp:zl})(({theme:o,ownerState:e})=>ye({position:"fixed",top:0,left:0,bottom:0,zIndex:o.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),P_=h0.forwardRef(l(function(e,t){let{anchor:i,classes:u={},className:p,width:h,style:m}=e,g=Ln(e,__),b=e;return(0,f0.jsx)(x_,ye({className:Yr("PrivateSwipeArea-root",u.root,u["anchor".concat(Jr(i))],p),ref:t,style:ye({[Xn(i)?"width":"height"]:h},m),ownerState:b},g))},"SwipeArea")),m0=P_;var ql=V(re()),w0=V(re());var S_=["BackdropProps"],E_=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],Xl=3,sc=20,qn=null;function lc(o,e,t){return o==="right"?t.body.offsetWidth-e[0].pageX:e[0].pageX}l(lc,"calculateCurrentX");function ac(o,e,t){return o==="bottom"?t.innerHeight-e[0].clientY:e[0].clientY}l(ac,"calculateCurrentY");function Bi(o,e){return o?e.clientWidth:e.clientHeight}l(Bi,"getMaxTranslate");function v0(o,e,t,i){return Math.min(Math.max(t?e-o:i+e-o,0),i)}l(v0,"getTranslate");function C_(o,e){let t=[];for(;o&&o!==e.parentElement;){let i=Fi(e).getComputedStyle(o);i.getPropertyValue("position")==="absolute"||i.getPropertyValue("overflow-x")==="hidden"||(o.clientWidth>0&&o.scrollWidth>o.clientWidth||o.clientHeight>0&&o.scrollHeight>o.clientHeight)&&t.push(o),o=o.parentElement}return t}l(C_,"getDomTreeShapes");function k_({domTreeShapes:o,start:e,current:t,anchor:i}){let u={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return o.some(p=>{let h=t>=e;(i==="top"||i==="left")&&(h=!h);let m=i==="left"||i==="right"?"x":"y",g=Math.round(p[u.scrollPosition[m]]),b=g>0,f=g+p[u.clientLength[m]]<p[u.scrollLength[m]];return!!(h&&f||!h&&b)})}l(k_,"computeHasNativeHandler");var R_=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),M_=ct.forwardRef(l(function(e,t){let i=(0,g0.default)({name:"MuiSwipeableDrawer",props:e}),u=jo(),p={enter:u.transitions.duration.enteringScreen,exit:u.transitions.duration.leavingScreen},{anchor:h="left",disableBackdropTransition:m=!1,disableDiscovery:g=!1,disableSwipeToOpen:b=R_,hideBackdrop:f,hysteresis:v=.52,allowSwipeInChildren:x=!1,minFlingVelocity:M=450,ModalProps:{BackdropProps:L}={},onClose:T,onOpen:A,open:C=!1,PaperProps:k={},SwipeAreaProps:O,swipeAreaWidth:I=20,transitionDuration:K=p,variant:G="temporary"}=i,q=Ln(i.ModalProps,S_),$=Ln(i,E_),[H,D]=ct.useState(!1),j=ct.useRef({isSwiping:null}),ne=ct.useRef(),Me=ct.useRef(),ce=ct.useRef(),Ge=Kl(k.ref,ce),Ee=ct.useRef(!1),pe=ct.useRef();t0(()=>{pe.current=null},[C]);let Y=ct.useCallback((Z,at={})=>{let{mode:de=null,changeTransition:ze=!0}=at,Ke=Yo(u,h),et=["right","bottom"].indexOf(Ke)!==-1?1:-1,wt=Xn(h),rt=wt?"translate(".concat(et*Z,"px, 0)"):"translate(0, ".concat(et*Z,"px)"),We=ce.current.style;We.webkitTransform=rt,We.transform=rt;let Ye="";if(de&&(Ye=u.transitions.create("all",Vi({easing:void 0,style:void 0,timeout:K},{mode:de}))),ze&&(We.webkitTransition=Ye,We.transition=Ye),!m&&!f){let ke=Me.current.style;ke.opacity=1-Z/Bi(wt,ce.current),ze&&(ke.webkitTransition=Ye,ke.transition=Ye)}},[h,m,f,u,K]),xe=Wl(Z=>{if(!Ee.current)return;if(qn=null,Ee.current=!1,uc.flushSync(()=>{D(!1)}),!j.current.isSwiping){j.current.isSwiping=null;return}j.current.isSwiping=null;let at=Yo(u,h),de=Xn(h),ze;de?ze=lc(at,Z.changedTouches,Hi(Z.currentTarget)):ze=ac(at,Z.changedTouches,Fi(Z.currentTarget));let Ke=de?j.current.startX:j.current.startY,et=Bi(de,ce.current),wt=v0(ze,Ke,C,et),rt=wt/et;if(Math.abs(j.current.velocity)>M&&(pe.current=Math.abs((et-wt)/j.current.velocity)*1e3),C){j.current.velocity>M||rt>v?T():Y(0,{mode:"exit"});return}j.current.velocity<-M||1-rt>v?A():Y(Bi(de,ce.current),{mode:"enter"})}),ve=l((Z=!1)=>{if(!H){(Z||!(g&&x))&&uc.flushSync(()=>{D(!0)});let at=Xn(h);!C&&ce.current&&Y(Bi(at,ce.current)+(g?15:-sc),{changeTransition:!1}),j.current.velocity=0,j.current.lastTime=null,j.current.lastTranslate=null,j.current.paperHit=!1,Ee.current=!0}},"startMaybeSwiping"),Ce=Wl(Z=>{if(!ce.current||!Ee.current||qn!==null&&qn!==j.current)return;ve(!0);let at=Yo(u,h),de=Xn(h),ze=lc(at,Z.touches,Hi(Z.currentTarget)),Ke=ac(at,Z.touches,Fi(Z.currentTarget));if(C&&ce.current.contains(Z.target)&&qn===null){let Ye=C_(Z.target,ce.current);if(k_({domTreeShapes:Ye,start:de?j.current.startX:j.current.startY,current:de?ze:Ke,anchor:h})){qn=!0;return}qn=j.current}if(j.current.isSwiping==null){let Ye=Math.abs(ze-j.current.startX),ke=Math.abs(Ke-j.current.startY),xn=de?Ye>ke&&Ye>Xl:ke>Ye&&ke>Xl;if(xn&&Z.cancelable&&Z.preventDefault(),xn===!0||(de?ke>Xl:Ye>Xl)){if(j.current.isSwiping=xn,!xn){xe(Z);return}j.current.startX=ze,j.current.startY=Ke,!g&&!C&&(de?j.current.startX-=sc:j.current.startY-=sc)}}if(!j.current.isSwiping)return;let et=Bi(de,ce.current),wt=de?j.current.startX:j.current.startY;C&&!j.current.paperHit&&(wt=Math.min(wt,et));let rt=v0(de?ze:Ke,wt,C,et);if(C)if(j.current.paperHit)rt===0&&(j.current.startX=ze,j.current.startY=Ke);else if(de?ze<et:Ke<et)j.current.paperHit=!0,j.current.startX=ze,j.current.startY=Ke;else return;j.current.lastTranslate===null&&(j.current.lastTranslate=rt,j.current.lastTime=performance.now()+1);let We=(rt-j.current.lastTranslate)/(performance.now()-j.current.lastTime)*1e3;j.current.velocity=j.current.velocity*.4+We*.6,j.current.lastTranslate=rt,j.current.lastTime=performance.now(),Z.cancelable&&Z.preventDefault(),Y(rt)}),gt=Wl(Z=>{if(Z.defaultPrevented||Z.defaultMuiPrevented||C&&(f||!Me.current.contains(Z.target))&&!ce.current.contains(Z.target))return;let at=Yo(u,h),de=Xn(h),ze=lc(at,Z.touches,Hi(Z.currentTarget)),Ke=ac(at,Z.touches,Fi(Z.currentTarget));if(!C){var et;if(b||!(Z.target===ne.current||(et=ce.current)!=null&&et.contains(Z.target)&&(typeof x=="function"?x(Z,ne.current,ce.current):x)))return;if(de){if(ze>I)return}else if(Ke>I)return}Z.defaultMuiPrevented=!0,qn=null,j.current.startX=ze,j.current.startY=Ke,ve()});return ct.useEffect(()=>{if(G==="temporary"){let Z=Hi(ce.current);return Z.addEventListener("touchstart",gt),Z.addEventListener("touchmove",Ce,{passive:!C}),Z.addEventListener("touchend",xe),()=>{Z.removeEventListener("touchstart",gt),Z.removeEventListener("touchmove",Ce,{passive:!C}),Z.removeEventListener("touchend",xe)}}},[G,C,gt,Ce,xe]),ct.useEffect(()=>()=>{qn===j.current&&(qn=null)},[]),ct.useEffect(()=>{C||D(!1)},[C]),(0,w0.jsxs)(ct.Fragment,{children:[(0,ql.jsx)(d0,ye({open:G==="temporary"&&H?!0:C,variant:G,ModalProps:ye({BackdropProps:ye({},L,{ref:Me})},G==="temporary"&&{keepMounted:!0},q),hideBackdrop:f,PaperProps:ye({},k,{style:ye({pointerEvents:G==="temporary"&&!C&&!x?"none":""},k.style),ref:Ge}),anchor:h,transitionDuration:pe.current||K,onClose:T,ref:t},$)),!b&&G==="temporary"&&(0,ql.jsx)(e0,{children:(0,ql.jsx)(m0,ye({anchor:h,ref:ne,width:I},O))})]})},"SwipeableDrawer")),cc=M_;var b0=V(Pe());var oe="e";var $r=V(re());function dc(){return(0,b0.useEffect)(()=>L_(),[]),(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("div",{id:oe}),(0,$r.jsx)("h1",{children:"Angles"})]})}l(dc,"Angles");function L_(){let o=new Re(oe);o.camera.position.set(0,1,4);let e=new kg({color:65280}),t=new qt;t.position.x=-1.1,t.add(Uo(41*Er,null,e,!0)),o.scene.add(t);let i=new qt;i.position.x=1.1;let u=Uo(270*Er,null,e,!0);u.rotation.x=Math.PI/2,i.add(u),o.scene.add(i)}l(L_,"setup");var Xo=V(Pe());var Bt=V(re());function hc(){let[o,e]=(0,Xo.useState)(null),[t,i]=(0,Xo.useState)(null),[u]=jl();return(0,Xo.useEffect)(()=>{i(O_(e))},[]),(0,Xo.useEffect)(()=>{if(o){let p=(u.hash||"#Orion").substr(1).replaceAll(/%20/g," "),[,h]=y0(t,o,p),m=t.labelCenterPosByName[h];if(!m)return;o.show(p,()=>!0),window.target=m}},[u,o,t]),(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("div",{id:oe}),(0,Bt.jsx)("h1",{children:"Asterisms"}),"Asterisms include constellations.",(0,Bt.jsx)("div",{id:"faveCtr",children:(0,Bt.jsx)("table",{id:"faves",cellPadding:"5em",children:(0,Bt.jsx)("tbody",{children:(0,Bt.jsxs)("tr",{children:[(0,Bt.jsx)("th",{children:"Asterism"}),(0,Bt.jsx)("th",{children:"Midpoint Star"}),(0,Bt.jsx)("th",{children:"Midpoint Star HIP"})]})})})})]})}l(hc,"Asterisms");function O_(o){let e=l((h,m)=>{window.target&&(m.camera.target=window.target,m.camera.lookAt(window.target))},"cb"),t=new Re(oe,e),i=new Bl;i.map(",",()=>{t.multFov(.9)},"Narrow field-of-vision"),i.map(".",()=>{t.multFov(1.1)},"Broaden field-of-vision"),i.map("/",()=>{t.resetFov()},"Reset field-of-vision to ".concat(Dg,"\xBA"));let u={radius:{scalar:694248950}};t.useStore={getState:()=>{},setState:()=>{},subscribe:()=>{}};let p=new Go(u,t,new Ii,()=>{new Gg(t,p,h=>{p.add(h),D_(p,h),o(h)})},!1);return t.scene.add(p),t.camera.position.z=100,p}l(O_,"setup");function y0(o,e,t){Ng(o,e,t);let i=e.catalog.byName.get(t);if(!i){console.warn("No such asterism: ",t);return}for(let u in i.paths){let p=i.paths[u];for(let h=Math.floor(p.length/2);h>=0;h--){let m=p[h],[g,b,f]=o.catalog.reifyName(m),v=o.catalog.namesByHip.get(f);if(v&&v.length>2)return b=v[0],[g,b,f]}}return[null,null,null]}l(y0,"findCenterStar");function D_(o,e){let t=Ft("faves");for(let i in e.catalog.byName){let[,u,p]=y0(o,e,i);u===null||p===null||(t.innerHTML+='<tr>\n        <td><a href="#'.concat(i,'">').concat(i,"</a></td>\n        <td>").concat(u,"</td>\n        <td>").concat(p,"</td>\n      </tr>"))}}l(D_,"setupFavesTable");var Vw=V(Pe());var fc=class fc{constructor(e,t,i,u,p,h,m,g,b,f,v){this.EyeHeight=2,this.SunY=e,this.SunIntensity=t,this.GroundElevation=i,this.AtmosphereHeight=u,this.RayleighRed=p,this.RayleighGreen=h,this.RayleighBlue=m,this.MieScatteringCoeff=b,this.RayleighScaleHeight=g,this.MieScaleHeight=f,this.MiePolarity=v,this.Presets=""}};l(fc,"Atmosphere");var Ui=fc;function Oe(o){return o==null}l(Oe,"isEmpty");function Xp(o){return o!==null&&typeof o=="object"}l(Xp,"isObject$1");function Pc(o){return o!==null&&typeof o=="object"}l(Pc,"isRecord");function A_(o,e){if(o.length!==e.length)return!1;for(let t=0;t<o.length;t++)if(o[t]!==e[t])return!1;return!0}l(A_,"deepEqualsArray");function no(o,e){return Array.from(new Set([...Object.keys(o),...Object.keys(e)])).reduce((i,u)=>{let p=o[u],h=e[u];return Pc(p)&&Pc(h)?Object.assign(Object.assign({},i),{[u]:no(p,h)}):Object.assign(Object.assign({},i),{[u]:u in e?h:p})},{})}l(no,"deepMerge");function qp(o){return Xp(o)?"target"in o:!1}l(qp,"isBinding");var z_={alreadydisposed:()=>"View has been already disposed",invalidparams:o=>"Invalid parameters for '".concat(o.name,"'"),nomatchingcontroller:o=>"No matching controller for '".concat(o.key,"'"),nomatchingview:o=>"No matching view for '".concat(JSON.stringify(o.params),"'"),notbindable:()=>"Value is not bindable",notcompatible:o=>"Not compatible with  plugin '".concat(o.id,"'"),propertynotfound:o=>"Property '".concat(o.name,"' not found"),shouldneverhappen:()=>"This error should never happen"},Mr=class Mr{static alreadyDisposed(){return new Mr({type:"alreadydisposed"})}static notBindable(){return new Mr({type:"notbindable"})}static notCompatible(e,t){return new Mr({type:"notcompatible",context:{id:"".concat(e,".").concat(t)}})}static propertyNotFound(e){return new Mr({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new Mr({type:"shouldneverhappen"})}constructor(e){var t;this.message=(t=z_[e.type](e.context))!==null&&t!==void 0?t:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}};l(Mr,"TpError");var mt=Mr,ha=class ha{constructor(e,t){this.obj_=e,this.key=t}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,t){let i=this.read();if(!ha.isBindable(i))throw mt.notBindable();if(!(e in i))throw mt.propertyNotFound(e);i[e]=t}};l(ha,"BindingTarget");var $l=ha,cd=class cd{constructor(){this.observers_={}}on(e,t,i){var u;let p=this.observers_[e];return p||(p=this.observers_[e]=[]),p.push({handler:t,key:(u=i==null?void 0:i.key)!==null&&u!==void 0?u:t}),this}off(e,t){let i=this.observers_[e];return i&&(this.observers_[e]=i.filter(u=>u.key!==t)),this}emit(e,t){let i=this.observers_[e];i&&i.forEach(u=>{u.handler(t)})}};l(cd,"Emitter");var Ze=cd,pd=class pd{constructor(e,t){var i;this.constraint_=t==null?void 0:t.constraint,this.equals_=(i=t==null?void 0:t.equals)!==null&&i!==void 0?i:(u,p)=>u===p,this.emitter=new Ze,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){let i=t!=null?t:{forceEmit:!1,last:!0},u=this.constraint_?this.constraint_.constrain(e):e,p=this.rawValue_;this.equals_(p,u)&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=u,this.emitter.emit("change",{options:i,previousRawValue:p,rawValue:u,sender:this}))}};l(pd,"ComplexValue");var Sc=pd,dd=class dd{constructor(e){this.emitter=new Ze,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){let i=t!=null?t:{forceEmit:!1,last:!0},u=this.value_;u===e&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:i,previousRawValue:u,rawValue:this.value_,sender:this}))}};l(dd,"PrimitiveValue");var Ec=dd,hd=class hd{constructor(e){this.emitter=new Ze,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}};l(hd,"ReadonlyPrimitiveValue");var Cc=hd;function Fe(o,e){let t=e==null?void 0:e.constraint,i=e==null?void 0:e.equals;return!t&&!i?new Ec(o):new Sc(o,e)}l(Fe,"createValue");function j_(o){return[new Cc(o),(e,t)=>{o.setRawValue(e,t)}]}l(j_,"createReadonlyValue");var fa=class fa{constructor(e){this.emitter=new Ze,this.valMap_=e;for(let t in this.valMap_)this.valMap_[t].emitter.on("change",()=>{this.emitter.emit("change",{key:t,sender:this})})}static createCore(e){return Object.keys(e).reduce((i,u)=>Object.assign(i,{[u]:Fe(e[u])}),{})}static fromObject(e){let t=this.createCore(e);return new fa(t)}get(e){return this.valMap_[e].rawValue}set(e,t){this.valMap_[e].rawValue=t}value(e){return this.valMap_[e]}};l(fa,"ValueMap");var ue=fa,fd=class fd{constructor(e){this.values=ue.fromObject({max:e.max,min:e.min})}constrain(e){let t=this.values.get("max"),i=this.values.get("min");return Math.min(Math.max(e,i),t)}};l(fd,"DefiniteRangeConstraint");var ro=fd,md=class md{constructor(e){this.values=ue.fromObject({max:e.max,min:e.min})}constrain(e){let t=this.values.get("max"),i=this.values.get("min"),u=e;return Oe(i)||(u=Math.max(u,i)),Oe(t)||(u=Math.min(u,t)),u}};l(md,"RangeConstraint");var kc=md,vd=class vd{constructor(e,t=0){this.step=e,this.origin=t}constrain(e){let t=this.origin%this.step,i=Math.round((e-t)/this.step);return t+i*this.step}};l(vd,"StepConstraint");var Rc=vd,gd=class gd{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}};l(gd,"NumberLiteralNode");var Mc=gd,N_={"**":(o,e)=>Math.pow(o,e),"*":(o,e)=>o*e,"/":(o,e)=>o/e,"%":(o,e)=>o%e,"+":(o,e)=>o+e,"-":(o,e)=>o-e,"<<":(o,e)=>o<<e,">>":(o,e)=>o>>e,">>>":(o,e)=>o>>>e,"&":(o,e)=>o&e,"^":(o,e)=>o^e,"|":(o,e)=>o|e},wd=class wd{constructor(e,t,i){this.left=t,this.operator=e,this.right=i}evaluate(){let e=N_[this.operator];if(!e)throw new Error("unexpected binary operator: '".concat(this.operator));return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}};l(wd,"BinaryOperationNode");var Tc=wd,I_={"+":o=>o,"-":o=>-o,"~":o=>~o},bd=class bd{constructor(e,t){this.operator=e,this.expression=t}evaluate(){let e=I_[this.operator];if(!e)throw new Error("unexpected unary operator: '".concat(this.operator));return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}};l(bd,"UnaryOperationNode");var Lc=bd;function Qp(o){return(e,t)=>{for(let i=0;i<o.length;i++){let u=o[i](e,t);if(u!=="")return u}return""}}l(Qp,"combineReader");function Xi(o,e){var t;let i=o.substr(e).match(/^\s+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}l(Xi,"readWhitespace");function V_(o,e){let t=o.substr(e,1);return t.match(/^[1-9]$/)?t:""}l(V_,"readNonZeroDigit");function qi(o,e){var t;let i=o.substr(e).match(/^[0-9]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}l(qi,"readDecimalDigits");function H_(o,e){let t=qi(o,e);if(t!=="")return t;let i=o.substr(e,1);if(e+=1,i!=="-"&&i!=="+")return"";let u=qi(o,e);return u===""?"":i+u}l(H_,"readSignedInteger");function Zp(o,e){let t=o.substr(e,1);if(e+=1,t.toLowerCase()!=="e")return"";let i=H_(o,e);return i===""?"":t+i}l(Zp,"readExponentPart");function K0(o,e){let t=o.substr(e,1);if(t==="0")return t;let i=V_(o,e);return e+=i.length,i===""?"":i+qi(o,e)}l(K0,"readDecimalIntegerLiteral");function F_(o,e){let t=K0(o,e);if(e+=t.length,t==="")return"";let i=o.substr(e,1);if(e+=i.length,i!==".")return"";let u=qi(o,e);return e+=u.length,t+i+u+Zp(o,e)}l(F_,"readDecimalLiteral1");function B_(o,e){let t=o.substr(e,1);if(e+=t.length,t!==".")return"";let i=qi(o,e);return e+=i.length,i===""?"":t+i+Zp(o,e)}l(B_,"readDecimalLiteral2");function U_(o,e){let t=K0(o,e);return e+=t.length,t===""?"":t+Zp(o,e)}l(U_,"readDecimalLiteral3");var G_=Qp([F_,B_,U_]);function K_(o,e){var t;let i=o.substr(e).match(/^[01]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}l(K_,"parseBinaryDigits");function W_(o,e){let t=o.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0b")return"";let i=K_(o,e);return i===""?"":t+i}l(W_,"readBinaryIntegerLiteral");function Y_(o,e){var t;let i=o.substr(e).match(/^[0-7]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}l(Y_,"readOctalDigits");function X_(o,e){let t=o.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0o")return"";let i=Y_(o,e);return i===""?"":t+i}l(X_,"readOctalIntegerLiteral");function q_(o,e){var t;let i=o.substr(e).match(/^[0-9a-f]+/i);return(t=i&&i[0])!==null&&t!==void 0?t:""}l(q_,"readHexDigits");function Q_(o,e){let t=o.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0x")return"";let i=q_(o,e);return i===""?"":t+i}l(Q_,"readHexIntegerLiteral");var Z_=Qp([W_,X_,Q_]),J_=Qp([Z_,G_]);function $_(o,e){let t=J_(o,e);return e+=t.length,t===""?null:{evaluable:new Mc(t),cursor:e}}l($_,"parseLiteral");function ex(o,e){let t=o.substr(e,1);if(e+=t.length,t!=="(")return null;let i=Y0(o,e);if(!i)return null;e=i.cursor,e+=Xi(o,e).length;let u=o.substr(e,1);return e+=u.length,u!==")"?null:{evaluable:i.evaluable,cursor:e}}l(ex,"parseParenthesizedExpression");function tx(o,e){var t;return(t=$_(o,e))!==null&&t!==void 0?t:ex(o,e)}l(tx,"parsePrimaryExpression");function W0(o,e){let t=tx(o,e);if(t)return t;let i=o.substr(e,1);if(e+=i.length,i!=="+"&&i!=="-"&&i!=="~")return null;let u=W0(o,e);return u?(e=u.cursor,{cursor:e,evaluable:new Lc(i,u.evaluable)}):null}l(W0,"parseUnaryExpression");function nx(o,e,t){t+=Xi(e,t).length;let i=o.filter(u=>e.startsWith(u,t))[0];return i?(t+=i.length,t+=Xi(e,t).length,{cursor:t,operator:i}):null}l(nx,"readBinaryOperator");function rx(o,e){return(t,i)=>{let u=o(t,i);if(!u)return null;i=u.cursor;let p=u.evaluable;for(;;){let h=nx(e,t,i);if(!h)break;i=h.cursor;let m=o(t,i);if(!m)return null;i=m.cursor,p=new Tc(h.operator,p,m.evaluable)}return p?{cursor:i,evaluable:p}:null}}l(rx,"createBinaryOperationExpressionParser");var ox=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((o,e)=>rx(o,e),W0);function Y0(o,e){return e+=Xi(o,e).length,ox(o,e)}l(Y0,"parseExpression");function ix(o){let e=Y0(o,0);return!e||e.cursor+Xi(o,e.cursor).length!==o.length?null:e.evaluable}l(ix,"parseEcmaNumberExpression");function $n(o){var e;let t=ix(o);return(e=t==null?void 0:t.evaluate())!==null&&e!==void 0?e:null}l($n,"parseNumber");function X0(o){if(typeof o=="number")return o;if(typeof o=="string"){let e=$n(o);if(!Oe(e))return e}return 0}l(X0,"numberFromUnknown");function sx(o){return String(o)}l(sx,"numberToString");function Gt(o){return e=>e.toFixed(Math.max(Math.min(o,20),0))}l(Gt,"createNumberFormatter");function Se(o,e,t,i,u){let p=(o-e)/(t-e);return i+p*(u-i)}l(Se,"mapRange");function _0(o){return String(o.toFixed(10)).split(".")[1].replace(/0+$/,"").length}l(_0,"getDecimalDigits");function pt(o,e,t){return Math.min(Math.max(o,e),t)}l(pt,"constrainRange");function q0(o,e){return(o%e+e)%e}l(q0,"loopRange");function lx(o,e){return Oe(o.step)?Math.max(_0(e),2):_0(o.step)}l(lx,"getSuitableDecimalDigits");function Q0(o){var e;return(e=o.step)!==null&&e!==void 0?e:1}l(Q0,"getSuitableKeyScale");function Z0(o,e){var t;let i=Math.abs((t=o.step)!==null&&t!==void 0?t:e);return i===0?.1:Math.pow(10,Math.floor(Math.log10(i))-1)}l(Z0,"getSuitablePointerScale");function J0(o,e){return Oe(o.step)?null:new Rc(o.step,e)}l(J0,"createStepConstraint");function $0(o){return!Oe(o.max)&&!Oe(o.min)?new ro({max:o.max,min:o.min}):!Oe(o.max)||!Oe(o.min)?new kc({max:o.max,min:o.min}):null}l($0,"createRangeConstraint");function ew(o,e){var t,i,u;return{formatter:(t=o.format)!==null&&t!==void 0?t:Gt(lx(o,e)),keyScale:(i=o.keyScale)!==null&&i!==void 0?i:Q0(o),pointerScale:(u=o.pointerScale)!==null&&u!==void 0?u:Z0(o,e)}}l(ew,"createNumberTextPropsObject");function tw(o){return{format:o.optional.function,keyScale:o.optional.number,max:o.optional.number,min:o.optional.number,pointerScale:o.optional.number,step:o.optional.number}}l(tw,"createNumberTextInputParamsParser");function Jp(o){return{constraint:o.constraint,textProps:ue.fromObject(ew(o.params,o.initialValue))}}l(Jp,"createPointAxis");var yd=class yd{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}};l(yd,"BladeApi");var er=yd,_d=class _d{constructor(e){this.target=e}};l(_d,"TpEvent");var Zo=_d,xd=class xd extends Zo{constructor(e,t,i){super(e),this.value=t,this.last=i!=null?i:!0}};l(xd,"TpChangeEvent");var oo=xd,Pd=class Pd extends Zo{constructor(e,t){super(e),this.expanded=t}};l(Pd,"TpFoldEvent");var Oc=Pd,Sd=class Sd extends Zo{constructor(e,t){super(e),this.index=t}};l(Sd,"TpTabSelectEvent");var Dc=Sd,Ed=class Ed extends Zo{constructor(e,t){super(e),this.native=t}};l(Ed,"TpMouseEvent");var Ac=Ed,Cd=class Cd extends er{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new Ze,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}refresh(){this.controller.value.fetch()}onValueChange_(e){let t=this.controller.value;this.emitter_.emit("change",new oo(this,t.binding.target.read(),e.options.last))}};l(Cd,"BindingApi");var io=Cd,kd=class kd{constructor(e,t){this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=t,this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.emitter=new Ze}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,t){this.value_.setRawValue(e,t)}fetch(){this.value_.rawValue=this.binding.read()}push(){this.binding.write(this.value_.rawValue)}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.push(),this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}};l(kd,"InputBindingValue");var zc=kd;function ax(o){if(!("binding"in o))return!1;let e=o.binding;return qp(e)&&"read"in e&&"write"in e}l(ax,"isInputBindingValue");function ux(o,e){let i=Object.keys(e).reduce((u,p)=>{if(u===void 0)return;let h=e[p],m=h(o[p]);return m.succeeded?Object.assign(Object.assign({},u),{[p]:m.value}):void 0},{});return i}l(ux,"parseObject");function cx(o,e){return o.reduce((t,i)=>{if(t===void 0)return;let u=e(i);if(!(!u.succeeded||u.value===void 0))return[...t,u.value]},[])}l(cx,"parseArray");function px(o){return o===null?!1:typeof o=="object"}l(px,"isObject");function Qn(o){return e=>t=>{if(!e&&t===void 0)return{succeeded:!1,value:void 0};if(e&&t===void 0)return{succeeded:!0,value:void 0};let i=o(t);return i!==void 0?{succeeded:!0,value:i}:{succeeded:!1,value:void 0}}}l(Qn,"createMicroParserBuilder");function x0(o){return{custom:e=>Qn(e)(o),boolean:Qn(e=>typeof e=="boolean"?e:void 0)(o),number:Qn(e=>typeof e=="number"?e:void 0)(o),string:Qn(e=>typeof e=="string"?e:void 0)(o),function:Qn(e=>typeof e=="function"?e:void 0)(o),constant:e=>Qn(t=>t===e?e:void 0)(o),raw:Qn(e=>e)(o),object:e=>Qn(t=>{if(px(t))return ux(t,e)})(o),array:e=>Qn(t=>{if(Array.isArray(t))return cx(t,e)})(o)}}l(x0,"createMicroParserBuilders");var jc={optional:x0(!0),required:x0(!1)};function qe(o,e){let t=e(jc),i=jc.required.object(t)(o);return i.succeeded?i.value:void 0}l(qe,"parseRecord");function Qt(o,e,t,i){if(e&&!e(o))return!1;let u=qe(o,t);return u?i(u):!1}l(Qt,"importBladeState");function Zt(o,e){var t;return no((t=o==null?void 0:o())!==null&&t!==void 0?t:{},e)}l(Zt,"exportBladeState");function to(o){return"value"in o}l(to,"isValueBladeController");function nw(o){if(!Xp(o)||!("binding"in o))return!1;let e=o.binding;return qp(e)}l(nw,"isBindingValue");var An="http://www.w3.org/2000/svg";function ea(o){o.offsetHeight}l(ea,"forceReflow");function dx(o,e){let t=o.style.transition;o.style.transition="none",e(),o.style.transition=t}l(dx,"disableTransitionTemporarily");function $p(o){return o.ontouchstart!==void 0}l($p,"supportsTouch");function hx(){return globalThis}l(hx,"getGlobalObject");function fx(){return hx().document}l(fx,"getWindowDocument");function mx(o){let e=o.ownerDocument.defaultView;return e&&"document"in e?o.getContext("2d",{willReadFrequently:!0}):null}l(mx,"getCanvasContext");var vx={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function wa(o,e){let t=o.createElementNS(An,"svg");return t.innerHTML=vx[e],t}l(wa,"createSvgIconElement");function rw(o,e,t){o.insertBefore(e,o.children[t])}l(rw,"insertElementAt");function ed(o){o.parentElement&&o.parentElement.removeChild(o)}l(ed,"removeElement");function ow(o){for(;o.children.length>0;)o.removeChild(o.children[0])}l(ow,"removeChildElements");function gx(o){for(;o.childNodes.length>0;)o.removeChild(o.childNodes[0])}l(gx,"removeChildNodes");function iw(o){return o.relatedTarget?o.relatedTarget:"explicitOriginalTarget"in o?o.explicitOriginalTarget:null}l(iw,"findNextTarget");function Jn(o,e){o.emitter.on("change",t=>{e(t.rawValue)}),e(o.rawValue)}l(Jn,"bindValue");function jn(o,e,t){Jn(o.value(e),t)}l(jn,"bindValueMap");var wx="tp";function me(o){return l((t,i)=>[wx,"-",o,"v",t?"_".concat(t):"",i?"-".concat(i):""].join(""),"fn")}l(me,"ClassName");var Gi=me("lbl");function bx(o,e){let t=o.createDocumentFragment();return e.split("\n").map(u=>o.createTextNode(u)).forEach((u,p)=>{p>0&&t.appendChild(o.createElement("br")),t.appendChild(u)}),t}l(bx,"createLabelNode");var Rd=class Rd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Gi()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Gi("l")),jn(t.props,"label",p=>{Oe(p)?this.element.classList.add(Gi(void 0,"nol")):(this.element.classList.remove(Gi(void 0,"nol")),gx(i),i.appendChild(bx(e,p)))}),this.element.appendChild(i),this.labelElement=i;let u=e.createElement("div");u.classList.add(Gi("v")),this.element.appendChild(u),this.valueElement=u}};l(Rd,"LabelView");var ta=Rd,Md=class Md{constructor(e,t){this.props=t.props,this.valueController=t.valueController,this.viewProps=t.valueController.viewProps,this.view=new ta(e,{props:t.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return Qt(e,null,t=>({label:t.optional.string}),t=>(this.props.set("label",t.label),!0))}exportProps(){return Zt(null,{label:this.props.get("label")})}};l(Md,"LabelController");var na=Md;function yx(){return["veryfirst","first","last","verylast"]}l(yx,"getAllBladePositions");var P0=me(""),S0={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"},Td=class Td{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;let t=this.view.element;this.blade.value("positions").emitter.on("change",()=>{yx().forEach(i=>{t.classList.remove(P0(void 0,S0[i]))}),this.blade.get("positions").forEach(i=>{t.classList.add(P0(void 0,S0[i]))})}),this.viewProps.handleDispose(()=>{ed(t)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return Qt(e,null,t=>({disabled:t.required.boolean,hidden:t.required.boolean}),t=>(this.viewProps.importState(t),!0))}exportState(){return Zt(null,Object.assign({},this.viewProps.exportState()))}};l(Td,"BladeController");var Jo=Td,Ld=class Ld extends Jo{constructor(e,t){if(t.value!==t.valueController.value)throw mt.shouldNeverHappen();let i=t.valueController.viewProps,u=new na(e,{blade:t.blade,props:t.props,valueController:t.valueController});super(Object.assign(Object.assign({},t),{view:new ta(e,{props:t.props,viewProps:i}),viewProps:i})),this.labelController=u,this.value=t.value,this.valueController=t.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return Qt(e,t=>{var i,u,p;return super.importState(t)&&this.labelController.importProps(t)&&((p=(u=(i=this.valueController).importProps)===null||u===void 0?void 0:u.call(i,e))!==null&&p!==void 0?p:!0)},t=>({value:t.optional.raw}),t=>(t.value&&(this.value.rawValue=t.value),!0))}exportState(){var e,t,i;return Zt(()=>super.exportState(),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),(i=(t=(e=this.valueController).exportProps)===null||t===void 0?void 0:t.call(e))!==null&&i!==void 0?i:{}))}};l(Ld,"LabeledValueBladeController");var tr=Ld;function E0(o){let e=Object.assign({},o);return delete e.value,e}l(E0,"excludeValue");var Od=class Od extends tr{constructor(e,t){super(e,t),this.tag=t.tag}importState(e){return Qt(e,t=>super.importState(E0(e)),t=>({tag:t.optional.string}),t=>(this.tag=t.tag,!0))}exportState(){return Zt(()=>E0(super.exportState()),{binding:{key:this.value.binding.target.key,value:this.value.binding.target.read()},tag:this.tag})}};l(Od,"BindingController");var ra=Od;function _x(o){return to(o)&&nw(o.value)}l(_x,"isBindingController");var Dd=class Dd extends ra{importState(e){return Qt(e,t=>super.importState(t),t=>({binding:t.required.object({value:t.required.raw})}),t=>(this.value.binding.inject(t.binding.value),this.value.fetch(),!0))}};l(Dd,"InputBindingController");var Nc=Dd;function xx(o){return to(o)&&ax(o.value)}l(xx,"isInputBindingController");function sw(o,e){for(;o.length<e;)o.push(void 0)}l(sw,"fillBuffer");function Px(o){let e=[];return sw(e,o),e}l(Px,"initializeBuffer");function Sx(o){let e=o.indexOf(void 0);return e<0?o:o.slice(0,e)}l(Sx,"createTrimmedBuffer");function Ex(o,e){let t=[...Sx(o),e];return t.length>o.length?t.splice(0,t.length-o.length):sw(t,o.length),t}l(Ex,"createPushedBuffer");var Ad=class Ad{constructor(e){this.emitter=new Ze,this.onTick_=this.onTick_.bind(this),this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=e.binding,this.value_=Fe(Px(e.bufferSize)),this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.fetch()}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,t){this.value_.setRawValue(e,t)}fetch(){this.value_.rawValue=Ex(this.value_.rawValue,this.binding.read())}onTick_(){this.fetch()}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}};l(Ad,"MonitorBindingValue");var Ic=Ad;function Cx(o){if(!("binding"in o))return!1;let e=o.binding;return qp(e)&&"read"in e&&!("write"in e)}l(Cx,"isMonitorBindingValue");var zd=class zd extends ra{exportState(){return Zt(()=>super.exportState(),{binding:{readonly:!0}})}};l(zd,"MonitorBindingController");var Vc=zd;function kx(o){return to(o)&&Cx(o.value)}l(kx,"isMonitorBindingController");var jd=class jd extends er{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,t){let i=t.bind(this);return this.controller.buttonController.emitter.on(e,p=>{i(new Ac(this,p.nativeEvent))}),this}off(e,t){return this.controller.buttonController.emitter.off(e,t),this}};l(jd,"ButtonApi");var Hc=jd;function Rx(o,e,t){t?o.classList.add(e):o.classList.remove(e)}l(Rx,"applyClass");function ni(o,e){return t=>{Rx(o,e,t)}}l(ni,"valueToClassName");function td(o,e){Jn(o,t=>{e.textContent=t!=null?t:""})}l(td,"bindValueToTextContent");var mc=me("btn"),Nd=class Nd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(mc()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("button");i.classList.add(mc("b")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;let u=e.createElement("div");u.classList.add(mc("t")),td(t.props.value("title"),u),this.buttonElement.appendChild(u)}};l(Nd,"ButtonView");var Fc=Nd,Id=class Id{constructor(e,t){this.emitter=new Ze,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new Fc(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return Qt(e,null,t=>({title:t.optional.string}),t=>(this.props.set("title",t.title),!0))}exportProps(){return Zt(null,{title:this.props.get("title")})}onClick_(e){this.emitter.emit("click",{nativeEvent:e,sender:this})}};l(Id,"ButtonController");var Bc=Id,Vd=class Vd extends Jo{constructor(e,t){let i=new Bc(e,{props:t.buttonProps,viewProps:t.viewProps}),u=new na(e,{blade:t.blade,props:t.labelProps,valueController:i});super({blade:t.blade,view:u.view,viewProps:t.viewProps}),this.buttonController=i,this.labelController=u}importState(e){return Qt(e,t=>super.importState(t)&&this.buttonController.importProps(t)&&this.labelController.importProps(t),()=>({}),()=>!0)}exportState(){return Zt(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}};l(Vd,"ButtonBladeController");var oa=Vd,Hd=class Hd{constructor(e){let[t,i]=e.split("-"),u=t.split(".");this.major=parseInt(u[0],10),this.minor=parseInt(u[1],10),this.patch=parseInt(u[2],10),this.prerelease=i!=null?i:null}toString(){let e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}};l(Hd,"Semver");var ia=Hd,ri=new ia("2.0.3");function Lt(o){return Object.assign({core:ri},o)}l(Lt,"createPlugin");var Mx=Lt({id:"button",type:"blade",accept(o){let e=qe(o,t=>({title:t.required.string,view:t.required.constant("button"),label:t.optional.string}));return e?{params:e}:null},controller(o){return new oa(o.document,{blade:o.blade,buttonProps:ue.fromObject({title:o.params.title}),labelProps:ue.fromObject({label:o.params.label}),viewProps:o.viewProps})},api(o){return o.controller instanceof oa?new Hc(o.controller):null}});function Tx(o,e){return o.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}l(Tx,"addButtonAsBlade");function Lx(o,e){return o.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}l(Lx,"addFolderAsBlade");function Ox(o,e){return o.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}l(Ox,"addTabAsBlade");function Dx(o){return Xp(o)?"refresh"in o&&typeof o.refresh=="function":!1}l(Dx,"isRefreshable");function Ax(o,e){if(!$l.isBindable(o))throw mt.notBindable();return new $l(o,e)}l(Ax,"createBindingTarget");var Fd=class Fd{constructor(e,t){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new Ze,this.pool_=t,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,t,i){let u=i!=null?i:{},p=this.controller_.element.ownerDocument,h=this.pool_.createBinding(p,Ax(e,t),u),m=this.pool_.createBindingApi(h);return this.add(m,u.index)}addFolder(e){return Lx(this,e)}addButton(e){return Tx(this,e)}addTab(e){return Ox(this,e)}add(e,t){let i=e.controller;return this.controller_.rack.add(i,t),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){let t=this.controller_.element.ownerDocument,i=this.pool_.createBlade(t,e),u=this.pool_.createApi(i);return this.add(u,e.index)}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}refresh(){this.children.forEach(e=>{Dx(e)&&e.refresh()})}onRackValueChange_(e){let t=e.bladeController,i=this.pool_.createApi(t),u=nw(t.value)?t.value.binding:null;this.emitter_.emit("change",new oo(i,u?u.target.read():t.value.rawValue,e.options.last))}};l(Fd,"RackApi");var Uc=Fd,Bd=class Bd extends er{constructor(e,t){super(e),this.rackApi_=new Uc(e.rackController,t)}refresh(){this.rackApi_.refresh()}};l(Bd,"ContainerBladeApi");var Qi=Bd,Ud=class Ud extends Jo{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return Qt(e,t=>super.importState(t),t=>({children:t.required.array(t.required.raw)}),t=>this.rackController.rack.children.every((i,u)=>i.importState(t.children[u])))}exportState(){return Zt(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}};l(Ud,"ContainerBladeController");var Zi=Ud;function Gc(o){return"rackController"in o}l(Gc,"isContainerBladeController");var Gd=class Gd{constructor(e){this.emitter=new Ze,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(let t of this.allItems())if(e(t))return t;return null}includes(e){return this.cache_.has(e)}add(e,t){if(this.includes(e))throw mt.shouldNeverHappen();let i=t!==void 0?t:this.items_.length;this.items_.splice(i,0,e),this.cache_.add(e);let u=this.extract_(e);u&&(u.emitter.on("add",this.onSubListAdd_),u.emitter.on("remove",this.onSubListRemove_),u.allItems().forEach(p=>{this.cache_.add(p)})),this.emitter.emit("add",{index:i,item:e,root:this,target:this})}remove(e){let t=this.items_.indexOf(e);if(t<0)return;this.items_.splice(t,1),this.cache_.delete(e);let i=this.extract_(e);i&&(i.allItems().forEach(u=>{this.cache_.delete(u)}),i.emitter.off("add",this.onSubListAdd_),i.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:t,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}};l(Gd,"NestedOrderedSet");var Kc=Gd;function zx(o,e){for(let t=0;t<o.length;t++){let i=o[t];if(to(i)&&i.value===e)return i}return null}l(zx,"findValueBladeController");function jx(o){return Gc(o)?o.rackController.rack.bcSet_:null}l(jx,"findSubBladeControllerSet");var Kd=class Kd{constructor(e){var t,i;this.emitter=new Ze,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(t=e.blade)!==null&&t!==void 0?t:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new Kc(jx),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,t){var i;(i=e.parent)===null||i===void 0||i.remove(e),e.parent=this,this.bcSet_.add(e,t)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();let t=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:t,sender:this}),!t)return;let i=e.item;if(i.viewProps.emitter.on("change",this.onChildViewPropsChange_),i.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),i.viewProps.handleDispose(this.onChildDispose_),to(i))i.value.emitter.on("change",this.onChildValueChange_);else if(Gc(i)){let u=i.rackController.rack;if(u){let p=u.emitter;p.on("layout",this.onRackLayout_),p.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();let t=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:t,sender:this}),!t)return;let i=e.item;if(to(i))i.value.emitter.off("change",this.onChildValueChange_);else if(Gc(i)){let u=i.rackController.rack;if(u){let p=u.emitter;p.off("layout",this.onRackLayout_),p.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){let e=this.bcSet_.items.filter(u=>!u.viewProps.get("hidden")),t=e[0],i=e[e.length-1];this.bcSet_.items.forEach(u=>{let p=[];u===t&&(p.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&p.push("veryfirst")),u===i&&(p.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&p.push("verylast")),u.blade.set("positions",p)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(t=>t.viewProps.get("disposed")).forEach(t=>{this.bcSet_.remove(t)})}onChildValueChange_(e){let t=zx(this.find(to),e.sender);if(!t)throw mt.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:t,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}};l(Kd,"Rack");var Wc=Kd,Wd=class Wd{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;let t=new Wc({blade:e.root?void 0:e.blade,viewProps:e.viewProps});t.emitter.on("add",this.onRackAdd_),t.emitter.on("remove",this.onRackRemove_),this.rack=t,this.viewProps.handleDispose(()=>{for(let i=this.rack.children.length-1;i>=0;i--)this.rack.children[i].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&rw(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&ed(e.bladeController.view.element)}};l(Wd,"RackController");var Ji=Wd;function oi(){return new ue({positions:Fe([],{equals:A_})})}l(oi,"createBlade");var ma=class ma extends ue{constructor(e){super(e)}static create(e){let t={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},i=ue.createCore(t);return new ma(i)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";let e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!Oe(e)?"".concat(e,"px"):"auto"}bindExpandedClass(e,t){let i=l(()=>{this.styleExpanded?e.classList.add(t):e.classList.remove(t)},"onExpand");jn(this,"expanded",i),jn(this,"temporaryExpanded",i)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}};l(ma,"Foldable");var $i=ma;function Nx(o,e){let t=0;return dx(e,()=>{o.set("expandedHeight",null),o.set("temporaryExpanded",!0),ea(e),t=e.clientHeight,o.set("temporaryExpanded",null),ea(e)}),t}l(Nx,"computeExpandedFolderHeight");function C0(o,e){e.style.height=o.styleHeight}l(C0,"applyHeight");function nd(o,e){o.value("expanded").emitter.on("beforechange",()=>{if(o.set("completed",!1),Oe(o.get("expandedHeight"))){let t=Nx(o,e);t>0&&o.set("expandedHeight",t)}o.set("shouldFixHeight",!0),ea(e)}),o.emitter.on("change",()=>{C0(o,e)}),C0(o,e),e.addEventListener("transitionend",t=>{t.propertyName==="height"&&o.cleanUpTransition()})}l(nd,"bindFoldable");var Yd=class Yd extends Qi{constructor(e,t){super(e,t),this.emitter_=new Ze,this.controller.foldable.value("expanded").emitter.on("change",i=>{this.emitter_.emit("fold",new Oc(this,i.sender.rawValue))}),this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,t,i){return this.rackApi_.addBinding(e,t,i)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){return this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}};l(Yd,"FolderApi");var sa=Yd,lw=me("cnt"),Xd=class Xd{constructor(e,t){var i;this.className_=me((i=t.viewName)!==null&&i!==void 0?i:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),lw()),t.viewProps.bindClassModifiers(this.element),this.foldable_=t.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),jn(this.foldable_,"completed",ni(this.element,this.className_(void 0,"cpl")));let u=e.createElement("button");u.classList.add(this.className_("b")),jn(t.props,"title",b=>{Oe(b)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),t.viewProps.bindDisabled(u),this.element.appendChild(u),this.buttonElement=u;let p=e.createElement("div");p.classList.add(this.className_("i")),this.element.appendChild(p);let h=e.createElement("div");h.classList.add(this.className_("t")),td(t.props.value("title"),h),this.buttonElement.appendChild(h),this.titleElement=h;let m=e.createElement("div");m.classList.add(this.className_("m")),this.buttonElement.appendChild(m);let g=e.createElement("div");g.classList.add(this.className_("c")),this.element.appendChild(g),this.containerElement=g}};l(Xd,"FolderView");var Yc=Xd,qd=class qd extends Zi{constructor(e,t){var i;let u=$i.create((i=t.expanded)!==null&&i!==void 0?i:!0),p=new Yc(e,{foldable:u,props:t.props,viewName:t.root?"rot":void 0,viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:new Ji({blade:t.blade,element:p.containerElement,root:t.root,viewProps:t.viewProps}),view:p})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=t.props,this.foldable=u,nd(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return Qt(e,t=>super.importState(t),t=>({expanded:t.required.boolean,title:t.optional.string}),t=>(this.foldable.set("expanded",t.expanded),this.props.set("title",t.title),!0))}exportState(){return Zt(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}};l(qd,"FolderController");var es=qd,Ix=Lt({id:"folder",type:"blade",accept(o){let e=qe(o,t=>({title:t.required.string,view:t.required.constant("folder"),expanded:t.optional.boolean}));return e?{params:e}:null},controller(o){return new es(o.document,{blade:o.blade,expanded:o.params.expanded,props:ue.fromObject({title:o.params.title}),viewProps:o.viewProps})},api(o){return o.controller instanceof es?new sa(o.controller,o.pool):null}}),Vx=me("");function k0(o,e){return ni(o,Vx(void 0,e))}l(k0,"valueToModifier");var va=class va extends ue{constructor(e){var t;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=j_(Fe(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(t=this.get("parent"))===null||t===void 0||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var t,i,u;let p=e!=null?e:{};return new va(ue.createCore({disabled:(t=p.disabled)!==null&&t!==void 0?t:!1,disposed:!1,hidden:(i=p.hidden)!==null&&i!==void 0?i:!1,parent:(u=p.parent)!==null&&u!==void 0?u:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){Jn(this.globalDisabled_,k0(e,"disabled")),jn(this,"hidden",k0(e,"hidden"))}bindDisabled(e){Jn(this.globalDisabled_,t=>{e.disabled=t})}bindTabIndex(e){Jn(this.globalDisabled_,t=>{e.tabIndex=t?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",t=>{t&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){let e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var t;let i=e.previousRawValue;i==null||i.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(t=this.get("parent"))===null||t===void 0||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}};l(va,"ViewProps");var nr=va,R0=me("tbp"),Qd=class Qd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(R0()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(R0("c")),this.element.appendChild(i),this.containerElement=i}};l(Qd,"TabPageView");var Xc=Qd,Ki=me("tbi"),Zd=class Zd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Ki()),t.viewProps.bindClassModifiers(this.element),jn(t.props,"selected",p=>{p?this.element.classList.add(Ki(void 0,"sel")):this.element.classList.remove(Ki(void 0,"sel"))});let i=e.createElement("button");i.classList.add(Ki("b")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;let u=e.createElement("div");u.classList.add(Ki("t")),td(t.props.value("title"),u),this.buttonElement.appendChild(u),this.titleElement=u}};l(Zd,"TabItemView");var qc=Zd,Jd=class Jd{constructor(e,t){this.emitter=new Ze,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new qc(e,{props:t.props,viewProps:t.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}};l(Jd,"TabItemController");var Qc=Jd,$d=class $d extends Zi{constructor(e,t){let i=new Xc(e,{viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:new Ji({blade:t.blade,element:i.containerElement,viewProps:t.viewProps}),view:i})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new Qc(e,{props:t.itemProps,viewProps:nr.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=t.props,jn(this.props,"selected",u=>{this.itemController.props.set("selected",u),this.viewProps.set("hidden",!u)})}get itemController(){return this.ic_}importState(e){return Qt(e,t=>super.importState(t),t=>({selected:t.required.boolean,title:t.required.string}),t=>(this.ic_.props.set("selected",t.selected),this.ic_.props.set("title",t.title),!0))}exportState(){return Zt(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}};l($d,"TabPageController");var ts=$d,eh=class eh extends Qi{constructor(e,t){super(e,t),this.emitter_=new Ze,this.onSelect_=this.onSelect_.bind(this),this.pool_=t,this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){let t=this.controller.view.element.ownerDocument,i=new ts(t,{blade:oi(),itemProps:ue.fromObject({selected:!1,title:e.title}),props:ue.fromObject({selected:!1}),viewProps:nr.create()}),u=this.pool_.createApi(i);return this.rackApi_.add(u,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}onSelect_(e){this.emitter_.emit("select",new Dc(this,e.rawValue))}};l(eh,"TabApi");var Zc=eh,th=class th extends Qi{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBinding(e,t,i){return this.rackApi_.addBinding(e,t,i)}addBlade(e){return this.rackApi_.addBlade(e)}};l(th,"TabPageApi");var Jc=th,M0=-1,nh=class nh{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=Fe(!0),this.selectedIndex=Fe(M0),this.items_=[]}add(e,t){let i=t!=null?t:this.items_.length;this.items_.splice(i,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){let t=this.items_.indexOf(e);t<0||(this.items_.splice(t,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=M0,this.empty.rawValue=!0;return}let e=this.items_.findIndex(t=>t.rawValue);e<0?(this.items_.forEach((t,i)=>{t.rawValue=i===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((t,i)=>{t.rawValue=i===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){let t=this.items_.findIndex(i=>i===e.sender);this.items_.forEach((i,u)=>{i.rawValue=u===t}),this.selectedIndex.rawValue=t}else this.keepSelection_()}};l(nh,"Tab");var $c=nh,Wi=me("tab"),rh=class rh{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Wi(),lw()),t.viewProps.bindClassModifiers(this.element),Jn(t.empty,ni(this.element,Wi(void 0,"nop")));let i=e.createElement("div");i.classList.add(Wi("t")),this.element.appendChild(i),this.itemsElement=i;let u=e.createElement("div");u.classList.add(Wi("i")),this.element.appendChild(u);let p=e.createElement("div");p.classList.add(Wi("c")),this.element.appendChild(p),this.contentsElement=p}};l(rh,"TabView");var ep=rh,oh=class oh extends Zi{constructor(e,t){let i=new $c,u=new ep(e,{empty:i.empty,viewProps:t.viewProps});super({blade:t.blade,rackController:new Ji({blade:t.blade,element:u.contentsElement,viewProps:t.viewProps}),view:u}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);let p=this.rackController.rack;p.emitter.on("add",this.onRackAdd_),p.emitter.on("remove",this.onRackRemove_),this.tab=i}add(e,t){this.rackController.rack.add(e,t)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;let t=e.bladeController;rw(this.view.itemsElement,t.itemController.view.element,e.index),t.itemController.viewProps.set("parent",this.viewProps),this.tab.add(t.props.value("selected"))}onRackRemove_(e){if(!e.root)return;let t=e.bladeController;ed(t.itemController.view.element),t.itemController.viewProps.set("parent",null),this.tab.remove(t.props.value("selected"))}};l(oh,"TabController");var la=oh,aw=Lt({id:"tab",type:"blade",accept(o){let e=qe(o,t=>({pages:t.required.array(t.required.object({title:t.required.string})),view:t.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(o){let e=new la(o.document,{blade:o.blade,viewProps:o.viewProps});return o.params.pages.forEach(t=>{let i=new ts(o.document,{blade:oi(),itemProps:ue.fromObject({selected:!1,title:t.title}),props:ue.fromObject({selected:!1}),viewProps:nr.create()});e.add(i)}),e},api(o){return o.controller instanceof la?new Zc(o.controller,o.pool):o.controller instanceof ts?new Jc(o.controller,o.pool):null}});function Hx(o,e){let t=o.accept(e.params);if(!t)return null;let i=qe(e.params,u=>({disabled:u.optional.boolean,hidden:u.optional.boolean}));return o.controller({blade:oi(),document:e.document,params:Object.assign(Object.assign({},t.params),{disabled:i==null?void 0:i.disabled,hidden:i==null?void 0:i.hidden}),viewProps:nr.create({disabled:i==null?void 0:i.disabled,hidden:i==null?void 0:i.hidden})})}l(Hx,"createBladeController");var ih=class ih extends io{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}};l(ih,"ListInputBindingApi");var ns=ih,sh=class sh{constructor(){this.disabled=!1,this.emitter=new Ze}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}};l(sh,"ManualTicker");var tp=sh,lh=class lh{constructor(e,t){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new Ze,this.interval_=t,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;let e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;let e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}};l(lh,"IntervalTicker");var np=lh,ah=class ah{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((t,i)=>i.constrain(t),e)}};l(ah,"CompositeConstraint");var so=ah;function aa(o,e){if(o instanceof e)return o;if(o instanceof so){let t=o.constraints.reduce((i,u)=>i||(u instanceof e?u:null),null);if(t)return t}return null}l(aa,"findConstraint");var uh=class uh{constructor(e){this.values=ue.fromObject({options:e})}constrain(e){let t=this.values.get("options");return t.length===0||t.filter(u=>u.value===e).length>0?e:t[0].value}};l(uh,"ListConstraint");var lo=uh;function ps(o){var e;let t=jc;if(Array.isArray(o))return(e=qe({items:o},i=>({items:i.required.array(i.required.object({text:i.required.string,value:i.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof o=="object")return t.required.raw(o).value}l(ps,"parseListOptions");function rd(o){if(Array.isArray(o))return o;let e=[];return Object.keys(o).forEach(t=>{e.push({text:t,value:o[t]})}),e}l(rd,"normalizeListOptions");function od(o){return Oe(o)?null:new lo(rd(o))}l(od,"createListConstraint");var vc=me("lst"),ch=class ch{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.element=e.createElement("div"),this.element.classList.add(vc()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("select");i.classList.add(vc("s")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.selectElement=i;let u=e.createElement("div");u.classList.add(vc("m")),u.appendChild(wa(e,"dropdown")),this.element.appendChild(u),t.value.emitter.on("change",this.onValueChange_),this.value_=t.value,jn(this.props_,"options",p=>{ow(this.selectElement),p.forEach(h=>{let m=e.createElement("option");m.textContent=h.text,this.selectElement.appendChild(m)}),this.update_()})}update_(){let e=this.props_.get("options").map(t=>t.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}};l(ch,"ListView");var rp=ch,ph=class ph{constructor(e,t){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new rp(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){let t=e.currentTarget;this.value.rawValue=this.props.get("options")[t.selectedIndex].value}importProps(e){return Qt(e,null,t=>({options:t.required.custom(ps)}),t=>(this.props.set("options",rd(t.options)),!0))}exportProps(){return Zt(null,{options:this.props.get("options")})}};l(ph,"ListController");var Nn=ph,T0=me("pop"),dh=class dh{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(T0()),t.viewProps.bindClassModifiers(this.element),Jn(t.shows,ni(this.element,T0(void 0,"v")))}};l(dh,"PopupView");var op=dh,hh=class hh{constructor(e,t){this.shows=Fe(!1),this.viewProps=t.viewProps,this.view=new op(e,{shows:this.shows,viewProps:this.viewProps})}};l(hh,"PopupController");var ua=hh,L0=me("txt"),fh=class fh{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(L0()),t.viewProps.bindClassModifiers(this.element),this.props_=t.props,this.props_.emitter.on("change",this.onChange_);let i=e.createElement("input");i.classList.add(L0("i")),i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,t.value.emitter.on("change",this.onChange_),this.value_=t.value,this.refresh()}refresh(){let e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}};l(fh,"TextView");var ip=fh,mh=class mh{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=t.parser,this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new ip(e,{props:t.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){let i=e.currentTarget.value,u=this.parser_(i);Oe(u)||(this.value.rawValue=u),this.view.refresh()}};l(mh,"TextController");var ao=mh;function Fx(o){return String(o)}l(Fx,"boolToString");function uw(o){return o==="false"?!1:!!o}l(uw,"boolFromUnknown");function O0(o){return Fx(o)}l(O0,"BooleanFormatter");function Bx(o){return e=>o.reduce((t,i)=>t!==null?t:i(e),null)}l(Bx,"composeParsers");var Ux=Gt(0);function ca(o){return Ux(o)+"%"}l(ca,"formatPercentage");function cw(o){return String(o)}l(cw,"stringFromUnknown");function sp(o){return o}l(sp,"formatString");function ii({primary:o,secondary:e,forward:t,backward:i}){let u=!1;function p(h){u||(u=!0,h(),u=!1)}l(p,"preventFeedback"),o.emitter.on("change",h=>{p(()=>{e.setRawValue(t(o.rawValue,e.rawValue),h.options)})}),e.emitter.on("change",h=>{p(()=>{o.setRawValue(i(o.rawValue,e.rawValue),h.options)}),p(()=>{e.setRawValue(t(o.rawValue,e.rawValue),h.options)})}),p(()=>{e.setRawValue(t(o.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}l(ii,"connectValues");function Ut(o,e){let t=o*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+t:e.downKey?-t:0}l(Ut,"getStepForKey");function rs(o){return{altKey:o.altKey,downKey:o.key==="ArrowDown",shiftKey:o.shiftKey,upKey:o.key==="ArrowUp"}}l(rs,"getVerticalStepKeys");function rr(o){return{altKey:o.altKey,downKey:o.key==="ArrowLeft",shiftKey:o.shiftKey,upKey:o.key==="ArrowRight"}}l(rr,"getHorizontalStepKeys");function Gx(o){return o==="ArrowUp"||o==="ArrowDown"}l(Gx,"isVerticalArrowKey");function pw(o){return Gx(o)||o==="ArrowLeft"||o==="ArrowRight"}l(pw,"isArrowKey");function gc(o,e){var t,i;let u=e.ownerDocument.defaultView,p=e.getBoundingClientRect();return{x:o.pageX-(((t=u&&u.scrollX)!==null&&t!==void 0?t:0)+p.left),y:o.pageY-(((i=u&&u.scrollY)!==null&&i!==void 0?i:0)+p.top)}}l(gc,"computeOffset$1");var vh=class vh{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new Ze,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){let t=this.elem_.getBoundingClientRect();return{bounds:{width:t.width,height:t.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var t;e.preventDefault(),(t=e.currentTarget)===null||t===void 0||t.focus();let i=this.elem_.ownerDocument;i.addEventListener("mousemove",this.onDocumentMouseMove_),i.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(gc(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(gc(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){let t=this.elem_.ownerDocument;t.removeEventListener("mousemove",this.onDocumentMouseMove_),t.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(gc(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();let t=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-i.left,y:t.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchMove_(e){let t=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-i.left,y:t.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchEnd_(e){var t;let i=(t=e.targetTouches.item(0))!==null&&t!==void 0?t:this.lastTouch_,u=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(i?{x:i.clientX-u.left,y:i.clientY-u.top}:void 0),sender:this,shiftKey:e.shiftKey})}};l(vh,"PointerHandler");var or=vh,un=me("txt"),gh=class gh{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(un(),un(void 0,"num")),t.arrayPosition&&this.element.classList.add(un(void 0,t.arrayPosition)),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("input");i.classList.add(un("i")),i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=t.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(un()),this.inputElement.classList.add(un("i"));let u=e.createElement("div");u.classList.add(un("k")),this.element.appendChild(u),this.knobElement=u;let p=e.createElementNS(An,"svg");p.classList.add(un("g")),this.knobElement.appendChild(p);let h=e.createElementNS(An,"path");h.classList.add(un("gb")),p.appendChild(h),this.guideBodyElem_=h;let m=e.createElementNS(An,"path");m.classList.add(un("gh")),p.appendChild(m),this.guideHeadElem_=m;let g=e.createElement("div");g.classList.add(me("tt")()),this.knobElement.appendChild(g),this.tooltipElem_=g,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(un(void 0,"drg"));return}this.element.classList.add(un(void 0,"drg"));let t=e.rawValue/this.props_.get("pointerScale"),i=t+(t>0?-1:t<0?1:0),u=pt(-i,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",["M ".concat(i+u,",0 L").concat(i,",4 L").concat(i+u,",8"),"M ".concat(t,",-1 L").concat(t,",9")].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d","M 0,4 L".concat(t,",4"));let p=this.props_.get("formatter");this.tooltipElem_.textContent=p(this.value.rawValue),this.tooltipElem_.style.left="".concat(t,"px")}refresh(){let e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}};l(gh,"NumberTextView");var lp=gh,wh=class wh{constructor(e,t){var i;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=t.parser,this.props=t.props,this.sliderProps_=(i=t.sliderProps)!==null&&i!==void 0?i:null,this.value=t.value,this.viewProps=t.viewProps,this.dragging_=Fe(null),this.view=new lp(e,{arrayPosition:t.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);let u=new or(this.view.knobElement);u.emitter.on("down",this.onPointerDown_),u.emitter.on("move",this.onPointerMove_),u.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var t,i;let u=(t=this.sliderProps_)===null||t===void 0?void 0:t.get("min"),p=(i=this.sliderProps_)===null||i===void 0?void 0:i.get("max"),h=e;return u!==void 0&&(h=Math.max(h,u)),p!==void 0&&(h=Math.min(h,p)),h}onInputChange_(e){let i=e.currentTarget.value,u=this.parser_(i);Oe(u)||(this.value.rawValue=this.constrainValue_(u)),this.view.refresh()}onInputKeyDown_(e){let t=Ut(this.props.get("keyScale"),rs(e));t!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+t),{forceEmit:!1,last:!1})}onInputKeyUp_(e){Ut(this.props.get("keyScale"),rs(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;let t=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+t*this.props.get("pointerScale"))}onPointerMove_(e){let t=this.computeDraggingValue_(e.data);t!==null&&(this.value.setRawValue(t,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){let t=this.computeDraggingValue_(e.data);t!==null&&(this.value.setRawValue(t,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}};l(wh,"NumberTextController");var uo=wh,wc=me("sld"),bh=class bh{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(wc()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(wc("t")),t.viewProps.bindTabIndex(i),this.element.appendChild(i),this.trackElement=i;let u=e.createElement("div");u.classList.add(wc("k")),this.trackElement.appendChild(u),this.knobElement=u,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.update_()}update_(){let e=pt(Se(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width="".concat(e,"%")}onChange_(){this.update_()}};l(bh,"SliderView");var ap=bh,yh=class yh{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.props=t.props,this.view=new ap(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new or(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){e.point&&this.value.setRawValue(Se(pt(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),t)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){let t=Ut(this.props.get("keyScale"),rr(e));t!==0&&this.value.setRawValue(this.value.rawValue+t,{forceEmit:!1,last:!1})}onKeyUp_(e){Ut(this.props.get("keyScale"),rr(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};l(yh,"SliderController");var up=yh,bc=me("sldtxt"),_h=class _h{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(bc());let i=e.createElement("div");i.classList.add(bc("s")),this.sliderView_=t.sliderView,i.appendChild(this.sliderView_.element),this.element.appendChild(i);let u=e.createElement("div");u.classList.add(bc("t")),this.textView_=t.textView,u.appendChild(this.textView_.element),this.element.appendChild(u)}};l(_h,"SliderTextView");var cp=_h,xh=class xh{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.sliderC_=new up(e,{props:t.sliderProps,value:t.value,viewProps:this.viewProps}),this.textC_=new uo(e,{parser:t.parser,props:t.textProps,sliderProps:t.sliderProps,value:t.value,viewProps:t.viewProps}),this.view=new cp(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return Qt(e,null,t=>({max:t.required.number,min:t.required.number}),t=>{let i=this.sliderC_.props;return i.set("max",t.max),i.set("min",t.min),!0})}exportProps(){let e=this.sliderC_.props;return Zt(null,{max:e.get("max"),min:e.get("min")})}};l(xh,"SliderTextController");var $o=xh;function dw(o){return{sliderProps:new ue({keyScale:o.keyScale,max:o.max,min:o.min}),textProps:new ue({formatter:Fe(o.formatter),keyScale:o.keyScale,pointerScale:Fe(o.pointerScale)})}}l(dw,"createSliderTextProps");var Kx={containerUnitSize:"cnt-usz"};function hw(o){return"--".concat(Kx[o])}l(hw,"getCssVar");function os(o){return tw(o)}l(os,"createPointDimensionParser");function Tr(o){if(Pc(o))return qe(o,os)}l(Tr,"parsePointDimensionParams");function Zn(o,e){if(!o)return;let t=[],i=J0(o,e);i&&t.push(i);let u=$0(o);return u&&t.push(u),new so(t)}l(Zn,"createDimensionConstraint");function Wx(o){return o?o.major===ri.major:!1}l(Wx,"isCompatible");function fw(o){if(o==="inline"||o==="popup")return o}l(fw,"parsePickerLayout");function ds(o,e){o.write(e)}l(ds,"writePrimitive");var Ql=me("ckb"),Ph=class Ph{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ql()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("label");i.classList.add(Ql("l")),this.element.appendChild(i),this.labelElement=i;let u=e.createElement("input");u.classList.add(Ql("i")),u.type="checkbox",this.labelElement.appendChild(u),this.inputElement=u,t.viewProps.bindDisabled(this.inputElement);let p=e.createElement("div");p.classList.add(Ql("w")),this.labelElement.appendChild(p);let h=wa(e,"check");p.appendChild(h),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}};l(Ph,"CheckboxView");var pp=Ph,Sh=class Sh{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.onLabelMouseDown_=this.onLabelMouseDown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new pp(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.labelElement.addEventListener("mousedown",this.onLabelMouseDown_)}onInputChange_(e){let t=e.currentTarget;this.value.rawValue=t.checked,e.preventDefault(),e.stopPropagation()}onLabelMouseDown_(e){e.preventDefault()}};l(Sh,"CheckboxController");var dp=Sh;function Yx(o){let e=[],t=od(o.options);return t&&e.push(t),new so(e)}l(Yx,"createConstraint$6");var Xx=Lt({id:"input-bool",type:"input",accept:(o,e)=>{if(typeof o!="boolean")return null;let t=qe(e,i=>({options:i.optional.custom(ps),readonly:i.optional.constant(!1)}));return t?{initialValue:o,params:t}:null},binding:{reader:o=>uw,constraint:o=>Yx(o.params),writer:o=>ds},controller:o=>{let e=o.document,t=o.value,i=o.constraint,u=i&&aa(i,lo);return u?new Nn(e,{props:new ue({options:u.values.value("options")}),value:t,viewProps:o.viewProps}):new dp(e,{value:t,viewProps:o.viewProps})},api(o){return typeof o.controller.value.rawValue!="boolean"?null:o.controller.valueController instanceof Nn?new ns(o.controller):null}}),eo=me("col"),Eh=class Eh{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(eo()),t.foldable.bindExpandedClass(this.element,eo(void 0,"expanded")),jn(t.foldable,"completed",ni(this.element,eo(void 0,"cpl")));let i=e.createElement("div");i.classList.add(eo("h")),this.element.appendChild(i);let u=e.createElement("div");u.classList.add(eo("s")),i.appendChild(u),this.swatchElement=u;let p=e.createElement("div");if(p.classList.add(eo("t")),i.appendChild(p),this.textElement=p,t.pickerLayout==="inline"){let h=e.createElement("div");h.classList.add(eo("p")),this.element.appendChild(h),this.pickerElement=h}else this.pickerElement=null}};l(Eh,"ColorView");var hp=Eh;function qx(o,e,t){let i=pt(o/255,0,1),u=pt(e/255,0,1),p=pt(t/255,0,1),h=Math.max(i,u,p),m=Math.min(i,u,p),g=h-m,b=0,f=0,v=(m+h)/2;return g!==0&&(f=g/(1-Math.abs(h+m-1)),i===h?b=(u-p)/g:u===h?b=2+(p-i)/g:b=4+(i-u)/g,b=b/6+(b<0?1:0)),[b*360,f*100,v*100]}l(qx,"rgbToHslInt");function Qx(o,e,t){let i=(o%360+360)%360,u=pt(e/100,0,1),p=pt(t/100,0,1),h=(1-Math.abs(2*p-1))*u,m=h*(1-Math.abs(i/60%2-1)),g=p-h/2,b,f,v;return i>=0&&i<60?[b,f,v]=[h,m,0]:i>=60&&i<120?[b,f,v]=[m,h,0]:i>=120&&i<180?[b,f,v]=[0,h,m]:i>=180&&i<240?[b,f,v]=[0,m,h]:i>=240&&i<300?[b,f,v]=[m,0,h]:[b,f,v]=[h,0,m],[(b+g)*255,(f+g)*255,(v+g)*255]}l(Qx,"hslToRgbInt");function Zx(o,e,t){let i=pt(o/255,0,1),u=pt(e/255,0,1),p=pt(t/255,0,1),h=Math.max(i,u,p),m=Math.min(i,u,p),g=h-m,b;g===0?b=0:h===i?b=60*(((u-p)/g%6+6)%6):h===u?b=60*((p-i)/g+2):b=60*((i-u)/g+4);let f=h===0?0:g/h,v=h;return[b,f*100,v*100]}l(Zx,"rgbToHsvInt");function mw(o,e,t){let i=q0(o,360),u=pt(e/100,0,1),p=pt(t/100,0,1),h=p*u,m=h*(1-Math.abs(i/60%2-1)),g=p-h,b,f,v;return i>=0&&i<60?[b,f,v]=[h,m,0]:i>=60&&i<120?[b,f,v]=[m,h,0]:i>=120&&i<180?[b,f,v]=[0,h,m]:i>=180&&i<240?[b,f,v]=[0,m,h]:i>=240&&i<300?[b,f,v]=[m,0,h]:[b,f,v]=[h,0,m],[(b+g)*255,(f+g)*255,(v+g)*255]}l(mw,"hsvToRgbInt");function Jx(o,e,t){let i=t+e*(100-Math.abs(2*t-100))/200;return[o,i!==0?e*(100-Math.abs(2*t-100))/i:0,t+e*(100-Math.abs(2*t-100))/(2*100)]}l(Jx,"hslToHsvInt");function $x(o,e,t){let i=100-Math.abs(t*(200-e)/100-100);return[o,i!==0?e*t/i:0,t*(200-e)/(2*100)]}l($x,"hsvToHslInt");function In(o){return[o[0],o[1],o[2]]}l(In,"removeAlphaComponent");function ba(o,e){return[o[0],o[1],o[2],e]}l(ba,"appendAlphaComponent");var e1={hsl:{hsl:(o,e,t)=>[o,e,t],hsv:Jx,rgb:Qx},hsv:{hsl:$x,hsv:(o,e,t)=>[o,e,t],rgb:mw},rgb:{hsl:qx,hsv:Zx,rgb:(o,e,t)=>[o,e,t]}};function ei(o,e){return[e==="float"?1:o==="rgb"?255:360,e==="float"?1:o==="rgb"?255:100,e==="float"?1:o==="rgb"?255:100]}l(ei,"getColorMaxComponents");function t1(o,e){return o===e?e:q0(o,e)}l(t1,"loopHueRange");function vw(o,e,t){var i;let u=ei(e,t);return[e==="rgb"?pt(o[0],0,u[0]):t1(o[0],u[0]),pt(o[1],0,u[1]),pt(o[2],0,u[2]),pt((i=o[3])!==null&&i!==void 0?i:1,0,1)]}l(vw,"constrainColorComponents");function D0(o,e,t,i){let u=ei(e,t),p=ei(e,i);return o.map((h,m)=>h/u[m]*p[m])}l(D0,"convertColorType");function gw(o,e,t){let i=D0(o,e.mode,e.type,"int"),u=e1[e.mode][t.mode](...i);return D0(u,t.mode,"int",t.type)}l(gw,"convertColor");var ga=class ga{static black(){return new ga([0,0,0],"rgb")}constructor(e,t){this.type="int",this.mode=t,this.comps_=vw(e,t,this.type)}getComponents(e){return ba(gw(In(this.comps_),{mode:this.mode,type:this.type},{mode:e!=null?e:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){let e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}};l(ga,"IntColor");var _e=ga,Cr=me("colp"),Ch=class Ch{constructor(e,t){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Cr()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Cr("hsv"));let u=e.createElement("div");u.classList.add(Cr("sv")),this.svPaletteView_=t.svPaletteView,u.appendChild(this.svPaletteView_.element),i.appendChild(u);let p=e.createElement("div");p.classList.add(Cr("h")),this.hPaletteView_=t.hPaletteView,p.appendChild(this.hPaletteView_.element),i.appendChild(p),this.element.appendChild(i);let h=e.createElement("div");if(h.classList.add(Cr("rgb")),this.textsView_=t.textsView,h.appendChild(this.textsView_.element),this.element.appendChild(h),t.alphaViews){this.alphaViews_={palette:t.alphaViews.palette,text:t.alphaViews.text};let m=e.createElement("div");m.classList.add(Cr("a"));let g=e.createElement("div");g.classList.add(Cr("ap")),g.appendChild(this.alphaViews_.palette.element),m.appendChild(g);let b=e.createElement("div");b.classList.add(Cr("at")),b.appendChild(this.alphaViews_.text.element),m.appendChild(b),this.element.appendChild(m)}}get allFocusableElements(){let e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(t=>t.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}};l(Ch,"ColorPickerView");var fp=Ch;function n1(o){return o==="int"?"int":o==="float"?"float":void 0}l(n1,"parseColorType");function id(o){return qe(o,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(n1)}),expanded:e.optional.boolean,picker:e.optional.custom(fw),readonly:e.optional.constant(!1)}))}l(id,"parseColorInputParams");function co(o){return o?.1:1}l(co,"getKeyScaleForColor");function ww(o){var e;return(e=o.color)===null||e===void 0?void 0:e.type}l(ww,"extractColorType");var kh=class kh{constructor(e,t){this.type="float",this.mode=t,this.comps_=vw(e,t,this.type)}getComponents(e){return ba(gw(In(this.comps_),{mode:this.mode,type:this.type},{mode:e!=null?e:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){let e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}};l(kh,"FloatColor");var is=kh,r1={int:(o,e)=>new _e(o,e),float:(o,e)=>new is(o,e)};function sd(o,e,t){return r1[t](o,e)}l(sd,"createColor");function o1(o){return o.type==="float"}l(o1,"isFloatColor");function i1(o){return o.type==="int"}l(i1,"isIntColor");function s1(o){let e=o.getComponents(),t=ei(o.mode,"int");return new _e([Math.round(Se(e[0],0,1,0,t[0])),Math.round(Se(e[1],0,1,0,t[1])),Math.round(Se(e[2],0,1,0,t[2])),e[3]],o.mode)}l(s1,"convertFloatToInt");function l1(o){let e=o.getComponents(),t=ei(o.mode,"int");return new is([Se(e[0],0,t[0],0,1),Se(e[1],0,t[1],0,1),Se(e[2],0,t[2],0,1),e[3]],o.mode)}l(l1,"convertIntToFloat");function Tt(o,e){if(o.type===e)return o;if(i1(o)&&e==="float")return l1(o);if(o1(o)&&e==="int")return s1(o);throw mt.shouldNeverHappen()}l(Tt,"mapColorType");function a1(o,e){return o.alpha===e.alpha&&o.mode===e.mode&&o.notation===e.notation&&o.type===e.type}l(a1,"equalsStringColorFormat");function cn(o,e){let t=o.match(/^(.+)%$/);return Math.min(t?parseFloat(t[1])*.01*e:parseFloat(o),e)}l(cn,"parseCssNumberOrPercentage");var u1={deg:o=>o,grad:o=>o*360/400,rad:o=>o*360/(2*Math.PI),turn:o=>o*360};function bw(o){let e=o.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(o);let t=parseFloat(e[1]),i=e[2];return u1[i](t)}l(bw,"parseCssNumberOrAngle");function yw(o){let e=o.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[cn(e[1],255),cn(e[2],255),cn(e[3],255)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}l(yw,"parseFunctionalRgbColorComponents");function c1(o){let e=yw(o);return e?new _e(e,"rgb"):null}l(c1,"parseFunctionalRgbColor");function _w(o){let e=o.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[cn(e[1],255),cn(e[2],255),cn(e[3],255),cn(e[4],1)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}l(_w,"parseFunctionalRgbaColorComponents");function p1(o){let e=_w(o);return e?new _e(e,"rgb"):null}l(p1,"parseFunctionalRgbaColor");function xw(o){let e=o.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[bw(e[1]),cn(e[2],100),cn(e[3],100)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}l(xw,"parseFunctionalHslColorComponents");function d1(o){let e=xw(o);return e?new _e(e,"hsl"):null}l(d1,"parseFunctionalHslColor");function Pw(o){let e=o.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[bw(e[1]),cn(e[2],100),cn(e[3],100),cn(e[4],1)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}l(Pw,"parseHslaColorComponents");function h1(o){let e=Pw(o);return e?new _e(e,"hsl"):null}l(h1,"parseFunctionalHslaColor");function Sw(o){let e=o.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];let t=o.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}l(Sw,"parseHexRgbColorComponents");function f1(o){let e=Sw(o);return e?new _e(e,"rgb"):null}l(f1,"parseHexRgbColor");function Ew(o){let e=o.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Se(parseInt(e[4]+e[4],16),0,255,0,1)];let t=o.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),Se(parseInt(t[4],16),0,255,0,1)]:null}l(Ew,"parseHexRgbaColorComponents");function m1(o){let e=Ew(o);return e?new _e(e,"rgb"):null}l(m1,"parseHexRgbaColor");function Cw(o){let e=o.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;let t=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}l(Cw,"parseObjectRgbColorComponents");function A0(o){return e=>{let t=Cw(e);return t?sd(t,"rgb",o):null}}l(A0,"createObjectRgbColorParser");function kw(o){let e=o.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;let t=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}l(kw,"parseObjectRgbaColorComponents");function z0(o){return e=>{let t=kw(e);return t?sd(t,"rgb",o):null}}l(z0,"createObjectRgbaColorParser");var v1=[{parser:Sw,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Ew,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:yw,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:_w,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:xw,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:Pw,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Cw,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:kw,result:{alpha:!0,mode:"rgb",notation:"object"}}];function g1(o){return v1.reduce((e,{parser:t,result:i})=>e||(t(o)?i:null),null)}l(g1,"detectStringColor");function w1(o,e="int"){let t=g1(o);return t?t.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},t),{type:"int"}):t.notation==="func"?Object.assign(Object.assign({},t),{type:e}):null:null}l(w1,"detectStringColorFormat");function hs(o){let e=[f1,m1,c1,p1,d1,h1];o==="int"&&e.push(A0("int"),z0("int")),o==="float"&&e.push(A0("float"),z0("float"));let t=Bx(e);return i=>{let u=t(i);return u?Tt(u,o):null}}l(hs,"createColorStringParser");function b1(o){let e=hs("int");if(typeof o!="string")return _e.black();let t=e(o);return t!=null?t:_e.black()}l(b1,"readIntColorString");function Rw(o){let e=pt(Math.floor(o),0,255).toString(16);return e.length===1?"0".concat(e):e}l(Rw,"zerofill");function ld(o,e="#"){let t=In(o.getComponents("rgb")).map(Rw).join("");return"".concat(e).concat(t)}l(ld,"colorToHexRgbString");function ad(o,e="#"){let t=o.getComponents("rgb"),i=[t[0],t[1],t[2],t[3]*255].map(Rw).join("");return"".concat(e).concat(i)}l(ad,"colorToHexRgbaString");function Mw(o){let e=Gt(0),t=Tt(o,"int"),i=In(t.getComponents("rgb")).map(u=>e(u));return"rgb(".concat(i.join(", "),")")}l(Mw,"colorToFunctionalRgbString");function Zl(o){let e=Gt(2),t=Gt(0),u=Tt(o,"int").getComponents("rgb").map((p,h)=>(h===3?e:t)(p));return"rgba(".concat(u.join(", "),")")}l(Zl,"colorToFunctionalRgbaString");function y1(o){let e=[Gt(0),ca,ca],t=Tt(o,"int"),i=In(t.getComponents("hsl")).map((u,p)=>e[p](u));return"hsl(".concat(i.join(", "),")")}l(y1,"colorToFunctionalHslString");function _1(o){let e=[Gt(0),ca,ca,Gt(2)],i=Tt(o,"int").getComponents("hsl").map((u,p)=>e[p](u));return"hsla(".concat(i.join(", "),")")}l(_1,"colorToFunctionalHslaString");function Tw(o,e){let t=Gt(e==="float"?2:0),i=["r","g","b"],u=Tt(o,e),p=In(u.getComponents("rgb")).map((h,m)=>"".concat(i[m],": ").concat(t(h)));return"{".concat(p.join(", "),"}")}l(Tw,"colorToObjectRgbString");function x1(o){return e=>Tw(e,o)}l(x1,"createObjectRgbColorFormatter");function Lw(o,e){let t=Gt(2),i=Gt(e==="float"?2:0),u=["r","g","b","a"],h=Tt(o,e).getComponents("rgb").map((m,g)=>{let b=g===3?t:i;return"".concat(u[g],": ").concat(b(m))});return"{".concat(h.join(", "),"}")}l(Lw,"colorToObjectRgbaString");function P1(o){return e=>Lw(e,o)}l(P1,"createObjectRgbaColorFormatter");var S1=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:ld},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:ad},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:Mw},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:Zl},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:y1},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:_1},...["int","float"].reduce((o,e)=>[...o,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:x1(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:P1(e)}],[])];function Ow(o){return S1.reduce((e,t)=>e||(a1(t.format,o)?t.stringifier:null),null)}l(Ow,"findColorStringifier");var Yi=me("apl"),Rh=class Rh{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Yi()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);let i=e.createElement("div");i.classList.add(Yi("b")),this.element.appendChild(i);let u=e.createElement("div");u.classList.add(Yi("c")),i.appendChild(u),this.colorElem_=u;let p=e.createElement("div");p.classList.add(Yi("m")),this.element.appendChild(p),this.markerElem_=p;let h=e.createElement("div");h.classList.add(Yi("p")),this.markerElem_.appendChild(h),this.previewElem_=h,this.update_()}update_(){let e=this.value.rawValue,t=e.getComponents("rgb"),i=new _e([t[0],t[1],t[2],0],"rgb"),u=new _e([t[0],t[1],t[2],255],"rgb"),p=["to right",Zl(i),Zl(u)];this.colorElem_.style.background="linear-gradient(".concat(p.join(","),")"),this.previewElem_.style.backgroundColor=Zl(e);let h=Se(t[3],0,1,0,100);this.markerElem_.style.left="".concat(h,"%")}onValueChange_(){this.update_()}};l(Rh,"APaletteView");var mp=Rh,Mh=class Mh{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new mp(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new or(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=e.point.x/e.bounds.width,u=this.value.rawValue,[p,h,m]=u.getComponents("hsv");this.value.setRawValue(new _e([p,h,m,i],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){let t=Ut(co(!0),rr(e));if(t===0)return;let i=this.value.rawValue,[u,p,h,m]=i.getComponents("hsv");this.value.setRawValue(new _e([u,p,h,m+t],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ut(co(!0),rr(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};l(Mh,"APaletteController");var vp=Mh,qo=me("coltxt");function E1(o){let e=o.createElement("select"),t=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(t.reduce((i,u)=>{let p=o.createElement("option");return p.textContent=u.text,p.value=u.value,i.appendChild(p),i},o.createDocumentFragment())),e}l(E1,"createModeSelectElement");var Th=class Th{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(qo()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(qo("m")),this.modeElem_=E1(e),this.modeElem_.classList.add(qo("ms")),i.appendChild(this.modeSelectElement),t.viewProps.bindDisabled(this.modeElem_);let u=e.createElement("div");u.classList.add(qo("mm")),u.appendChild(wa(e,"dropdown")),i.appendChild(u),this.element.appendChild(i);let p=e.createElement("div");p.classList.add(qo("w")),this.element.appendChild(p),this.inputsElem_=p,this.inputViews_=t.inputViews,this.applyInputViews_(),Jn(t.mode,h=>{this.modeElem_.value=h})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){ow(this.inputsElem_);let e=this.element.ownerDocument;this.inputViews_.forEach(t=>{let i=e.createElement("div");i.classList.add(qo("c")),i.appendChild(t.element),this.inputsElem_.appendChild(i)})}};l(Th,"ColorTextsView");var gp=Th;function C1(o){return Gt(o==="float"?2:0)}l(C1,"createFormatter$2");function k1(o,e,t){let i=ei(o,e)[t];return new ro({min:0,max:i})}l(k1,"createConstraint$5");function R1(o,e,t){return new uo(o,{arrayPosition:t===0?"fst":t===2?"lst":"mid",parser:e.parser,props:ue.fromObject({formatter:C1(e.colorType),keyScale:co(!1),pointerScale:e.colorType==="float"?.01:1}),value:Fe(0,{constraint:k1(e.colorMode,e.colorType,t)}),viewProps:e.viewProps})}l(R1,"createComponentController");function M1(o,e){let t={colorMode:e.colorMode,colorType:e.colorType,parser:$n,viewProps:e.viewProps};return[0,1,2].map(i=>{let u=R1(o,t,i);return ii({primary:e.value,secondary:u.value,forward(p){return Tt(p,e.colorType).getComponents(e.colorMode)[i]},backward(p,h){let m=e.colorMode,b=Tt(p,e.colorType).getComponents(m);b[i]=h;let f=sd(ba(In(b),b[3]),m,e.colorType);return Tt(f,"int")}}),u})}l(M1,"createComponentControllers");function T1(o,e){let t=new ao(o,{parser:hs("int"),props:ue.fromObject({formatter:ld}),value:Fe(_e.black()),viewProps:e.viewProps});return ii({primary:e.value,secondary:t.value,forward:i=>new _e(In(i.getComponents()),i.mode),backward:(i,u)=>new _e(ba(In(u.getComponents(i.mode)),i.getComponents()[3]),i.mode)}),[t]}l(T1,"createHexController");function L1(o){return o!=="hex"}l(L1,"isColorMode");var Lh=class Lh{constructor(e,t){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=t.colorType,this.value=t.value,this.viewProps=t.viewProps,this.colorMode=Fe(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new gp(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){let t=this.colorMode.rawValue;return L1(t)?M1(e,{colorMode:t,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):T1(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){let t=e.currentTarget;this.colorMode.rawValue=t.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(i=>i.view)}};l(Lh,"ColorTextsController");var wp=Lh,yc=me("hpl"),Oh=class Oh{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(yc()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);let i=e.createElement("div");i.classList.add(yc("c")),this.element.appendChild(i);let u=e.createElement("div");u.classList.add(yc("m")),this.element.appendChild(u),this.markerElem_=u,this.update_()}update_(){let e=this.value.rawValue,[t]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=Mw(new _e([t,100,100],"hsv"));let i=Se(t,0,360,0,100);this.markerElem_.style.left="".concat(i,"%")}onValueChange_(){this.update_()}};l(Oh,"HPaletteView");var bp=Oh,Dh=class Dh{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new bp(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new or(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=Se(pt(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),u=this.value.rawValue,[,p,h,m]=u.getComponents("hsv");this.value.setRawValue(new _e([i,p,h,m],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){let t=Ut(co(!1),rr(e));if(t===0)return;let i=this.value.rawValue,[u,p,h,m]=i.getComponents("hsv");this.value.setRawValue(new _e([u+t,p,h,m],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ut(co(!1),rr(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};l(Dh,"HPaletteController");var yp=Dh,_c=me("svp"),j0=64,Ah=class Ah{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(_c()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);let i=e.createElement("canvas");i.height=j0,i.width=j0,i.classList.add(_c("c")),this.element.appendChild(i),this.canvasElement=i;let u=e.createElement("div");u.classList.add(_c("m")),this.element.appendChild(u),this.markerElem_=u,this.update_()}update_(){let e=mx(this.canvasElement);if(!e)return;let i=this.value.rawValue.getComponents("hsv"),u=this.canvasElement.width,p=this.canvasElement.height,h=e.getImageData(0,0,u,p),m=h.data;for(let f=0;f<p;f++)for(let v=0;v<u;v++){let x=Se(v,0,u,0,100),M=Se(f,0,p,100,0),L=mw(i[0],x,M),T=(f*u+v)*4;m[T]=L[0],m[T+1]=L[1],m[T+2]=L[2],m[T+3]=255}e.putImageData(h,0,0);let g=Se(i[1],0,100,0,100);this.markerElem_.style.left="".concat(g,"%");let b=Se(i[2],0,100,100,0);this.markerElem_.style.top="".concat(b,"%")}onValueChange_(){this.update_()}};l(Ah,"SvPaletteView");var _p=Ah,zh=class zh{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new _p(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new or(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=Se(e.point.x,0,e.bounds.width,0,100),u=Se(e.point.y,0,e.bounds.height,100,0),[p,,,h]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new _e([p,i,u,h],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){pw(e.key)&&e.preventDefault();let[t,i,u,p]=this.value.rawValue.getComponents("hsv"),h=co(!1),m=Ut(h,rr(e)),g=Ut(h,rs(e));m===0&&g===0||this.value.setRawValue(new _e([t,i+m,u+g,p],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){let t=co(!1),i=Ut(t,rr(e)),u=Ut(t,rs(e));i===0&&u===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};l(zh,"SvPaletteController");var xp=zh,jh=class jh{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.hPaletteC_=new yp(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new xp(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=t.supportsAlpha?{palette:new vp(e,{value:this.value,viewProps:this.viewProps}),text:new uo(e,{parser:$n,props:ue.fromObject({pointerScale:.01,keyScale:.1,formatter:Gt(2)}),value:Fe(0,{constraint:new ro({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&ii({primary:this.value,secondary:this.alphaIcs_.text.value,forward:i=>i.getComponents()[3],backward:(i,u)=>{let p=i.getComponents();return p[3]=u,new _e(p,i.mode)}}),this.textsC_=new wp(e,{colorType:t.colorType,value:this.value,viewProps:this.viewProps}),this.view=new fp(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:t.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}};l(jh,"ColorPickerController");var Pp=jh,xc=me("colsw"),Nh=class Nh{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.element=e.createElement("div"),this.element.classList.add(xc()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(xc("sw")),this.element.appendChild(i),this.swatchElem_=i;let u=e.createElement("button");u.classList.add(xc("b")),t.viewProps.bindDisabled(u),this.element.appendChild(u),this.buttonElement=u,this.update_()}update_(){let e=this.value.rawValue;this.swatchElem_.style.backgroundColor=ad(e)}onValueChange_(){this.update_()}};l(Nh,"ColorSwatchView");var Sp=Nh,Ih=class Ih{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Sp(e,{value:this.value,viewProps:this.viewProps})}};l(Ih,"ColorSwatchController");var Ep=Ih,Vh=class Vh{constructor(e,t){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=$i.create(t.expanded),this.swatchC_=new Ep(e,{value:this.value,viewProps:this.viewProps});let i=this.swatchC_.view.buttonElement;i.addEventListener("blur",this.onButtonBlur_),i.addEventListener("click",this.onButtonClick_),this.textC_=new ao(e,{parser:t.parser,props:ue.fromObject({formatter:t.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new hp(e,{foldable:this.foldable_,pickerLayout:t.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=t.pickerLayout==="popup"?new ua(e,{viewProps:this.viewProps}):null;let u=new Pp(e,{colorType:t.colorType,supportsAlpha:t.supportsAlpha,value:this.value,viewProps:this.viewProps});u.view.allFocusableElements.forEach(p=>{p.addEventListener("blur",this.onPopupChildBlur_),p.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=u,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(u.view.element),ii({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:p=>p,backward:(p,h)=>h})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),nd(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;let t=this.view.element,i=e.relatedTarget;(!i||!t.contains(i))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;let t=this.popC_.view.element,i=iw(e);i&&t.contains(i)||i&&i===this.swatchC_.view.buttonElement&&!$p(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}};l(Vh,"ColorController");var ss=Vh;function O1(o){return In(o.getComponents("rgb")).reduce((e,t)=>e<<8|Math.floor(t)&255,0)}l(O1,"colorToRgbNumber");function D1(o){return o.getComponents("rgb").reduce((e,t,i)=>{let u=Math.floor(i===3?t*255:t)&255;return e<<8|u},0)>>>0}l(D1,"colorToRgbaNumber");function A1(o){return new _e([o>>16&255,o>>8&255,o&255],"rgb")}l(A1,"numberToRgbColor");function z1(o){return new _e([o>>24&255,o>>16&255,o>>8&255,Se(o&255,0,255,0,1)],"rgb")}l(z1,"numberToRgbaColor");function j1(o){return typeof o!="number"?_e.black():A1(o)}l(j1,"colorFromRgbNumber");function N1(o){return typeof o!="number"?_e.black():z1(o)}l(N1,"colorFromRgbaNumber");function Jl(o,e){return typeof o!="object"||Oe(o)?!1:e in o&&typeof o[e]=="number"}l(Jl,"isRgbColorComponent");function Dw(o){return Jl(o,"r")&&Jl(o,"g")&&Jl(o,"b")}l(Dw,"isRgbColorObject");function Aw(o){return Dw(o)&&Jl(o,"a")}l(Aw,"isRgbaColorObject");function zw(o){return Dw(o)}l(zw,"isColorObject");function ud(o,e){if(o.mode!==e.mode||o.type!==e.type)return!1;let t=o.getComponents(),i=e.getComponents();for(let u=0;u<t.length;u++)if(t[u]!==i[u])return!1;return!0}l(ud,"equalsColor");function N0(o){return"a"in o?[o.r,o.g,o.b,o.a]:[o.r,o.g,o.b]}l(N0,"createColorComponentsFromRgbObject");function I1(o){let e=Ow(o);return e?(t,i)=>{ds(t,e(i))}:null}l(I1,"createColorStringWriter");function V1(o){let e=o?D1:O1;return(t,i)=>{ds(t,e(i))}}l(V1,"createColorNumberWriter");function H1(o,e,t){let u=Tt(e,t).toRgbaObject();o.writeProperty("r",u.r),o.writeProperty("g",u.g),o.writeProperty("b",u.b),o.writeProperty("a",u.a)}l(H1,"writeRgbaColorObject");function F1(o,e,t){let u=Tt(e,t).toRgbaObject();o.writeProperty("r",u.r),o.writeProperty("g",u.g),o.writeProperty("b",u.b)}l(F1,"writeRgbColorObject");function B1(o,e){return(t,i)=>{o?H1(t,i,e):F1(t,i,e)}}l(B1,"createColorObjectWriter");function U1(o){var e;return!!(!((e=o==null?void 0:o.color)===null||e===void 0)&&e.alpha)}l(U1,"shouldSupportAlpha$1");function G1(o){return o?e=>ad(e,"0x"):e=>ld(e,"0x")}l(G1,"createFormatter$1");function K1(o){return"color"in o||o.view==="color"}l(K1,"isForColor");var W1=Lt({id:"input-color-number",type:"input",accept:(o,e)=>{if(typeof o!="number"||!K1(e))return null;let t=id(e);return t?{initialValue:o,params:Object.assign(Object.assign({},t),{supportsAlpha:U1(e)})}:null},binding:{reader:o=>o.params.supportsAlpha?N1:j1,equals:ud,writer:o=>V1(o.params.supportsAlpha)},controller:o=>{var e,t;return new ss(o.document,{colorType:"int",expanded:(e=o.params.expanded)!==null&&e!==void 0?e:!1,formatter:G1(o.params.supportsAlpha),parser:hs("int"),pickerLayout:(t=o.params.picker)!==null&&t!==void 0?t:"popup",supportsAlpha:o.params.supportsAlpha,value:o.value,viewProps:o.viewProps})}});function Y1(o,e){if(!zw(o))return Tt(_e.black(),e);if(e==="int"){let t=N0(o);return new _e(t,"rgb")}if(e==="float"){let t=N0(o);return new is(t,"rgb")}return Tt(_e.black(),"int")}l(Y1,"colorFromObject");function X1(o){return Aw(o)}l(X1,"shouldSupportAlpha");function q1(o){return e=>{let t=Y1(e,o);return Tt(t,"int")}}l(q1,"createColorObjectBindingReader");function Q1(o,e){return t=>o?Lw(t,e):Tw(t,e)}l(Q1,"createColorObjectFormatter");var Z1=Lt({id:"input-color-object",type:"input",accept:(o,e)=>{var t;if(!zw(o))return null;let i=id(e);return i?{initialValue:o,params:Object.assign(Object.assign({},i),{colorType:(t=ww(e))!==null&&t!==void 0?t:"int"})}:null},binding:{reader:o=>q1(o.params.colorType),equals:ud,writer:o=>B1(X1(o.initialValue),o.params.colorType)},controller:o=>{var e,t;let i=Aw(o.initialValue);return new ss(o.document,{colorType:o.params.colorType,expanded:(e=o.params.expanded)!==null&&e!==void 0?e:!1,formatter:Q1(i,o.params.colorType),parser:hs("int"),pickerLayout:(t=o.params.picker)!==null&&t!==void 0?t:"popup",supportsAlpha:i,value:o.value,viewProps:o.viewProps})}}),J1=Lt({id:"input-color-string",type:"input",accept:(o,e)=>{if(typeof o!="string"||e.view==="text")return null;let t=w1(o,ww(e));if(!t)return null;let i=Ow(t);if(!i)return null;let u=id(e);return u?{initialValue:o,params:Object.assign(Object.assign({},u),{format:t,stringifier:i})}:null},binding:{reader:()=>b1,equals:ud,writer:o=>{let e=I1(o.params.format);if(!e)throw mt.notBindable();return e}},controller:o=>{var e,t;return new ss(o.document,{colorType:o.params.format.type,expanded:(e=o.params.expanded)!==null&&e!==void 0?e:!1,formatter:o.params.stringifier,parser:hs("int"),pickerLayout:(t=o.params.picker)!==null&&t!==void 0?t:"popup",supportsAlpha:o.params.format.alpha,value:o.value,viewProps:o.viewProps})}}),Hh=class Hh{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){let t=this.asm_.toComponents(e).map((i,u)=>{var p,h;return(h=(p=this.components[u])===null||p===void 0?void 0:p.constrain(i))!==null&&h!==void 0?h:i});return this.asm_.fromComponents(t)}};l(Hh,"PointNdConstraint");var ls=Hh,I0=me("pndtxt"),Fh=class Fh{constructor(e,t){this.textViews=t.textViews,this.element=e.createElement("div"),this.element.classList.add(I0()),this.textViews.forEach(i=>{let u=e.createElement("div");u.classList.add(I0("a")),u.appendChild(i.element),this.element.appendChild(u)})}};l(Fh,"PointNdTextView");var Cp=Fh;function $1(o,e,t){return new uo(o,{arrayPosition:t===0?"fst":t===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[t].textProps,value:Fe(0,{constraint:e.axes[t].constraint}),viewProps:e.viewProps})}l($1,"createAxisController");var Bh=class Bh{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.acs_=t.axes.map((i,u)=>$1(e,t,u)),this.acs_.forEach((i,u)=>{ii({primary:this.value,secondary:i.value,forward:p=>t.assembly.toComponents(p)[u],backward:(p,h)=>{let m=t.assembly.toComponents(p);return m[u]=h,t.assembly.fromComponents(m)}})}),this.view=new Cp(e,{textViews:this.acs_.map(i=>i.view)})}get textControllers(){return this.acs_}};l(Bh,"PointNdTextController");var as=Bh,Uh=class Uh extends io{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}};l(Uh,"SliderInputBindingApi");var kp=Uh;function eP(o,e){let t=[],i=J0(o,e);i&&t.push(i);let u=$0(o);u&&t.push(u);let p=od(o.options);return p&&t.push(p),new so(t)}l(eP,"createConstraint$4");var tP=Lt({id:"input-number",type:"input",accept:(o,e)=>{if(typeof o!="number")return null;let t=qe(e,i=>Object.assign(Object.assign({},tw(i)),{options:i.optional.custom(ps),readonly:i.optional.constant(!1)}));return t?{initialValue:o,params:t}:null},binding:{reader:o=>X0,constraint:o=>eP(o.params,o.initialValue),writer:o=>ds},controller:o=>{let e=o.value,t=o.constraint,i=t&&aa(t,lo);if(i)return new Nn(o.document,{props:new ue({options:i.values.value("options")}),value:e,viewProps:o.viewProps});let u=ew(o.params,e.rawValue),p=t&&aa(t,ro);return p?new $o(o.document,Object.assign(Object.assign({},dw(Object.assign(Object.assign({},u),{keyScale:Fe(u.keyScale),max:p.values.value("max"),min:p.values.value("min")}))),{parser:$n,value:e,viewProps:o.viewProps})):new uo(o.document,{parser:$n,props:ue.fromObject(u),value:e,viewProps:o.viewProps})},api(o){return typeof o.controller.value.rawValue!="number"?null:o.controller.valueController instanceof $o?new kp(o.controller):o.controller.valueController instanceof Nn?new ns(o.controller):null}}),Gh=class Gh{constructor(e=0,t=0){this.x=e,this.y=t}getComponents(){return[this.x,this.y]}static isObject(e){if(Oe(e))return!1;let t=e.x,i=e.y;return!(typeof t!="number"||typeof i!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y}toObject(){return{x:this.x,y:this.y}}};l(Gh,"Point2d");var zn=Gh,jw={toComponents:o=>o.getComponents(),fromComponents:o=>new zn(...o)},Qo=me("p2d"),Kh=class Kh{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Qo()),t.viewProps.bindClassModifiers(this.element),Jn(t.expanded,ni(this.element,Qo(void 0,"expanded")));let i=e.createElement("div");i.classList.add(Qo("h")),this.element.appendChild(i);let u=e.createElement("button");u.classList.add(Qo("b")),u.appendChild(wa(e,"p2dpad")),t.viewProps.bindDisabled(u),i.appendChild(u),this.buttonElement=u;let p=e.createElement("div");if(p.classList.add(Qo("t")),i.appendChild(p),this.textElement=p,t.pickerLayout==="inline"){let h=e.createElement("div");h.classList.add(Qo("p")),this.element.appendChild(h),this.pickerElement=h}else this.pickerElement=null}};l(Kh,"Point2dView");var Rp=Kh,kr=me("p2dp"),Wh=class Wh{constructor(e,t){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(kr()),t.layout==="popup"&&this.element.classList.add(kr(void 0,"p")),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(kr("p")),t.viewProps.bindTabIndex(i),this.element.appendChild(i),this.padElement=i;let u=e.createElementNS(An,"svg");u.classList.add(kr("g")),this.padElement.appendChild(u),this.svgElem_=u;let p=e.createElementNS(An,"line");p.classList.add(kr("ax")),p.setAttributeNS(null,"x1","0"),p.setAttributeNS(null,"y1","50%"),p.setAttributeNS(null,"x2","100%"),p.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(p);let h=e.createElementNS(An,"line");h.classList.add(kr("ax")),h.setAttributeNS(null,"x1","50%"),h.setAttributeNS(null,"y1","0"),h.setAttributeNS(null,"x2","50%"),h.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(h);let m=e.createElementNS(An,"line");m.classList.add(kr("l")),m.setAttributeNS(null,"x1","50%"),m.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(m),this.lineElem_=m;let g=e.createElement("div");g.classList.add(kr("m")),this.padElement.appendChild(g),this.markerElem_=g,t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){let[e,t]=this.value.rawValue.getComponents(),i=this.props_.get("max"),u=Se(e,-i,+i,0,100),p=Se(t,-i,+i,0,100),h=this.props_.get("invertsY")?100-p:p;this.lineElem_.setAttributeNS(null,"x2","".concat(u,"%")),this.lineElem_.setAttributeNS(null,"y2","".concat(h,"%")),this.markerElem_.style.left="".concat(u,"%"),this.markerElem_.style.top="".concat(h,"%")}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}};l(Wh,"Point2dPickerView");var Mp=Wh;function V0(o,e,t){return[Ut(e[0],rr(o)),Ut(e[1],rs(o))*(t?1:-1)]}l(V0,"computeOffset");var Yh=class Yh{constructor(e,t){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new Mp(e,{layout:t.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new or(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=this.props.get("max"),u=Se(e.point.x,0,e.bounds.width,-i,+i),p=Se(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-i,+i);this.value.setRawValue(new zn(u,p),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){pw(e.key)&&e.preventDefault();let[t,i]=V0(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));t===0&&i===0||this.value.setRawValue(new zn(this.value.rawValue.x+t,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}onPadKeyUp_(e){let[t,i]=V0(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));t===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};l(Yh,"Point2dPickerController");var Tp=Yh,Xh=class Xh{constructor(e,t){var i,u;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=$i.create(t.expanded),this.popC_=t.pickerLayout==="popup"?new ua(e,{viewProps:this.viewProps}):null;let p=new Tp(e,{layout:t.pickerLayout,props:new ue({invertsY:Fe(t.invertsY),max:Fe(t.max),xKeyScale:t.axes[0].textProps.value("keyScale"),yKeyScale:t.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});p.view.allFocusableElements.forEach(h=>{h.addEventListener("blur",this.onPopupChildBlur_),h.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=p,this.textC_=new as(e,{assembly:jw,axes:t.axes,parser:t.parser,value:this.value,viewProps:this.viewProps}),this.view=new Rp(e,{expanded:this.foldable_.value("expanded"),pickerLayout:t.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("blur",this.onPadButtonBlur_),(u=this.view.buttonElement)===null||u===void 0||u.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),ii({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:h=>h,backward:(h,m)=>m})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),nd(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;let t=this.view.element,i=e.relatedTarget;(!i||!t.contains(i))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;let t=this.popC_.view.element,i=iw(e);i&&t.contains(i)||i&&i===this.view.buttonElement&&!$p(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}};l(Xh,"Point2dController");var Lp=Xh;function nP(o){return zn.isObject(o)?new zn(o.x,o.y):new zn}l(nP,"point2dFromUnknown");function rP(o,e){o.writeProperty("x",e.x),o.writeProperty("y",e.y)}l(rP,"writePoint2d");function oP(o,e){return new ls({assembly:jw,components:[Zn(Object.assign(Object.assign({},o),o.x),e.x),Zn(Object.assign(Object.assign({},o),o.y),e.y)]})}l(oP,"createConstraint$3");function H0(o,e){var t,i;if(!Oe(o.min)||!Oe(o.max))return Math.max(Math.abs((t=o.min)!==null&&t!==void 0?t:0),Math.abs((i=o.max)!==null&&i!==void 0?i:0));let u=Q0(o);return Math.max(Math.abs(u)*10,Math.abs(e)*10)}l(H0,"getSuitableMaxDimensionValue");function iP(o,e){var t,i;let u=H0(no(o,(t=o.x)!==null&&t!==void 0?t:{}),e.x),p=H0(no(o,(i=o.y)!==null&&i!==void 0?i:{}),e.y);return Math.max(u,p)}l(iP,"getSuitableMax");function sP(o){if(!("y"in o))return!1;let e=o.y;return e&&"inverted"in e?!!e.inverted:!1}l(sP,"shouldInvertY");var lP=Lt({id:"input-point2d",type:"input",accept:(o,e)=>{if(!zn.isObject(o))return null;let t=qe(e,i=>Object.assign(Object.assign({},os(i)),{expanded:i.optional.boolean,picker:i.optional.custom(fw),readonly:i.optional.constant(!1),x:i.optional.custom(Tr),y:i.optional.object(Object.assign(Object.assign({},os(i)),{inverted:i.optional.boolean}))}));return t?{initialValue:o,params:t}:null},binding:{reader:()=>nP,constraint:o=>oP(o.params,o.initialValue),equals:zn.equals,writer:()=>rP},controller:o=>{var e,t;let i=o.document,u=o.value,p=o.constraint,h=[o.params.x,o.params.y];return new Lp(i,{axes:u.rawValue.getComponents().map((m,g)=>{var b;return Jp({constraint:p.components[g],initialValue:m,params:no(o.params,(b=h[g])!==null&&b!==void 0?b:{})})}),expanded:(e=o.params.expanded)!==null&&e!==void 0?e:!1,invertsY:sP(o.params),max:iP(o.params,u.rawValue),parser:$n,pickerLayout:(t=o.params.picker)!==null&&t!==void 0?t:"popup",value:u,viewProps:o.viewProps})}}),qh=class qh{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(Oe(e))return!1;let t=e.x,i=e.y,u=e.z;return!(typeof t!="number"||typeof i!="number"||typeof u!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}toObject(){return{x:this.x,y:this.y,z:this.z}}};l(qh,"Point3d");var Lr=qh,Nw={toComponents:o=>o.getComponents(),fromComponents:o=>new Lr(...o)};function aP(o){return Lr.isObject(o)?new Lr(o.x,o.y,o.z):new Lr}l(aP,"point3dFromUnknown");function uP(o,e){o.writeProperty("x",e.x),o.writeProperty("y",e.y),o.writeProperty("z",e.z)}l(uP,"writePoint3d");function cP(o,e){return new ls({assembly:Nw,components:[Zn(Object.assign(Object.assign({},o),o.x),e.x),Zn(Object.assign(Object.assign({},o),o.y),e.y),Zn(Object.assign(Object.assign({},o),o.z),e.z)]})}l(cP,"createConstraint$2");var pP=Lt({id:"input-point3d",type:"input",accept:(o,e)=>{if(!Lr.isObject(o))return null;let t=qe(e,i=>Object.assign(Object.assign({},os(i)),{readonly:i.optional.constant(!1),x:i.optional.custom(Tr),y:i.optional.custom(Tr),z:i.optional.custom(Tr)}));return t?{initialValue:o,params:t}:null},binding:{reader:o=>aP,constraint:o=>cP(o.params,o.initialValue),equals:Lr.equals,writer:o=>uP},controller:o=>{let e=o.value,t=o.constraint,i=[o.params.x,o.params.y,o.params.z];return new as(o.document,{assembly:Nw,axes:e.rawValue.getComponents().map((u,p)=>{var h;return Jp({constraint:t.components[p],initialValue:u,params:no(o.params,(h=i[p])!==null&&h!==void 0?h:{})})}),parser:$n,value:e,viewProps:o.viewProps})}}),Qh=class Qh{constructor(e=0,t=0,i=0,u=0){this.x=e,this.y=t,this.z=i,this.w=u}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(Oe(e))return!1;let t=e.x,i=e.y,u=e.z,p=e.w;return!(typeof t!="number"||typeof i!="number"||typeof u!="number"||typeof p!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}};l(Qh,"Point4d");var Or=Qh,Iw={toComponents:o=>o.getComponents(),fromComponents:o=>new Or(...o)};function dP(o){return Or.isObject(o)?new Or(o.x,o.y,o.z,o.w):new Or}l(dP,"point4dFromUnknown");function hP(o,e){o.writeProperty("x",e.x),o.writeProperty("y",e.y),o.writeProperty("z",e.z),o.writeProperty("w",e.w)}l(hP,"writePoint4d");function fP(o,e){return new ls({assembly:Iw,components:[Zn(Object.assign(Object.assign({},o),o.x),e.x),Zn(Object.assign(Object.assign({},o),o.y),e.y),Zn(Object.assign(Object.assign({},o),o.z),e.z),Zn(Object.assign(Object.assign({},o),o.w),e.w)]})}l(fP,"createConstraint$1");var mP=Lt({id:"input-point4d",type:"input",accept:(o,e)=>{if(!Or.isObject(o))return null;let t=qe(e,i=>Object.assign(Object.assign({},os(i)),{readonly:i.optional.constant(!1),w:i.optional.custom(Tr),x:i.optional.custom(Tr),y:i.optional.custom(Tr),z:i.optional.custom(Tr)}));return t?{initialValue:o,params:t}:null},binding:{reader:o=>dP,constraint:o=>fP(o.params,o.initialValue),equals:Or.equals,writer:o=>hP},controller:o=>{let e=o.value,t=o.constraint,i=[o.params.x,o.params.y,o.params.z,o.params.w];return new as(o.document,{assembly:Iw,axes:e.rawValue.getComponents().map((u,p)=>{var h;return Jp({constraint:t.components[p],initialValue:u,params:no(o.params,(h=i[p])!==null&&h!==void 0?h:{})})}),parser:$n,value:e,viewProps:o.viewProps})}});function vP(o){let e=[],t=od(o.options);return t&&e.push(t),new so(e)}l(vP,"createConstraint");var gP=Lt({id:"input-string",type:"input",accept:(o,e)=>{if(typeof o!="string")return null;let t=qe(e,i=>({readonly:i.optional.constant(!1),options:i.optional.custom(ps)}));return t?{initialValue:o,params:t}:null},binding:{reader:o=>cw,constraint:o=>vP(o.params),writer:o=>ds},controller:o=>{let e=o.document,t=o.value,i=o.constraint,u=i&&aa(i,lo);return u?new Nn(e,{props:new ue({options:u.values.value("options")}),value:t,viewProps:o.viewProps}):new ao(e,{parser:p=>p,props:ue.fromObject({formatter:sp}),value:t,viewProps:o.viewProps})},api(o){return typeof o.controller.value.rawValue!="string"?null:o.controller.valueController instanceof Nn?new ns(o.controller):null}}),fs={monitor:{defaultInterval:200,defaultRows:3}},F0=me("mll"),Zh=class Zh{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(F0()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("textarea");i.classList.add(F0("i")),i.style.height="calc(var(".concat(hw("containerUnitSize"),") * ").concat(t.rows,")"),i.readOnly=!0,t.viewProps.bindDisabled(i),this.element.appendChild(i),this.textareaElem_=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){let e=this.textareaElem_,t=e.scrollTop===e.scrollHeight-e.clientHeight,i=[];this.value.rawValue.forEach(u=>{u!==void 0&&i.push(this.formatter_(u))}),e.textContent=i.join("\n"),t&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}};l(Zh,"MultiLogView");var Op=Zh,Jh=class Jh{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Op(e,{formatter:t.formatter,rows:t.rows,value:this.value,viewProps:this.viewProps})}};l(Jh,"MultiLogController");var us=Jh,B0=me("sgl"),$h=class $h{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(B0()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("input");i.classList.add(B0("i")),i.readOnly=!0,i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){let e=this.value.rawValue,t=e[e.length-1];this.inputElement.value=t!==void 0?this.formatter_(t):""}onValueUpdate_(){this.update_()}};l($h,"SingleLogView");var Dp=$h,ef=class ef{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Dp(e,{formatter:t.formatter,value:this.value,viewProps:this.viewProps})}};l(ef,"SingleLogController");var cs=ef,wP=Lt({id:"monitor-bool",type:"monitor",accept:(o,e)=>{if(typeof o!="boolean")return null;let t=qe(e,i=>({readonly:i.required.constant(!0),rows:i.optional.number}));return t?{initialValue:o,params:t}:null},binding:{reader:o=>uw},controller:o=>{var e;return o.value.rawValue.length===1?new cs(o.document,{formatter:O0,value:o.value,viewProps:o.viewProps}):new us(o.document,{formatter:O0,rows:(e=o.params.rows)!==null&&e!==void 0?e:fs.monitor.defaultRows,value:o.value,viewProps:o.viewProps})}}),tf=class tf extends io{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}};l(tf,"GraphLogMonitorBindingApi");var Ap=tf,Rr=me("grl"),nf=class nf{constructor(e,t){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Rr()),t.viewProps.bindClassModifiers(this.element),this.formatter_=t.formatter,this.props_=t.props,this.cursor_=t.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);let i=e.createElementNS(An,"svg");i.classList.add(Rr("g")),i.style.height="calc(var(".concat(hw("containerUnitSize"),") * ").concat(t.rows,")"),this.element.appendChild(i),this.svgElem_=i;let u=e.createElementNS(An,"polyline");this.svgElem_.appendChild(u),this.lineElem_=u;let p=e.createElement("div");p.classList.add(Rr("t"),me("tt")()),this.element.appendChild(p),this.tooltipElem_=p,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}get graphElement(){return this.svgElem_}update_(){let{clientWidth:e,clientHeight:t}=this.element,i=this.value.rawValue.length-1,u=this.props_.get("min"),p=this.props_.get("max"),h=[];this.value.rawValue.forEach((v,x)=>{if(v===void 0)return;let M=Se(x,0,i,0,e),L=Se(v,u,p,t,0);h.push([M,L].join(","))}),this.lineElem_.setAttributeNS(null,"points",h.join(" "));let m=this.tooltipElem_,g=this.value.rawValue[this.cursor_.rawValue];if(g===void 0){m.classList.remove(Rr("t","a"));return}let b=Se(this.cursor_.rawValue,0,i,0,e),f=Se(g,u,p,t,0);m.style.left="".concat(b,"px"),m.style.top="".concat(f,"px"),m.textContent="".concat(this.formatter_(g)),m.classList.contains(Rr("t","a"))||(m.classList.add(Rr("t","a"),Rr("t","in")),ea(m),m.classList.remove(Rr("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}};l(nf,"GraphLogView");var zp=nf,rf=class rf{constructor(e,t){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.cursor_=Fe(-1),this.view=new zp(e,{cursor:this.cursor_,formatter:t.formatter,rows:t.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!$p(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{let i=new or(this.view.element);i.emitter.on("down",this.onGraphPointerDown_),i.emitter.on("move",this.onGraphPointerMove_),i.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return Qt(e,null,t=>({max:t.required.number,min:t.required.number}),t=>(this.props.set("max",t.max),this.props.set("min",t.min),!0))}exportProps(){return Zt(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){let{clientWidth:t}=this.view.element;this.cursor_.rawValue=Math.floor(Se(e.offsetX,0,t,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Se(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}};l(rf,"GraphLogController");var pa=rf;function jp(o){return Oe(o.format)?Gt(2):o.format}l(jp,"createFormatter");function bP(o){var e;return o.value.rawValue.length===1?new cs(o.document,{formatter:jp(o.params),value:o.value,viewProps:o.viewProps}):new us(o.document,{formatter:jp(o.params),rows:(e=o.params.rows)!==null&&e!==void 0?e:fs.monitor.defaultRows,value:o.value,viewProps:o.viewProps})}l(bP,"createTextMonitor");function yP(o){var e,t,i;return new pa(o.document,{formatter:jp(o.params),rows:(e=o.params.rows)!==null&&e!==void 0?e:fs.monitor.defaultRows,props:ue.fromObject({max:(t=o.params.max)!==null&&t!==void 0?t:100,min:(i=o.params.min)!==null&&i!==void 0?i:0}),value:o.value,viewProps:o.viewProps})}l(yP,"createGraphMonitor");function U0(o){return o.view==="graph"}l(U0,"shouldShowGraph");var _P=Lt({id:"monitor-number",type:"monitor",accept:(o,e)=>{if(typeof o!="number")return null;let t=qe(e,i=>({format:i.optional.function,max:i.optional.number,min:i.optional.number,readonly:i.required.constant(!0),rows:i.optional.number,view:i.optional.string}));return t?{initialValue:o,params:t}:null},binding:{defaultBufferSize:o=>U0(o)?64:1,reader:o=>X0},controller:o=>U0(o.params)?yP(o):bP(o),api:o=>o.controller.valueController instanceof pa?new Ap(o.controller):null}),xP=Lt({id:"monitor-string",type:"monitor",accept:(o,e)=>{if(typeof o!="string")return null;let t=qe(e,i=>({multiline:i.optional.boolean,readonly:i.required.constant(!0),rows:i.optional.number}));return t?{initialValue:o,params:t}:null},binding:{reader:o=>cw},controller:o=>{var e;let t=o.value;return t.rawValue.length>1||o.params.multiline?new us(o.document,{formatter:sp,rows:(e=o.params.rows)!==null&&e!==void 0?e:fs.monitor.defaultRows,value:t,viewProps:o.viewProps}):new cs(o.document,{formatter:sp,value:t,viewProps:o.viewProps})}}),of=class of{constructor(){this.map_=new Map}get(e){var t;return(t=this.map_.get(e))!==null&&t!==void 0?t:null}has(e){return this.map_.has(e)}add(e,t){return this.map_.set(e,t),e.viewProps.handleDispose(()=>{this.map_.delete(e)}),t}};l(of,"BladeApiCache");var Np=of,sf=class sf{constructor(e){this.target=e.target,this.reader_=e.reader,this.writer_=e.writer}read(){return this.reader_(this.target.read())}write(e){this.writer_(this.target,e)}inject(e){this.write(this.reader_(e))}};l(sf,"ReadWriteBinding");var Ip=sf;function PP(o,e){var t;let i=o.accept(e.target.read(),e.params);if(Oe(i))return null;let u={target:e.target,initialValue:i.initialValue,params:i.params},p=qe(e.params,v=>({disabled:v.optional.boolean,hidden:v.optional.boolean,label:v.optional.string,tag:v.optional.string})),h=o.binding.reader(u),m=o.binding.constraint?o.binding.constraint(u):void 0,g=new Ip({reader:h,target:e.target,writer:o.binding.writer(u)}),b=new zc(Fe(h(i.initialValue),{constraint:m,equals:o.binding.equals}),g),f=o.controller({constraint:m,document:e.document,initialValue:i.initialValue,params:i.params,value:b,viewProps:nr.create({disabled:p==null?void 0:p.disabled,hidden:p==null?void 0:p.hidden})});return new Nc(e.document,{blade:oi(),props:ue.fromObject({label:"label"in e.params?(t=p==null?void 0:p.label)!==null&&t!==void 0?t:null:e.target.key}),tag:p==null?void 0:p.tag,value:b,valueController:f})}l(PP,"createInputBindingController");var lf=class lf{constructor(e){this.target=e.target,this.reader_=e.reader}read(){return this.reader_(this.target.read())}};l(lf,"ReadonlyBinding");var Vp=lf;function SP(o,e){return e===0?new tp:new np(o,e!=null?e:fs.monitor.defaultInterval)}l(SP,"createTicker");function EP(o,e){var t,i,u;let p=o.accept(e.target.read(),e.params);if(Oe(p))return null;let h={target:e.target,initialValue:p.initialValue,params:p.params},m=qe(e.params,x=>({bufferSize:x.optional.number,disabled:x.optional.boolean,hidden:x.optional.boolean,interval:x.optional.number,label:x.optional.string})),g=o.binding.reader(h),b=(i=(t=m==null?void 0:m.bufferSize)!==null&&t!==void 0?t:o.binding.defaultBufferSize&&o.binding.defaultBufferSize(p.params))!==null&&i!==void 0?i:1,f=new Ic({binding:new Vp({reader:g,target:e.target}),bufferSize:b,ticker:SP(e.document,m==null?void 0:m.interval)}),v=o.controller({document:e.document,params:p.params,value:f,viewProps:nr.create({disabled:m==null?void 0:m.disabled,hidden:m==null?void 0:m.hidden})});return v.viewProps.bindDisabled(f.ticker),v.viewProps.handleDispose(()=>{f.ticker.dispose()}),new Vc(e.document,{blade:oi(),props:ue.fromObject({label:"label"in e.params?(u=m==null?void 0:m.label)!==null&&u!==void 0?u:null:e.target.key}),value:f,valueController:v})}l(EP,"createMonitorBindingController");var af=class af{constructor(e){this.pluginsMap_={blades:[],inputs:[],monitors:[]},this.apiCache_=e}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(e,t){if(!Wx(t.core))throw mt.notCompatible(e,t.id);t.type==="blade"?this.pluginsMap_.blades.unshift(t):t.type==="input"?this.pluginsMap_.inputs.unshift(t):t.type==="monitor"&&this.pluginsMap_.monitors.unshift(t)}createInput_(e,t,i){return this.pluginsMap_.inputs.reduce((u,p)=>u!=null?u:PP(p,{document:e,target:t,params:i}),null)}createMonitor_(e,t,i){return this.pluginsMap_.monitors.reduce((u,p)=>u!=null?u:EP(p,{document:e,params:i,target:t}),null)}createBinding(e,t,i){let u=t.read();if(Oe(u))throw new mt({context:{key:t.key},type:"nomatchingcontroller"});let p=this.createInput_(e,t,i);if(p)return p;let h=this.createMonitor_(e,t,i);if(h)return h;throw new mt({context:{key:t.key},type:"nomatchingcontroller"})}createBlade(e,t){let i=this.pluginsMap_.blades.reduce((u,p)=>u!=null?u:Hx(p,{document:e,params:t}),null);if(!i)throw new mt({type:"nomatchingview",context:{params:t}});return i}createInputBindingApi_(e){let t=this.pluginsMap_.inputs.reduce((i,u)=>{var p,h;return i||((h=(p=u.api)===null||p===void 0?void 0:p.call(u,{controller:e}))!==null&&h!==void 0?h:null)},null);return this.apiCache_.add(e,t!=null?t:new io(e))}createMonitorBindingApi_(e){let t=this.pluginsMap_.monitors.reduce((i,u)=>{var p,h;return i||((h=(p=u.api)===null||p===void 0?void 0:p.call(u,{controller:e}))!==null&&h!==void 0?h:null)},null);return this.apiCache_.add(e,t!=null?t:new io(e))}createBindingApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(xx(e))return this.createInputBindingApi_(e);if(kx(e))return this.createMonitorBindingApi_(e);throw mt.shouldNeverHappen()}createApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(_x(e))return this.createBindingApi(e);let t=this.pluginsMap_.blades.reduce((i,u)=>i!=null?i:u.api({controller:e,pool:this}),null);if(!t)throw mt.shouldNeverHappen();return this.apiCache_.add(e,t)}};l(af,"PluginPool");var Hp=af,CP=new Np;function kP(){let o=new Hp(CP);return[lP,pP,mP,gP,tP,J1,Z1,W1,Xx,wP,xP,_P,Mx,Ix,aw].forEach(e=>{o.register("core",e)}),o}l(kP,"createDefaultPluginPool");var uf=class uf extends er{constructor(e){super(e),this.emitter_=new Ze,this.controller.value.emitter.on("change",t=>{this.emitter_.emit("change",new oo(this,t.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}};l(uf,"ListBladeApi");var Fp=uf,cf=class cf extends er{};l(cf,"SeparatorBladeApi");var Bp=cf,pf=class pf extends er{constructor(e){super(e),this.emitter_=new Ze,this.controller.value.emitter.on("change",t=>{this.emitter_.emit("change",new oo(this,t.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}};l(pf,"SliderBladeApi");var Up=pf,df=class df extends er{constructor(e){super(e),this.emitter_=new Ze,this.controller.value.emitter.on("change",t=>{this.emitter_.emit("change",new oo(this,t.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get formatter(){return this.controller.valueController.props.get("formatter")}set formatter(e){this.controller.valueController.props.set("formatter",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}};l(df,"TextBladeApi");var Gp=df,RP=function(){return{id:"list",type:"blade",core:ri,accept(o){let e=qe(o,t=>({options:t.required.custom(ps),value:t.required.raw,view:t.required.constant("list"),label:t.optional.string}));return e?{params:e}:null},controller(o){let e=new lo(rd(o.params.options)),t=Fe(o.params.value,{constraint:e}),i=new Nn(o.document,{props:new ue({options:e.values.value("options")}),value:t,viewProps:o.viewProps});return new tr(o.document,{blade:o.blade,props:ue.fromObject({label:o.params.label}),value:t,valueController:i})},api(o){return!(o.controller instanceof tr)||!(o.controller.valueController instanceof Nn)?null:new Fp(o.controller)}}}(),hf=class hf extends sa{constructor(e,t){super(e,t)}get element(){return this.controller.view.element}};l(hf,"RootApi");var Kp=hf,ff=class ff extends es{constructor(e,t){super(e,{expanded:t.expanded,blade:t.blade,props:t.props,root:!0,viewProps:t.viewProps})}};l(ff,"RootController");var Wp=ff,G0=me("spr"),mf=class mf{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(G0()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("hr");i.classList.add(G0("r")),this.element.appendChild(i)}};l(mf,"SeparatorView");var Yp=mf,vf=class vf extends Jo{constructor(e,t){super(Object.assign(Object.assign({},t),{view:new Yp(e,{viewProps:t.viewProps})}))}};l(vf,"SeparatorController");var da=vf,MP={id:"separator",type:"blade",core:ri,accept(o){let e=qe(o,t=>({view:t.required.constant("separator")}));return e?{params:e}:null},controller(o){return new da(o.document,{blade:o.blade,viewProps:o.viewProps})},api(o){return o.controller instanceof da?new Bp(o.controller):null}},TP={id:"slider",type:"blade",core:ri,accept(o){let e=qe(o,t=>({max:t.required.number,min:t.required.number,view:t.required.constant("slider"),format:t.optional.function,label:t.optional.string,value:t.optional.number}));return e?{params:e}:null},controller(o){var e,t;let i=(e=o.params.value)!==null&&e!==void 0?e:0,u=new ro({max:o.params.max,min:o.params.min}),p=Fe(i,{constraint:u}),h=new $o(o.document,Object.assign(Object.assign({},dw({formatter:(t=o.params.format)!==null&&t!==void 0?t:sx,keyScale:Fe(1),max:u.values.value("max"),min:u.values.value("min"),pointerScale:Z0(o.params,i)})),{parser:$n,value:p,viewProps:o.viewProps}));return new tr(o.document,{blade:o.blade,props:ue.fromObject({label:o.params.label}),value:p,valueController:h})},api(o){return!(o.controller instanceof tr)||!(o.controller.valueController instanceof $o)?null:new Up(o.controller)}},LP=function(){return{id:"text",type:"blade",core:ri,accept(o){let e=qe(o,t=>({parse:t.required.function,value:t.required.raw,view:t.required.constant("text"),format:t.optional.function,label:t.optional.string}));return e?{params:e}:null},controller(o){var e;let t=Fe(o.params.value),i=new ao(o.document,{parser:o.params.parse,props:ue.fromObject({formatter:(e=o.params.format)!==null&&e!==void 0?e:u=>String(u)}),value:t,viewProps:o.viewProps});return new tr(o.document,{blade:o.blade,props:ue.fromObject({label:o.params.label}),value:t,valueController:i})},api(o){return!(o.controller instanceof tr)||!(o.controller.valueController instanceof ao)?null:new Gp(o.controller)}}}();function OP(o){let e=o.createElement("div");return e.classList.add(me("dfw")()),o.body&&o.body.appendChild(e),e}l(OP,"createDefaultWrapperElement");function DP(o,e,t){if(o.querySelector("style[data-tp-style=".concat(e,"]")))return;let i=o.createElement("style");i.dataset.tpStyle=e,i.textContent=t,o.head.appendChild(i)}l(DP,"embedStyle");var gf=class gf extends Kp{constructor(e){var t,i;let u=e!=null?e:{},p=(t=u.document)!==null&&t!==void 0?t:fx(),h=kP(),m=new Wp(p,{expanded:u.expanded,blade:oi(),props:ue.fromObject({title:u.title}),viewProps:nr.create()});super(m,h),this.pool_=h,this.containerElem_=(i=u.container)!==null&&i!==void 0?i:OP(p),this.containerElem_.appendChild(this.element),this.doc_=p,this.usesDefaultWrapper_=!u.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw mt.alreadyDisposed();return this.doc_}dispose(){let e=this.containerElem_;if(!e)throw mt.alreadyDisposed();if(this.usesDefaultWrapper_){let t=e.parentElement;t&&t.removeChild(e)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(e){e.css&&DP(this.document,"plugin-".concat(e.id),e.css),("plugin"in e?[e.plugin]:"plugins"in e?e.plugins:[]).forEach(i=>{this.pool_.register(e.id,i)})}setUpDefaultPlugins_(){this.registerPlugin({id:"default",css:'.tp-tbiv_b,.tp-coltxtv_ms,.tp-colswv_b,.tp-ckbv_i,.tp-sglv_i,.tp-mllv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-rotv_b,.tp-fldv_b,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tbpv_c>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-vp))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tbpv_c>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--cnt-usp)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tbpv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tbpv_c>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tbpv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tbpv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tbpv_c>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tbpv_c>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--bld-br);border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tbpv_c .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tbpv_c>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tbpv_c>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--bld-br)}.tp-tbpv_c .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--bld-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);overflow:hidden;padding-left:var(--cnt-hp);padding-right:calc(4px + var(--cnt-usz) + var(--cnt-hp));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-hp) + (var(--cnt-usz) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-vp);padding-top:var(--cnt-vp);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-sglv_i,.tp-mllv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--mo-fg);height:var(--cnt-usz);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-sglv_i::-webkit-scrollbar,.tp-mllv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-sglv_i::-webkit-scrollbar-corner,.tp-mllv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-sglv_i::-webkit-scrollbar-thumb,.tp-mllv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-rotv{--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-br: var(--tp-base-border-radius, 6px);--bs-ff: var(--tp-base-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--bld-br: var(--tp-blade-border-radius, 2px);--bld-hp: var(--tp-blade-horizontal-padding, 4px);--bld-vw: var(--tp-blade-value-width, 160px);--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--cnt-hp: var(--tp-container-horizontal-padding, 4px);--cnt-vp: var(--tp-container-vertical-padding, 4px);--cnt-usp: var(--tp-container-unit-spacing, 4px);--cnt-usz: var(--tp-container-unit-size, 20px);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--bld-br);cursor:pointer;display:block;height:var(--cnt-usz);position:relative;width:var(--cnt-usz)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--cnt-usz)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--cnt-usp);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--cnt-usp)}.tp-colpv_rgb{display:flex;margin-top:var(--cnt-usp);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-vp);padding-top:calc(var(--cnt-vp) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-hp));position:absolute;right:calc(-1*var(--cnt-hp));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--bld-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--cnt-usz)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--bld-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--bld-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{cursor:pointer;display:block;height:var(--cnt-usz);left:0;position:absolute;top:0;width:var(--cnt-usz)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--bld-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--bld-br);color:var(--lbl-fg);cursor:pointer;height:var(--cnt-usz);line-height:var(--cnt-usz);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--cnt-usz)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-hp);padding-right:var(--cnt-hp)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--bld-vw)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 var(--bld-hp);width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--cnt-usz)*3);line-height:var(--cnt-usz);padding-left:var(--bld-hp);padding-right:var(--bld-hp);resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--cnt-usz);margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--cnt-usp);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-p2dpv{padding-left:calc(var(--cnt-usz) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:var(--bld-vw);padding:var(--cnt-vp) var(--cnt-hp);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--cnt-usz);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--bld-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--cnt-usz) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-hp) + 4px);padding-right:calc(var(--cnt-hp) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);opacity:.5;overflow:hidden;position:relative;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-tbpv_c{padding-bottom:var(--cnt-vp);padding-left:4px;padding-top:var(--cnt-vp)}.tp-txtv{position:relative}.tp-txtv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:calc(var(--bld-hp) - 5px);position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--cnt-usz) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--bld-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--bs-ff);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--cnt-usz) + var(--cnt-hp));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0;transition-delay:0s;transition-duration:0s}.tp-rotv.tp-rotv-not>.tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst.tp-fldv-expanded>.tp-fldv_b{transition-delay:0s;transition-duration:0s}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}',plugins:[RP,MP,TP,aw,LP]})}};l(gf,"Pane");var ti=gf,wC=new ia("4.0.3");var wf=class wf extends ti{constructor(e,t){super({container:e,expanded:!0,title:"Controls"}),this.addBinding(t,"SunY",{label:"Sun Y",min:-1,max:5}),this.addBinding(t,"SunIntensity",{label:"Sun Intensity",min:0,max:t.SunIntensity*10}),this.addBinding(t,"GroundElevation",{label:"Ground elevation (meters)",min:1,max:t.GroundElevation}),this.addBinding(t,"AtmosphereHeight",{label:"Atmos. height (m)",min:1,max:t.AtmosphereHeight*2});let i=this.addFolder({title:"Rayleigh Scattering"});i.addBinding(t,"RayleighRed",{label:"Red",min:1e-6,max:1e-4}),i.addBinding(t,"RayleighGreen",{label:"Green",min:1e-6,max:1e-4}),i.addBinding(t,"RayleighBlue",{label:"Blue",min:1e-6,max:1e-4}),i.addBinding(t,"RayleighScaleHeight",{label:"Scale height (m)",min:1,max:t.AtmosphereHeight});let u=this.addFolder({title:"Mie Scattering"});u.addBinding(t,"MieScatteringCoeff",{label:"Scattering",min:1e-6,max:1e-4}),u.addBinding(t,"MieScaleHeight",{label:"Scale height (m)",min:1,max:t.AtmosphereHeight}),u.addBinding(t,"MiePolarity",{label:"Polarity",min:-.999,max:.999})}};l(wf,"AtmosphereControls");var ms=wf;var bf=class bf extends xg{constructor(e){super(AP(),zP(e)),this.atmosphere=e}onBeforeRender(){let e=this.material.uniforms,t=this.atmosphere;e.uEyePos.value.y=t.EyeHeight,e.uSunPos.value.y=t.SunY,e.uSunIntensity.value=t.SunIntensity,e.uGroundElevation.value=t.GroundElevation,e.uAtmosphereHeight.value=t.AtmosphereHeight,e.uRayleighScatteringCoeff.value.set(t.RayleighRed,t.RayleighGreen,t.RayleighBlue),e.uRayleighScaleHeight.value=t.RayleighScaleHeight,e.uMieScatteringCoeff.value=t.MieScatteringCoeff,e.uMieScaleHeight.value=t.MieScaleHeight,e.uMiePolarity.value=t.MiePolarity}};l(bf,"AtmosphereObject3D");var vs=bf;function AP(){let o=new Vl;return o.setAttribute("position",new Qr([-1,-1,-1,1,-1,-1,1,1,-1,-1,-1,-1,1,1,-1,-1,1,-1],3)),o}l(AP,"makeGeometry");function zP(o){let p=Math.PI/4,h=Math.tan(p/2),m=1,g=new Float32Array(16),b=new Float32Array(16);g.set([h*m,0,0,0,0,h,0,0,0,0,0,-1,0,0,1,1]);let f=Math.cos(1.47),v=Math.sin(1.47),x=Math.cos(-.1),M=Math.sin(-.1),L=9e3/1e3;return b.set([-M,-f*x,v*x,v*x*L,x,-f*M,v*M,v*M*L,0,v,f,f*L,0,0,0,1]),new Hl({uniforms:{model_from_view:{value:b},view_from_clip:{value:g},uEyePos:{value:new he(0,o.EyeHeight,0)},uSunPos:{value:new he(0,o.SunY,-1)},earth_center:{value:new he(0,0,o.EyeHeight)},sun_direction:{value:new he(0,o.SunY,0)},sun_size:{value:new Et(1,1)},camera:{value:new he(0,o.SunY,-1)},uSunIntensity:{value:o.SunIntensity},uGroundElevation:{value:o.GroundElevation},uAtmosphereHeight:{value:o.AtmosphereHeight},uRayleighScatteringCoeff:{value:new he(o.RayleighRed,o.RayleighGreen,o.RayleighBlue)},uRayleighScaleHeight:{value:o.RayleighScaleHeight},uMieScatteringCoeff:{value:o.MieScatteringCoeff},uMieScaleHeight:{value:o.MieScaleHeight},uMiePolarity:{value:o.MiePolarity}},vertexShader:jP,fragmentShader:NP,blending:Nl})}l(zP,"makeMaterial");var jP="varying vec3 vPosition;\n\nuniform mat4 model_from_view;\nuniform mat4 view_from_clip;\nlayout(location = 0) in vec4 vertex;\n//out vec3 view_ray;\nvoid main() {\n  //view_ray = (model_from_view * vec4((view_from_clip * vertex).xyz, 0.0)).xyz;\n  vec4 mvPosition = modelViewMatrix * vec4(position, 0.0);\n  vPosition = position;\n  gl_Position = projectionMatrix * mvPosition;\n  //gl_Position = vec4(position, 1.0);\n}\n",NP="precision highp float;\n\nvarying vec3 vPosition;\n\nuniform vec3 uSunPos;\nuniform vec3 uEyePos;\nuniform float uSunIntensity;\nuniform float uGroundElevation;\nuniform float uAtmosphereHeight;\nuniform vec3 uRayleighScatteringCoeff;\nuniform float uMieScatteringCoeff;\nuniform float uRayleighScaleHeight;\nuniform float uMieScaleHeight;\nuniform float uMiePolarity;\n\nuniform vec3 camera;\nuniform vec3 earth_center;\nuniform vec3 sun_direction;\nuniform vec2 sun_size;\n\nin vec3 view_ray;\n\n#define PI 3.141592\n#define iSteps 16\n#define jSteps 8\n\n\nvec2 rsi(vec3 r0, vec3 rd, float sr) {\n    // ray-sphere intersection that assumes\n    // the sphere is centered at the origin.\n    // No intersection when result.x > result.y\n    float a = dot(rd, rd);\n    float b = 2.0 * dot(rd, r0);\n    float c = dot(r0, r0) - (sr * sr);\n    float d = (b*b) - 4.0*a*c;\n    if (d < 0.0) return vec2(1e5,-1e5);\n    return vec2(\n        (-b - sqrt(d))/(2.0*a),\n        (-b + sqrt(d))/(2.0*a)\n    );\n}\n\n\nvec3 atmosphere(vec3 pVrt, vec3 pEye,\n                vec3 pSun, float iSun,\n                float rPlanet, float rAtmos,\n                vec3 kRlh, float shRlh,\n                float kMie, float shMie, float polarity) {\n    // Normalize the sun and view directions.\n    pVrt = normalize(pVrt);\n    pSun = normalize(pSun);\n\n    // Calculate the step size of the primary ray.\n    vec2 p = rsi(pEye, pVrt, rAtmos);\n    if (p.x > p.y) return vec3(0,0,0);\n    p.y = min(p.y, rsi(pEye, pVrt, rPlanet).x);\n    float iStepSize = (p.y - p.x) / float(iSteps);\n\n    // Initialize the primary ray time.\n    float iTime = 0.0;\n\n    // Initialize accumulators for Rayleigh and Mie scattering.\n    vec3 totalRlh = vec3(0,0,0);\n    vec3 totalMie = vec3(0,0,0);\n\n    // Initialize optical depth accumulators for the primary ray.\n    float iOdRlh = 0.0;\n    float iOdMie = 0.0;\n\n    // Calculate the Rayleigh and Mie phases.\n    // These look like some variant on:\n    //   16.2.2 The Phase Function\n    //   https://developer.nvidia.com/gpugems/gpugems2/part-ii-shading-lighting-and-shadows/chapter-16-accurate-atmospheric-scattering\n    float mu = dot(pVrt, pSun);\n    float mumu = mu * mu;\n    float pol2 = polarity * polarity;\n    // https://www.scratchapixel.com/lessons/procedural-generation-virtual-worlds/simulating-sky/simulating-colors-of-the-sky\n    // Solid angle 0.1:\n    float pRlh = 3.0 / (16.0 * PI) * (1.0 + mumu);\n    // TODO: add sr term to (8.0 * PI * sr), maybe steradian (solid angle) of sun?\n    // https://github.com/ebruneton/precomputed_atmospheric_scattering/blob/master/atmosphere/definitions.glsl#L209\n    // TODO: test addition of abs inside base of pow (seen in Unity port)\n    // TODO: Terrell and scratchpixel put (2.0 + pol2) in demoninator, Bruneton in numerator.\n    // https://github.com/ebruneton/precomputed_atmospheric_scattering/blob/master/atmosphere/functions.glsl#L746\n    float InverseSolidAngle = 3.0 / (8.0 * PI) * ((1.0 - pol2) * (1.0 + mumu));\n    float pMie = InverseSolidAngle * (2.0 + pol2)\n      / pow(1.0 + pol2 - 2.0 * polarity * mu, 1.5);\n\n    // Sample the primary ray.\n    for (int i = 0; i < iSteps; i++) {\n\n        // Calculate the primary ray sample position.\n        vec3 iPos = pEye + pVrt * (iTime + iStepSize * 0.5);\n\n        // Calculate the height of the sample.\n        float iHeight = length(iPos) - rPlanet;\n\n        // Calculate the optical depth of the Rayleigh and Mie scattering for this step.\n        float odStepRlh = exp(-iHeight / shRlh) * iStepSize;\n        float odStepMie = exp(-iHeight / shMie) * iStepSize;\n\n        // Accumulate optical depth.\n        iOdRlh += odStepRlh;\n        iOdMie += odStepMie;\n\n        // Calculate the step size of the secondary ray.\n        float jStepSize = rsi(iPos, pSun, rAtmos).y / float(jSteps);\n\n        // Initialize the secondary ray time.\n        float jTime = 0.0;\n\n        // Initialize optical depth accumulators for the secondary ray.\n        float jOdRlh = 0.0;\n        float jOdMie = 0.0;\n\n        // Sample the secondary ray.\n        for (int j = 0; j < jSteps; j++) {\n\n            // Calculate the secondary ray sample position.\n            vec3 jPos = iPos + pSun * (jTime + jStepSize * 0.5);\n\n            // Calculate the height of the sample.\n            float jHeight = length(jPos) - rPlanet;\n\n            // Accumulate the optical depth.\n            jOdRlh += exp(-jHeight / shRlh) * jStepSize;\n            jOdMie += exp(-jHeight / shMie) * jStepSize;\n\n            // Increment the secondary ray time.\n            jTime += jStepSize;\n        }\n\n        // Calculate attenuation.\n        vec3 attn = exp(-(kMie * (iOdMie + jOdMie) + kRlh * (iOdRlh + jOdRlh)));\n\n        // Accumulate scattering.\n        totalRlh += odStepRlh * attn;\n        totalMie += odStepMie * attn;\n\n        // Increment the primary ray time.\n        iTime += iStepSize;\n\n    }\n\n    // Calculate and return the final color.\n    return iSun * (pRlh * kRlh * totalRlh + pMie * kMie * totalMie);\n}\n\nconst float kLengthUnitInMeters = 1.;\nconst vec3 kSphereCenter = vec3(0.0, 0.0, 0) / kLengthUnitInMeters;\n\nvoid main() {\n  vec3 color = atmosphere(\n      vPosition, uEyePos,\n      uSunPos, uSunIntensity,\n      uGroundElevation, uGroundElevation + uAtmosphereHeight,\n      uRayleighScatteringCoeff, uRayleighScaleHeight,\n      uMieScatteringCoeff, uMieScaleHeight, uMiePolarity);\n  // Apply exposure.\n  color = 1.0 - exp(-1.0 * color);\n  gl_FragColor = vec4(color, 1);\n}\n";var Ot=V(re());function yf(){return Vw.default.useEffect(()=>{IP()}),(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("div",{id:oe}),(0,Ot.jsx)("h1",{children:"Atmosphere"}),(0,Ot.jsx)("p",{children:(0,Ot.jsx)("em",{children:"Work in progress."})}),(0,Ot.jsxs)("p",{children:["Using ",(0,Ot.jsx)("a",{target:"_new",href:"https://github.com/wwwtyro/glsl-atmosphere",children:"Rye Terrell's atmosphere shaders"})," with some physical constants and equation corrections adopted from ",(0,Ot.jsx)("a",{href:"bruneton-atmos/index.html",children:"my attempt to integrate Eric Bruneton's shaders"}),". See ",(0,Ot.jsx)("a",{href:"https://github.com/celestiary/web/blob/master/howto/atmosphere.html",children:"source"})," for extended notes on physical parameters."]}),(0,Ot.jsx)("p",{children:"Try zooming out (mouse scroll or pad push) to see the change in eye height.  Currently working on parameterizing the sun position and camera look direction."}),(0,Ot.jsx)("div",{id:"control",style:{width:400,height:400}})]})}l(yf,"Atmosphere");function IP(){let o=new Ui(2,22,6371e3,6e4,58e-7,135e-7,331e-7,8e3,21e-6,1200,.8),e=new ms(Ft("control"),o),t=new Re(oe);t.camera.position.z=10;let i=new Ht,u=1e7;i.position.set(u,0,u),t.scene.add(i),t.scene.add(new qt(1.1)),t.scene.add(new vs(o));let p=l(()=>{let h=t.camera.position.clone();h.applyMatrix4(t.camera.matrixWorld),o.EyeHeight=o.GroundElevation+h.z},"animation");t.setAnimation(p)}l(IP,"setup");var Hw=V(Pe());var po=V(re());function _f(){return(0,Hw.useEffect)(()=>VP(),[]),(0,po.jsxs)(po.Fragment,{children:[(0,po.jsx)("div",{id:oe}),(0,po.jsx)("h1",{children:"A Simple Cube"}),"To start with, a simple scene is defined with an object and controls.  Try rotating the cube with your mouse.  A scroll up or down gesture or mouse-wheel will zoom.  Double-button drag will pan."]})}l(_f,"Cube");function VP(){let o=new Re(oe);o.camera.position.set(1,2,3);let e=new Ht(16777215,1,0);e.position.set(3,4,5),e.power=1700,o.scene.add(e),o.scene.add(new qt),o.scene.add(Hg(1,1,1,{color:16777215}))}l(VP,"setup");var Fw=V(Pe());var ho=V(re());function xf(){return(0,Fw.useEffect)(()=>HP(),[]),(0,ho.jsxs)(ho.Fragment,{children:[(0,ho.jsx)("div",{id:oe}),(0,ho.jsx)("h1",{children:"A Sphere"}),"Or is it a fully operational battlestation?!"]})}l(xf,"Sphere");function HP(){let o=new Re(oe);o.camera.position.set(1,2,3);let e=new Ht(16777215,1,0);e.position.set(3,4,5),e.power=1700,o.scene.add(e);let t=1,i=50,u=new _g({color:16711680,wireframe:!0});o.scene.add(Bo({radius:t,resolution:i,matr:u}))}l(HP,"setup");var ya=V(Pe());var Pf=class Pf extends Vl{constructor(e){super();let t=new Float32Array(e*3),i=new Float32Array(e*3),u=new Float32Array(e*3),p=new Float32Array(e);this.setAttribute("position",new Qr(t,3)),this.setAttribute("mass",new Qr(p,1)),this.setAttribute("velocity",new Qr(u,3)),this.setAttribute("color",new Qr(i,3)),this.computeBoundingSphere()}};l(Pf,"GalaxyBufferGeometry");var gs=Pf;function Bw(o,e,t,i,u=1){let p=u*.5,h=u*u*.5,m=new Array(i.length),g=new Array(i.length);for(let b=0;b<o.length;b+=3){let f=b,v=b+1,x=b+2;o[f]+=e[f]*u+t[f]*h,o[v]+=e[v]*u+t[v]*h,o[x]+=e[x]*u+t[x]*h;let M=Math.floor(f/3);m[M]=e[f]}FP(o,e,t,i);for(let b=0;b<o.length;b+=3){let f=b,v=b+1,x=b+2;e[f]+=t[f]*p,e[v]+=t[v]*p,e[x]+=t[x]*p;let M=Math.floor(f/3);g[M]=e[f]}}l(Bw,"step");function FP(o,e,t,i){let u,p,h;for(let m=0;m<o.length;m+=3){let g=m,b=m+1,f=m+2,v=o[g],x=o[b],M=o[f],T=1e-10*i[m/3];u=0,p=0,h=0;for(let A=0;A<m;A+=3){let C=A,k=A+1,O=A+2,I=o[C],K=o[k],G=o[O],q=i[A/3],$=I-v,H=K-x,D=G-M,j=Math.max(Math.sqrt($*$+H*H+D*D),.1);$=$/j,H=H/j,D=D/j;let ne=T*q/(j*j),Me=ne*$,ce=ne*H,Ge=ne*D;u+=Me,p+=ce,h+=Ge,t[C]-=Me,t[k]-=ce,t[O]-=Ge}t[g]+=u,t[b]+=p,t[f]+=h}}l(FP,"updateAccelerations");var GP=2*Math.PI,Sf=class Sf extends Rg{constructor({numStars:e=2,radius:t=10}={}){super(new gs(e),new Hl({uniforms:{texSampler:{value:Ig("star_glow",".png")}},vertexShader:KP,fragmentShader:WP,blending:Nl,depthTest:!0,depthWrite:!1,transparent:!0})),this.numStars=e,this.radius=t,this.pos=this.geometry.attributes.position.array,this.vel=this.geometry.attributes.velocity.array,this.mass=this.geometry.attributes.mass.array,this.colors=this.geometry.attributes.color.array,this.acc=new Float32Array(this.vel.length),this.first=!0,e===2?this.initSimple():(this.initSpirals(),this.initOrbits())}animate(e=1,t=!1){Bw(this.pos,this.vel,this.acc,this.mass),this.geometry.attributes.position.needsUpdate=!0}initSimple(){let e=1e-10*1e7;console.log("SPEED: ",e),this.mass[0]=100,this.colors[0]=this.colors[1]=this.colors[2]=1,this.vel[2]=e,this.pos[3]=1,this.mass[1]=100,this.colors[3]=1,this.vel[5]=-e;let t=new qt;t.position.set(1,0,0),this.add(t)}initSpirals(){this.mass[0]=1e3;let e=5,t=.7,i=.5;for(let u=0;u<this.numStars;u++){let p=3*u,h=p,m=p+1,g=p+2,b=Math.random()*GP,f=Math.random()*this.radius;this.pos[h]=f*Math.cos(b),this.pos[m]=this.radius/100*(Math.random()-.5),this.pos[g]=f*Math.sin(b),this.colors[h]=1-i+i*Math.random(),this.colors[m]=1-i+i*Math.random(),this.colors[g]=1-i+i*Math.random(),this.mass[u]=10*(1-t+t*Math.cos(b*e))}}initOrbits(){for(let e=1;e<this.numStars;e++){let t=3*e,i=t,u=t+2,p=this.pos[i],h=this.pos[u],m=0;this.vel[i]=-h*m,this.vel[u]=p*m}}};l(Sf,"Galaxy");var ws=Sf,KP="\n  attribute float mass;\n  attribute vec3 color;\n  varying vec3 vColor;\n  void main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n    gl_PointSize = mass * 80. / -mvPosition.z;\n    gl_Position = projectionMatrix * mvPosition;\n  }\n",WP="\n// https://gamedev.stackexchange.com/questions/138384/how-do-i-avoid-using-the-wrong-texture2d-function-in-glsl\n#if __VERSION__ < 130\n#define TEXTURE2D texture2D\n#else\n#define TEXTURE2D texture\n#endif\n  uniform sampler2D texSampler;\n  varying vec3 vColor;\n  void main() {\n    gl_FragColor = vec4(vColor, 1.) * TEXTURE2D(texSampler, gl_PointCoord);\n  }\n";var Ct=V(re());function Ef(){let[o,e]=(0,ya.useState)(null);return(0,ya.useEffect)(()=>YP({setKeys:e}),[]),(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{id:oe}),(0,Ct.jsx)("div",{id:"info"}),(0,Ct.jsx)("h1",{children:"Galaxy"}),"Gravity particle system.  Work in progress.",(0,Ct.jsxs)("div",{style:{width:"50%",margin:"1em auto",align:"center"},children:[(0,Ct.jsx)("button",{id:"step",children:"Step"}),(0,Ct.jsx)("button",{id:"play",children:"Play"})]}),o&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)(He,{href:"/help",children:"Help"}),(0,Ct.jsx)(nt,{path:"/help",children:(0,Ct.jsx)($g,{keys:o,href:""})})]})]})}l(Ef,"Galaxy");function YP({setKeys:o}){let e=Ft(oe),t=new Re(e);t.camera.position.z=10,t.camera.position.y=3;let i=new ws({numStars:500});t.scene.add(i),t.scene.add(new qt);let u;{let x=new Zr(i.numStars,"".concat(i.numStars),"13px arial",[0,.1]);for(let M=0;M<x.maxLabels;M++)x.add(0,0,0,"".concat(M));u=x.compile(i.geometry.getAttribute("position")),u.visible=!1,t.scene.add(u)}let p=new ti({container:e,expanded:!0,title:"Performance"}),h={time:0,fps:0};p.addBinding(h,"time",{label:"render (ms)",min:0,max:100}),p.addBinding(h,"fps",{label:"fps",min:0,max:100}),p.addBinding(h,"fps",{label:"",view:"graph",min:0,max:1e3});let m=!1,g=l(()=>{h.time=new Date().getTime(),i.animate(m),h.time=new Date().getTime()-h.time,h.fps=1e3/h.time},"anim"),b=Ft("play");function f(){t.animationCb?(t.animationCb=null,b.innerText="Play",m=!0):(t.animationCb=g,b.innerText="Pause",m=!1)}l(f,"togglePlay"),Ft("step").onclick=g,b.onclick=f;let v=new Bl;v.map(" ",()=>{f()},"Toggle play/pause"),u&&v.map("l",()=>{u.visible=!u.visible},"Toggle label display"),o(v)}l(YP,"setup");var Uw=V(Pe());var fo=V(re());function Cf(){return(0,Uw.useEffect)(()=>XP(),[]),(0,fo.jsxs)(fo.Fragment,{children:[(0,fo.jsx)("div",{id:oe}),(0,fo.jsx)("h1",{children:"A Grid"}),"Try zooming out and rotating."]})}l(Cf,"Grid");function XP(){let o=new Re(oe);o.camera.position.z=10;let e=Ug();e.material.color.setRGB(0,0,1),e.material.transparent=!0,o.scene.add(e)}l(XP,"setup");var Gw=V(Pe());var Dr=V(re());function kf(){return(0,Gw.useEffect)(()=>qP(),[]),(0,Dr.jsxs)(Dr.Fragment,{children:[(0,Dr.jsx)("div",{id:oe}),(0,Dr.jsx)("h1",{children:"Sprite Sheet Labels"}),(0,Dr.jsx)("p",{children:"To allow for more labels in the scene, a single sprite sheet is used, with a GL shader configured with custom offsets into the sheet for each object."})]})}l(kf,"Labels");function qP(){let o=new Re(oe),e=Vg();e.position.z=-3,o.scene.add(e);let t=new Ht;t.position.set(10,10,10),o.scene.add(t);let i="item-",u=1e4;o.camera.position.set(0,0,10);let p=new Zr(u,i+u,"medium arial"),h=Math.ceil(Math.sqrt(u)),m=h/-2+.5,g=h/-2+.5;e:for(let b=0;b<h;b++)for(let f=0;f<h;f++){let v=b*h+f;if(v>=u)break e;p.add(m+b,g+f,0,i+v)}o.scene.add(p.compile())}l(qP,"setup");var Ww=V(Pe());var bs={v:[]},Kw=l(()=>bs.v.forEach(o=>o()),"onHashChange"),QP=l(o=>(bs.v.push(o)===1&&addEventListener("hashchange",Kw),()=>{bs.v=bs.v.filter(e=>e!==o),bs.v.length||removeEventListener("hashchange",Kw)}),"subscribeToHashUpdates"),ZP=l(()=>"/"+location.hash.replace(/^#?\/?/,""),"currentHashLocation"),JP=l((o,{state:e=null}={})=>{history.replaceState(e,"",location.pathname+location.search+(location.hash="#/".concat(o.replace(/^#?\/?/,""))))},"navigate"),mo=l(({ssrPath:o="/"}={})=>[(0,pg.useSyncExternalStore)(QP,ZP,()=>o),JP],"useHashLocation");mo.hrefs=o=>"#"+o;var ir=V(re());function Rf(){let[o]=mo();return(0,Ww.useEffect)(()=>{$P(o.substr(1)||"sun/earth/moon")},[o]),(0,ir.jsxs)(ir.Fragment,{children:[(0,ir.jsx)("h1",{children:"Loader"}),(0,ir.jsx)("p",{children:"The loader fetches a json object at a path, e.g. 'sun/earth/moon'. Each path part is passed to an onLoad callback, and an onDone callback is called after the final object is loaded."}),(0,ir.jsx)("p",{children:"Here is the loaded Moon object, displayed with the collapsor.js utility:"}),(0,ir.jsx)("div",{id:"done-id"})]})}l(Rf,"Loader");function $P(o){let e=l((i,u)=>{},"onLoadCb"),t=l((i,u)=>{let p=Ft("done-id");p.innerHTML=JSON.stringify(u).replace(/{/g,"<ul><li>").replace(/}/g,"</li></ul>").replace(/\[/g,"<ol><li>").replace(/\]/g,"</li></ol>").replace(/,/g,"</li><li>").replace(/<li><\/li>/g,""),window.collapse=zg,Ag(p)},"onDoneCb");new Fo().loadPath(o,e,t)}l($P,"setup");var Yw=V(Pe());var vt=V(re());function Mf(){return Yw.default.useEffect(()=>{eS()},[]),(0,vt.jsxs)("div",{style:{maxWidth:"800px"},children:[(0,vt.jsx)("h1",{children:"Measure"}),(0,vt.jsxs)("p",{children:["Working with astronomical data will quickly break ur brain if you don't have an easy way to work with units and mangitudes. I wrote the ",(0,vt.jsx)("a",{href:"https://github.com/pablo-mayrgundter/measure.js",children:"measure.js"})," library to help with this."]}),(0,vt.jsx)("table",{cellPadding:"5em",cellSpacing:"5",children:(0,vt.jsxs)("tbody",{children:[(0,vt.jsxs)("tr",{children:[(0,vt.jsx)("th",{children:"Data string"}),(0,vt.jsx)("th",{children:"Parsed Measure toString"}),(0,vt.jsx)("th",{children:"toKilo"})]}),(0,vt.jsx)("tr",{children:(0,vt.jsx)("td",{id:"mass1",children:"1.9891E33 g"})}),(0,vt.jsx)("tr",{children:(0,vt.jsx)("td",{id:"mass2",children:"1.9891E33 kg"})}),(0,vt.jsx)("tr",{children:(0,vt.jsx)("td",{id:"radius",children:"6.9424895E8 m"})})]})})]})}l(Mf,"Measure");function eS(){let o=l(e=>{let t=e.innerHTML,i=nc.parse(e.innerHTML),u=i.convertTo(nc.Magnitude.KILO),p=e.parentNode;p.appendChild(ec("td",i)),p.appendChild(ec("td",u))},"parse");o(Ft("mass1")),o(Ft("mass2")),o(Ft("radius"))}l(eS,"setup");var Xw=V(Pe());var Tf=class Tf extends Yn{constructor(e,t){super(),this.opts={font:t&&t.font?t.font:Zr.defaultFont,fillStyle:t&&t.fillStyle?t.fillStyle:"white"};let i=new Zr(1,e,this.opts.font,[0,0]);i.add(0,0,0,e,this.opts.fillStyle),this.add(i.compile())}};l(Tf,"Label");var ys=Tf;var Lf=class Lf extends Yn{constructor(e){super(),this.props=e,this.propsReified={siderealOrbitPeriod:e.siderealOrbitPeriod.scalar,ecc:e.eccentricity,inc:e.inclination*Er,loan:e.longitudeOfAscendingNode*Er,lop:e.longitudeOfPericenter*Er,meanLon:e.meanLongitude*Er,radius:e.semiMajorAxis.scalar},this.init(this.propsReified)}init(e){let t=_a(this,"referencePlane");t.rotation.x=-Math.PI/2;let i=_a(t,"eclipticPlane");i.rotation.z=e.loan;let u=_a(i,"orbitalPlane");u.rotation.x=e.inc;let p=_a(u,"periPlane");p.rotation.z=e.lop,this.orbiterCenter=p}addOrbiter(e){this.orbiterCenter.add(e)}};l(Lf,"Orbit");var _s=Lf;function _a(o,e){let t=Og(new Yn,e);return o.add(t),t}l(_a,"addFrame");function xa(o,e){let t=l(g=>{let b=new Yn;return b.name=g,b},"nO"),i={newObject:t,newGroup:t,orbitShapes:[]},u=["Mercury","Venus","Earth","Mars","Jupiter","Saturn","Uranus","Neptune","Pluto"],p=document.getElementById("faves");p.innerHTML="<tr><th>Planet</th></tr>",u.map(g=>{p.innerHTML+='<tr>\n            <td><a href="#'.concat(g.toLowerCase(),'">').concat(g,"</a></td>\n          </tr>")});let h=l((g,b)=>{},"onLoadCb"),m=l((g,b)=>{Gl(b),e(new Ul(i,b))},"onDoneCb");new Fo().loadPath(o,h,m)}l(xa,"planetHelper");var lt=V(re());function Of(){return(0,Xw.useEffect)(()=>tS(),[]),(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{id:oe}),(0,lt.jsx)("h1",{children:"Orbit"}),(0,lt.jsxs)("p",{children:["An example orbit.",(0,lt.jsx)("a",{href:"https://en.wikipedia.org/wiki/Orbital_elements",children:"https://en.wikipedia.org/wiki/Orbital_elements"}),(0,lt.jsx)("img",{src:"/images/Orbit1.png",style:{width:"400px"},alt:"By Lasunncty at the English Wikipedia, CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=8971052"})]}),(0,lt.jsx)("table",{style:{width:"20%",verticalAlign:"top"},children:(0,lt.jsx)("tbody",{children:(0,lt.jsxs)("tr",{children:[(0,lt.jsx)("td",{children:(0,lt.jsx)("table",{id:"faves"})}),(0,lt.jsx)("td",{style:{width:"80%"},children:(0,lt.jsx)("form",{name:"elts",children:(0,lt.jsx)("table",{id:"propsTable"})})})]})})}),(0,lt.jsxs)("em",{style:{fontSize:"small"},children:["(",(0,lt.jsx)("a",{href:"#test",children:"emulate image above"})," and refresh)"]})]})}l(Of,"Orbit");function tS(){let o=new Re(oe);o.camera.position.set(1,1,3),o.scene.add(new Io);function e(h){let m=Math.PI*2,g=360,b={siderealOrbitPeriod:78184256184e-1,eccentricity:1,inclination:g,longitudeOfAscendingNode:g,longitudeOfPericenter:g,meanLongitude:g,semiMajorAxis:586966e7};document.onSlider=(f,v,x)=>{let M=f.value/100*b[v];h[v]=document.forms.elts[v].value=M,u(h)},document.onInput=(f,v,x)=>{h[v]=f.value,document.forms.elts[v+"-slider"].value=f.value/b[v]*100,u(h)},propsTable.innerHTML="";for(let f in b){let v=b[f],x=document.getElementById("propsTable"),M=h[f],L=M/v*100;x.innerHTML+="<tr>\n           <td>".concat(f,':\n           <td><input type="range" min="0" max="100" name="').concat(f,'-slider" value="').concat(L,'"\n                  oninput="document.onSlider(this, \'').concat(f,'\')"/>\n           <td><input name="').concat(f,'" value="').concat(M,'" oninput="document.onInput(this, \'').concat(f,"')\"/>\n         </tr>")}}l(e,"setupProps");let t,i;function u(h){let m=new _s(h);$u(m,"name","referencePlane",g=>{let b={text:"\u03A9 Longitude of ascending node",color:"green",padding:[-.5,-.5]};g.add(Bg(new he(1.1,0,0),new he,16711680,"\u2648\uFE0EReference direction")),g.add(Uo(m.propsReified.loan,null,b,b))}),$u(m,"name","orbitalPlane",g=>{let b={text:"\u03C9 Argument of periapsis",color:"blue",padding:[-.5,-.5]},f=m.propsReified.lop,v=Fg(1,0,0,{color:"blue"});v.rotation.z=f,g.add(v),g.add(Uo(f,null,b,b));let x=new ys("\u260A Ascending node",{fillStyle:"green"});x.position.set(1,0,0),x.rotation.z=m.propsReified.loan,g.add(x)}),t&&o.scene.remove(t),t=m,o.scene.add(t),i&&t.addOrbiter(i)}if(l(u,"show"),location.hash=="#test"){let h={siderealOrbitPeriod:0,eccentricity:1,inclination:30,longitudeOfAscendingNode:300,longitudeOfPericenter:110,meanLongitude:0,semiMajorAxis:{scalar:1}};e(h),u(h),document.orbit=h}else xa("earth",h=>{e(h.props.orbit),u(h.props.orbit),i=h,i.orbit=t,i.scale.setScalar(.1),t.addOrbiter(i)});let p=l(()=>{let h=Date.now()*1e3;if(i!=null){if(i.siderealRotationPeriod){let m=1.5*Math.PI+h/86400*tc;i.setRotationFromAxisAngle(this.Y_AXIS,m)}if(i.orbit){let m=i.orbit.props,g=1,b=g*Math.sqrt(1-Math.pow(m.eccentricity,2)),f=1*h/m.siderealOrbitPeriod.scalar*tc,v=g*Math.cos(f),x=b*Math.sin(f);i.position.set(v,x,0)}}},"anim");o.animationCb=p}l(tS,"setup");var qw=V(Pe());var vo=V(re());function Df(){return(0,qw.useEffect)(()=>nS(),[]),(0,vo.jsxs)(vo.Fragment,{children:[(0,vo.jsx)("div",{id:oe}),(0,vo.jsx)("h1",{children:"Picking"}),"Click on the sphere to change its colors."]})}l(Df,"Picking");function nS(){let o=new Re(oe),e=new Ht;e.position.set(10,10,10),o.scene.add(e),o.scene.add(new Io(8947848));let t=Bo(),i=Bo(),u=Bo();t.position.set(5,3,2),i.position.set(2,5,3),u.position.set(2,3,5),o.scene.add(t),o.scene.add(i),o.scene.add(u),o.camera.platform.position.z=10,o.camera.position.z=1,o.scene.updateMatrixWorld();let p=new he;p.setFromMatrixPosition(t.matrixWorld),o.camera.lookAt(p),o.controls.update(),o.controls.target=p;let h=new Fl,m=[16711680,65280],g=0;document.body.addEventListener("dblclick",b=>{let f={};f.x=b.clientX/window.innerWidth*2-1,f.y=b.clientY/window.innerHeight*-2+1,h.setFromCamera(f,o.camera);let v=h.intersectObjects(o.scene.children,!0);console.log("click intersects: ",v);for(let x=0;x<v.length;x++)v[x].object.material.color.set(m[g]),g=(g+1)%2})}l(nS,"setup");var si=V(Pe());var pn=V(re());function Af(){let[o,e]=(0,si.useState)(null),[t,i]=(0,si.useState)(null),[u]=mo();return(0,si.useEffect)(()=>e(rS()),[]),(0,si.useEffect)(()=>{if(o){let p=(u==="/"?"#earth":u).substring(1);oS(o,p,t,i)}},[u,o]),(0,pn.jsxs)(pn.Fragment,{children:[(0,pn.jsx)("div",{id:oe}),(0,pn.jsx)("h1",{children:"Planet"}),(0,pn.jsx)("p",{children:"Use LOD to lazy-load texture.  Open your browser network trace and watch it as you zoom in."}),(0,pn.jsx)("table",{id:"faves",children:(0,pn.jsx)("tbody",{children:(0,pn.jsx)("tr",{children:(0,pn.jsx)("th",{children:"Name"})})})})]})}l(Af,"Planet");function rS(){let o=new Re(oe);o.camera.position.z=10;let e=new Ht;e.power=17;let t=1e3;return e.position.set(-t,0,t),o.camera.add(e),o}l(rS,"setup");function oS(o,e,t,i){xa(e,u=>{t&&o.scene.remove(t),o.scene.add(u),i(u),o.animationCb=()=>{u.rotation.y+=.001}})}l(oS,"showPlanet");var Qw=V(Pe());var yn=V(re());function zf(){return(0,Qw.useEffect)(()=>iS(),[]),(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("div",{id:oe}),(0,yn.jsx)("h1",{children:"A Saturn-Earth Orbital System"}),(0,yn.jsx)("p",{children:"If the Earth orbited Saturn at the same distance that the Moon orbits Earth, i.e. Earth as a moon of Saturn, how fast would Earth orbit Saturn?"}),(0,yn.jsxs)("p",{children:["This question was inspired by a friend commenting on the FB photo ",(0,yn.jsx)("a",{href:"https://www.facebook.com/fxsoyris/posts/4859941050713774",children:"shared"})," by Fran\xE7ois Xavier Soyris, Jan 19 2021."]}),(0,yn.jsx)("img",{alt:"image of Saturn from Earth in its orbit",src:"/guide/saturn-earth-fb-photo.jpg",width:"400"})]})}l(zf,"SaturnEarth");function iS(){let o=new Re(oe);o.camera.position.set(0,0,50),o.camera.position.setLength(29.12),o.camera.position.setY(.63351),document.cam=o.camera,o.scene.add(new Io(1118481)),o.scene.add(new qt);let e=new Go({radius:{scalar:694248950}},null,()=>{let b=143353e7*Ho,f=e.children[1].geometry.attributes.position;f.array[0]=-b,f.array[2]=-b;let v=new Ht;v.position.set(-b,0,-b),o.scene.add(v)},!1),t=l(b=>{let f=new Yn;return f.name=b,f},"nO"),i={newObject:t,newGroup:t,orbitShapes:[]},u,p=l((b,f)=>{if(b==="moon"){u=f.props.orbit.semiMajorAxis.scalar*Ho;return}if(b==="earth"){let v=.5*u+10,x=f.props.radius.scalar*Ho;f.position.x=v,o.camera.position.set(v*2,x*2,0)}else f.position.x=-.5*u,f.rotation.y=.75*Math.PI;o.scene.add(f)},"sceneLoadCb"),h=l((b,f)=>{},"onLoadCb"),m=l((b,f)=>{Gl(f),p(b,new Ul(i,f))},"onDoneCb"),g=new Fo;g.loadPath("moon",h,m),g.loadPath("saturn",h,m),g.loadPath("earth",h,m),o.animationCb=()=>{}}l(iS,"setup");var go=V(Pe());var Je=V(re());function jf(){let[o,e]=(0,go.useState)(null),[t,i]=(0,go.useState)(null),[u,p]=(0,go.useState)(null),[h]=mo();return(0,go.useEffect)(()=>e(sS(p)),[]),(0,go.useEffect)(()=>{if(o&&u){let m=h.substr(1),g=new Wg;lS(o,m,t,i,u,g)}},[u,h,o,i]),(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{id:oe}),(0,Je.jsx)("h1",{children:"Star"}),"See ",(0,Je.jsx)("a",{href:"https://www.seedofandromeda.com/blogs/51-procedural-star-rendering",children:"Seed of Andromeda"})," for a nice overall approach.",(0,Je.jsxs)("p",{children:["Borrowed heavily from code ",(0,Je.jsx)("a",{href:"https://bpodgursky.com/2017/02/01/procedural-star-rendering-with-three-js-and-webgl-shaders/",children:"here"}),"."]}),(0,Je.jsx)("p",{children:"Added differential color range based on distance.  This makes the star appear white from far away and reveal surface structure as false-color on closer approach."}),(0,Je.jsx)("table",{id:"faves",children:(0,Je.jsxs)("tbody",{children:[(0,Je.jsxs)("tr",{children:[(0,Je.jsx)("th",{children:"Star"}),(0,Je.jsx)("th",{children:"Spectral Type"}),(0,Je.jsx)("th",{children:"Hip ID"})]}),u&&Array.from(rc.keys()).map(m=>{let g=rc.get(m),b=u.starByHip.get(m),f=Ii.StarSpectra[b.spectralType][3];return(0,Je.jsxs)("tr",{children:[(0,Je.jsx)("td",{children:(0,Je.jsx)("a",{href:"#".concat(g),children:g})}),(0,Je.jsx)("td",{children:f}),(0,Je.jsx)("td",{children:m})]})})]})})]})}l(jf,"Star");function sS(o){let e=new Re(oe);e.camera.position.z=3.5;let t=new Ii;return t.load(()=>o(t)),e}l(sS,"setup");function lS(o,e,t,i,u,p){e=e.replaceAll(/%20/g," ");let h=u.hipByName.get(e);if(h===void 0){console.error("Cannot find star(".concat(e,") in "),u);return}let m=aS(o,u,parseInt(h),t,i);o.animationCb=()=>{p.updateTime();try{m.preAnimCb(p)}catch(g){throw console.error(g),new Error("preanim star: ".concat(m))}}}l(lS,"showStar");function aS(o,e,t,i,u){i&&o.scene.remove(i);let p=e.starByHip.get(t);p.x=p.y=p.z=0,p.radius={scalar:1/Ho};let h=new Kg(p,{},o);return o.scene.add(h),u(h),h}l(aS,"addStarToScene");var Zw=V(Pe());var sr=V(re());function Nf(){return(0,Zw.useEffect)(()=>uS(),[]),(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)("div",{id:oe}),(0,sr.jsx)("h1",{children:"Stars"}),(0,sr.jsx)(sr.Fragment,{children:"The star catalog uses Celestia's star.dat database"})]})}l(Nf,"Stars");function uS(){let o=new Re(oe);o.camera.position.z=10,o.useStore={setState:()=>{}};let e={radius:{scalar:jg(.1).radiusMeters}},t=new Go(e,o,!0);o.scene.add(t)}l(uS,"setup");var ur=V(Pe());Wr();var Ae=V(Pe()),Fb=V(r_());var Be=V(Pe()),ar=V(If());var Dt=V(Pe());function cS(o){let e,t=new Set,i=l((b,f)=>{let v=typeof b=="function"?b(e):b;if(v!==e){let x=e;e=f?v:Object.assign({},e,v),t.forEach(M=>M(e,x))}},"setState"),u=l(()=>e,"getState"),p=l((b,f=u,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let x=f(e);function M(){let L=f(e);if(!v(x,L)){let T=x;b(x=L,T)}}return l(M,"listenerToAdd"),t.add(M),()=>t.delete(M)},"subscribeWithSelector"),g={setState:i,getState:u,subscribe:l((b,f,v)=>f||v?p(b,f,v):(t.add(b),()=>t.delete(b)),"subscribe"),destroy:l(()=>t.clear(),"destroy")};return e=o(i,u,g),g}l(cS,"createStore");var pS=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),eb=pS?Dt.useEffect:Dt.useLayoutEffect;function tb(o){let e=typeof o=="function"?cS(o):o,t=l((i=e.getState,u=Object.is)=>{let[,p]=(0,Dt.useReducer)(A=>A+1,0),h=e.getState(),m=(0,Dt.useRef)(h),g=(0,Dt.useRef)(i),b=(0,Dt.useRef)(u),f=(0,Dt.useRef)(!1),v=(0,Dt.useRef)();v.current===void 0&&(v.current=i(h));let x,M=!1;(m.current!==h||g.current!==i||b.current!==u||f.current)&&(x=i(h),M=!u(v.current,x)),eb(()=>{M&&(v.current=x),m.current=h,g.current=i,b.current=u,f.current=!1});let L=(0,Dt.useRef)(h);eb(()=>{let A=l(()=>{try{let k=e.getState(),O=g.current(k);b.current(v.current,O)||(m.current=k,v.current=O,p())}catch(k){f.current=!0,p()}},"listener"),C=e.subscribe(A);return e.getState()!==L.current&&A(),C},[]);let T=M?x:v.current;return(0,Dt.useDebugValue)(T),T},"useStore");return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let i=[t,e];return{next(){let u=i.length<=0;return{value:i.shift(),done:u}}}},t}l(tb,"create");var Cb=V(Xf()),Ta=V(Ra());function vb(o,e,t=(i,u)=>i===u){if(o===e)return!0;if(!o||!e)return!1;let i=o.length;if(e.length!==i)return!1;for(let u=0;u<i;u++)if(!t(o[u],e[u]))return!1;return!0}l(vb,"shallowEqualArrays");var lr=[];function gb(o,e,t=!1,i={}){for(let p of lr)if(vb(e,p.keys,p.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(p,"error"))throw p.error;if(Object.prototype.hasOwnProperty.call(p,"response"))return p.response;if(!t)throw p.promise}let u={keys:e,equal:i.equal,promise:o(...e).then(p=>u.response=p).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{let p=lr.indexOf(u);p!==-1&&lr.splice(p,1)},i.lifespan)}).catch(p=>u.error=p)};if(lr.push(u),!t)throw u.promise}l(gb,"query");var wb=l((o,e,t)=>gb(o,e,!1,t),"suspend"),bb=l((o,e,t)=>void gb(o,e,!0,t),"preload");var yb=l(o=>{if(o===void 0||o.length===0)lr.splice(0,lr.length);else{let e=lr.find(t=>vb(o,t.keys,t.equal));if(e){let t=lr.indexOf(e);t!==-1&&lr.splice(t,1)}}},"clear");var _b,xb,kb=l(o=>o&&o.isOrthographicCamera,"isOrthographicCamera"),ci=typeof window<"u"&&((_b=window.document)!=null&&_b.createElement||((xb=window.navigator)==null?void 0:xb.product)==="ReactNative")?Be.useLayoutEffect:Be.useEffect;function am(o){let e=Be.useRef(o);return ci(()=>void(e.current=o),[o]),e}l(am,"useMutableCallback");function Rb({set:o}){return ci(()=>(o(new Promise(()=>null)),()=>o(!1)),[o]),null}l(Rb,"Block");var mm=class mm extends Be.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};l(mm,"ErrorBoundary");var Rs=mm;Rs.getDerivedStateFromError=()=>({error:!0});var Mb="__default",hS=l(o=>o&&!!o.memoized&&!!o.changes,"isDiffSet");function Tb(o){return Array.isArray(o)?Math.min(Math.max(o[0],window.devicePixelRatio),o[1]):o}l(Tb,"calculateDpr");var Cs=l(o=>{var e;return(e=o.__r3f)==null?void 0:e.root.getState()},"getRootState"),$e={obj:o=>o===Object(o)&&!$e.arr(o)&&typeof o!="function",fun:o=>typeof o=="function",str:o=>typeof o=="string",num:o=>typeof o=="number",boo:o=>typeof o=="boolean",und:o=>o===void 0,arr:o=>Array.isArray(o),equ(o,e,{arrays:t="shallow",objects:i="reference",strict:u=!0}={}){if(typeof o!=typeof e||!!o!=!!e)return!1;if($e.str(o)||$e.num(o))return o===e;let p=$e.obj(o);if(p&&i==="reference")return o===e;let h=$e.arr(o);if(h&&t==="reference")return o===e;if((h||p)&&o===e)return!0;let m;for(m in o)if(!(m in e))return!1;for(m in u?e:o)if(o[m]!==e[m])return!1;if($e.und(m)){if(h&&o.length===0&&e.length===0||p&&Object.keys(o).length===0&&Object.keys(e).length===0)return!0;if(o!==e)return!1}return!0}};function fS(o){let e={nodes:{},materials:{}};return o&&o.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}l(fS,"buildGraph");function Lb(o){o.dispose&&o.type!=="Scene"&&o.dispose();for(let e in o)e.dispose==null||e.dispose(),delete o[e]}l(Lb,"dispose");function ai(o,e){let t=o;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),o}l(ai,"prepare");function rm(o,e){let t=o;if(e.includes("-")){let i=e.split("-"),u=i.pop();return t=i.reduce((p,h)=>p[h],o),{target:t,key:u}}else return{target:t,key:e}}l(rm,"resolve");var Pb=/-\d+$/;function qf(o,e,t){if($e.str(t)){if(Pb.test(t)){let p=t.replace(Pb,""),{target:h,key:m}=rm(o,p);Array.isArray(h[m])||(h[m]=[])}let{target:i,key:u}=rm(o,t);e.__r3f.previousAttach=i[u],i[u]=e}else e.__r3f.previousAttach=t(o,e)}l(qf,"attach");function Sb(o,e,t){var i,u;if($e.str(t)){let{target:p,key:h}=rm(o,t),m=e.__r3f.previousAttach;m===void 0?delete p[h]:p[h]=m}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(o,e);(u=e.__r3f)==null||delete u.previousAttach}l(Sb,"detach");function Ob(o,{children:e,key:t,ref:i,...u},{children:p,key:h,ref:m,...g}={},b=!1){var f;let v=(f=o==null?void 0:o.__r3f)!=null?f:{},x=Object.entries(u),M=[];if(b){let T=Object.keys(g);for(let A=0;A<T.length;A++)u.hasOwnProperty(T[A])||x.unshift([T[A],Mb+"remove"])}x.forEach(([T,A])=>{var C;if((C=o.__r3f)!=null&&C.primitive&&T==="object"||$e.equ(A,g[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return M.push([T,A,!0,[]]);let k=[];T.includes("-")&&(k=T.split("-")),M.push([T,A,!1,k])});let L={...u};return v.memoizedProps&&v.memoizedProps.args&&(L.args=v.memoizedProps.args),v.memoizedProps&&v.memoizedProps.attach&&(L.attach=v.memoizedProps.attach),{memoized:L,changes:M}}l(Ob,"diffProps");function Qf(o,e){var t,i;let u=(t=o.__r3f)!=null?t:{},p=u.root,h=(i=p==null||p.getState==null?void 0:p.getState())!=null?i:{},{memoized:m,changes:g}=hS(e)?e:Ob(o,e),b=u.eventCount;if(o.__r3f&&(o.__r3f.memoizedProps=m),g.forEach(([f,v,x,M])=>{let L=o,T=L[f];if(M.length&&(T=M.reduce((k,O)=>k[O],o),!(T&&T.set))){let[k,...O]=M.reverse();L=O.reverse().reduce((I,K)=>I[K],o),f=k}if(v===Mb+"remove")if(T&&T.constructor){var A;v=new T.constructor(...(A=m.args)!=null?A:[])}else if(L.constructor){var C;let k=new L.constructor(...(C=L.__r3f.memoizedProps.args)!=null?C:[]);v=k[T],k.dispose&&k.dispose()}else v=0;if(x)v?u.handlers[f]=v:delete u.handlers[f],u.eventCount=Object.keys(u.handlers).length;else if(T&&T.set&&(T.copy||T instanceof Il)){if(Array.isArray(v))T.fromArray?T.fromArray(v):T.set(...v);else if(T.copy&&v&&v.constructor&&T.constructor.name===v.constructor.name)T.copy(v);else if(v!==void 0){let k=T instanceof yg;!k&&T.setScalar?T.setScalar(v):T instanceof Il&&v instanceof Il?T.mask=v.mask:T.set(v),!("ColorManagement"in Vo)&&!h.linear&&k&&T.convertSRGBToLinear()}}else L[f]=v,!h.linear&&L[f]instanceof wg&&(L[f].encoding=Qu);ui(o)}),u.parent&&h.internal&&o.raycast&&b!==u.eventCount){let f=h.internal.interaction.indexOf(o);f>-1&&h.internal.interaction.splice(f,1),u.eventCount&&h.internal.interaction.push(o)}return g.length&&o.parent&&om(o),o}l(Qf,"applyProps$1");function ui(o){var e,t;let i=(e=o.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}l(ui,"invalidateInstance");function om(o){o.onUpdate==null||o.onUpdate(o)}l(om,"updateInstance");function mS(o,e){o.manual||(kb(o)?(o.left=e.width/-2,o.right=e.width/2,o.top=e.height/2,o.bottom=e.height/-2):o.aspect=e.width/e.height,o.updateProjectionMatrix(),o.updateMatrixWorld())}l(mS,"updateCamera");function vS(o,e,t){let i=t.pop(),u=t.reduce((p,h)=>p[h],o);return u[i]=e}l(vS,"setDeep");function Zf(o){return(o.eventObject||o.object).uuid+"/"+o.index+o.instanceId}l(Zf,"makeId");function gS(){var o,e;switch((o=window)==null||(e=o.event)==null?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ar.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ar.ContinuousEventPriority;default:return ar.DefaultEventPriority}}l(gS,"getEventPriority");function Db(o,e,t,i){let u=t.get(e);u&&(t.delete(e),t.size===0&&(o.delete(i),u.target.releasePointerCapture(i)))}l(Db,"releaseInternalPointerCapture");function wS(o,e){let{internal:t}=o.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,u)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(u)}),t.capturedMap.forEach((i,u)=>{Db(t.capturedMap,e,i,u)})}l(wS,"removeInteractivity");function um(o){let e=new he;function t(b){let{internal:f}=o.getState(),v=b.offsetX-f.initialClick[0],x=b.offsetY-f.initialClick[1];return Math.round(Math.sqrt(v*v+x*x))}l(t,"calculateDistance");function i(b){return b.filter(f=>["Move","Over","Enter","Out","Leave"].some(v=>{var x;return(x=f.__r3f)==null?void 0:x.handlers["onPointer"+v]}))}l(i,"filterPointerEvents");function u(b,f){let v=o.getState(),x=new Set,M=[],L=f?f(v.internal.interaction):v.internal.interaction;L.forEach(C=>{let k=Cs(C);k&&(k.raycaster.camera=void 0)}),v.previousRoot||v.events.compute==null||v.events.compute(b,v);let T=L.flatMap(C=>{let k=Cs(C);if(!k||!k.events.enabled||k.raycaster.camera===null)return[];if(k.raycaster.camera===void 0){var O;k.events.compute==null||k.events.compute(b,k,(O=k.previousRoot)==null?void 0:O.getState()),k.raycaster.camera===void 0&&(k.raycaster.camera=null)}return k.raycaster.camera?k.raycaster.intersectObject(C,!0):[]}).sort((C,k)=>{let O=Cs(C.object),I=Cs(k.object);return!O||!I?0:I.events.priority-O.events.priority||C.distance-k.distance}).filter(C=>{let k=Zf(C);return x.has(k)?!1:(x.add(k),!0)});v.events.filter&&(T=v.events.filter(T,v));for(let C of T){let k=C.object;for(;k;){var A;(A=k.__r3f)!=null&&A.eventCount&&M.push({...C,eventObject:k}),k=k.parent}}if("pointerId"in b&&v.internal.capturedMap.has(b.pointerId))for(let C of v.internal.capturedMap.get(b.pointerId).values())M.push(C.intersection);return M}l(u,"intersect");function p(b,f,v,x){let{raycaster:M,pointer:L,camera:T,internal:A}=o.getState();if(b.length){let C=e.set(L.x,L.y,0).unproject(T),k={stopped:!1};for(let O of b){let I=l(H=>{var D,j;return(D=(j=A.capturedMap.get(H))==null?void 0:j.has(O.eventObject))!=null?D:!1},"hasPointerCapture"),K=l(H=>{let D={intersection:O,target:f.target};A.capturedMap.has(H)?A.capturedMap.get(H).set(O.eventObject,D):A.capturedMap.set(H,new Map([[O.eventObject,D]])),f.target.setPointerCapture(H)},"setPointerCapture"),G=l(H=>{let D=A.capturedMap.get(H);D&&Db(A.capturedMap,O.eventObject,D,H)},"releasePointerCapture"),q={};for(let H in f){let D=f[H];typeof D!="function"&&(q[H]=D)}let $={...O,...q,pointer:L,intersections:b,stopped:k.stopped,delta:v,unprojectedPoint:C,ray:M.ray,camera:T,stopPropagation:()=>{let H="pointerId"in f&&A.capturedMap.get(f.pointerId);if((!H||H.has(O.eventObject))&&($.stopped=k.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(D=>D.eventObject===O.eventObject))){let D=b.slice(0,b.indexOf(O));h([...D,O])}},target:{hasPointerCapture:I,setPointerCapture:K,releasePointerCapture:G},currentTarget:{hasPointerCapture:I,setPointerCapture:K,releasePointerCapture:G},nativeEvent:f};if(x($),k.stopped===!0)break}}return b}l(p,"handleIntersects");function h(b){let{internal:f}=o.getState();Array.from(f.hovered.values()).forEach(v=>{if(!b.length||!b.find(x=>x.object===v.object&&x.index===v.index&&x.instanceId===v.instanceId)){let M=v.eventObject.__r3f,L=M==null?void 0:M.handlers;if(f.hovered.delete(Zf(v)),M!=null&&M.eventCount){let T={...v,intersections:b};L.onPointerOut==null||L.onPointerOut(T),L.onPointerLeave==null||L.onPointerLeave(T)}}})}l(h,"cancelPointer");let m=l(b=>{switch(b){case"onPointerLeave":case"onPointerCancel":return()=>h([]);case"onLostPointerCapture":return f=>{let{internal:v}=o.getState();"pointerId"in f&&!v.capturedMap.has(f.pointerId)&&(v.capturedMap.delete(f.pointerId),h([]))}}return f=>{let{onPointerMissed:v,internal:x}=o.getState();x.lastEvent.current=f;let M=b==="onPointerMove",L=b==="onClick"||b==="onContextMenu"||b==="onDoubleClick",A=u(f,M?i:void 0),C=L?t(f):0;b==="onPointerDown"&&(x.initialClick=[f.offsetX,f.offsetY],x.initialHits=A.map(k=>k.eventObject)),L&&!A.length&&C<=2&&(g(f,x.interaction),v&&v(f)),M&&h(A),p(A,f,C,k=>{let O=k.eventObject,I=O.__r3f,K=I==null?void 0:I.handlers;if(I!=null&&I.eventCount)if(M){if(K.onPointerOver||K.onPointerEnter||K.onPointerOut||K.onPointerLeave){let G=Zf(k),q=x.hovered.get(G);q?q.stopped&&k.stopPropagation():(x.hovered.set(G,k),K.onPointerOver==null||K.onPointerOver(k),K.onPointerEnter==null||K.onPointerEnter(k))}K.onPointerMove==null||K.onPointerMove(k)}else{let G=K[b];G?(!L||x.initialHits.includes(O))&&(g(f,x.interaction.filter(q=>!x.initialHits.includes(q))),G(k)):L&&x.initialHits.includes(O)&&g(f,x.interaction.filter(q=>!x.initialHits.includes(q)))}})}},"handlePointer");function g(b,f){f.forEach(v=>{var x;return(x=v.__r3f)==null||x.handlers.onPointerMissed==null?void 0:x.handlers.onPointerMissed(b)})}return l(g,"pointerMissed"),{handlePointer:m}}l(um,"createEvents");var im={},cm=l(o=>void(im={...im,...o}),"extend");function bS(o,e){function t(f,{args:v=[],attach:x,...M},L){let T="".concat(f[0].toUpperCase()).concat(f.slice(1)),A;if(x===void 0&&(T.endsWith("Geometry")?x="geometry":T.endsWith("Material")&&(x="material")),f==="primitive"){if(M.object===void 0)throw"Primitives without 'object' are invalid!";let C=M.object;A=ai(C,{type:f,root:L,attach:x,primitive:!0})}else{let C=im[T];if(!C)throw"".concat(T," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively");if(!Array.isArray(v))throw"The args prop must be an array!";A=ai(new C(...v),{type:f,root:L,attach:x,memoizedProps:{args:v}})}return T!=="inject"&&Qf(A,M),A}l(t,"createInstance");function i(f,v){let x=!1;if(v){var M,L;(M=v.__r3f)!=null&&M.attach?qf(f,v,v.__r3f.attach):v.isObject3D&&f.isObject3D&&(f.add(v),x=!0),x||(L=f.__r3f)==null||L.objects.push(v),v.__r3f||ai(v,{}),v.__r3f.parent=f,om(v),ui(v)}}l(i,"appendChild");function u(f,v,x){let M=!1;if(v){var L,T;if((L=v.__r3f)!=null&&L.attach)qf(f,v,v.__r3f.attach);else if(v.isObject3D&&f.isObject3D){v.parent=f,v.dispatchEvent({type:"added"});let A=f.children.filter(k=>k!==v),C=A.indexOf(x);f.children=[...A.slice(0,C),v,...A.slice(C)],M=!0}M||(T=f.__r3f)==null||T.objects.push(v),v.__r3f||ai(v,{}),v.__r3f.parent=f,om(v),ui(v)}}l(u,"insertBefore");function p(f,v,x=!1){f&&[...f].forEach(M=>h(v,M,x))}l(p,"removeRecursive");function h(f,v,x){if(v){var M,L,T;if(v.__r3f&&(v.__r3f.parent=null),(M=f.__r3f)!=null&&M.objects&&(f.__r3f.objects=f.__r3f.objects.filter(I=>I!==v)),(L=v.__r3f)!=null&&L.attach)Sb(f,v,v.__r3f.attach);else if(v.isObject3D&&f.isObject3D){var A;f.remove(v),(A=v.__r3f)!=null&&A.root&&wS(v.__r3f.root,v)}let k=(T=v.__r3f)==null?void 0:T.primitive,O=x===void 0?v.dispose!==null&&!k:x;if(!k){var C;p((C=v.__r3f)==null?void 0:C.objects,v,O),p(v.children,v,O)}v.__r3f&&(delete v.__r3f.root,delete v.__r3f.objects,delete v.__r3f.handlers,delete v.__r3f.memoizedProps,k||delete v.__r3f),O&&v.dispose&&v.type!=="Scene"&&(0,Ta.unstable_scheduleCallback)(Ta.unstable_IdlePriority,()=>{try{v.dispose()}catch(I){}}),ui(f)}}l(h,"removeChild");function m(f,v,x,M){var L;let T=(L=f.__r3f)==null?void 0:L.parent;if(!T)return;let A=t(v,x,f.__r3f.root);v!=="primitive"&&f.children&&(f.children.forEach(C=>i(A,C)),f.children=[]),f.__r3f.objects.forEach(C=>i(A,C)),f.__r3f.objects=[],h(T,f),i(T,A),A.raycast&&A.__r3f.eventCount&&A.__r3f.root.getState().internal.interaction.push(A),[M,M.alternate].forEach(C=>{C!==null&&(C.stateNode=A,C.ref&&(typeof C.ref=="function"?C.ref(A):C.ref.current=A))})}l(m,"switchInstance");let g=l(()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters."),"handleTextInstance");return{reconciler:(0,Cb.default)({createInstance:t,removeChild:h,appendChild:i,appendInitialChild:i,insertBefore:u,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,v)=>{if(!v)return;let x=f.getState().scene;x.__r3f.root=f,i(x,v)},removeChildFromContainer:(f,v)=>{v&&h(f.getState().scene,v)},insertInContainerBefore:(f,v,x)=>{!v||!x||u(f.getState().scene,v,x)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var v;return!!((v=f==null?void 0:f.__r3f)!=null?v:{}).handlers},prepareUpdate(f,v,x,M){if(f.__r3f.primitive&&M.object&&M.object!==f)return[!0];{let{args:L=[],children:T,...A}=M,{args:C=[],children:k,...O}=x;if(!Array.isArray(L))throw"The args prop must be an array!";if(L.some((K,G)=>K!==C[G]))return[!0];let I=Ob(f,A,O,!0);return I.changes.length?[!1,I]:null}},commitUpdate(f,[v,x],M,L,T,A){v?m(f,M,T,A):Qf(f,x)},commitMount(f,v,x,M){var L;let T=(L=f.__r3f)!=null?L:{};f.raycast&&T.handlers&&T.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>ai(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var v;let{attach:x,parent:M}=(v=f==null?void 0:f.__r3f)!=null?v:{};x&&M&&Sb(M,f,x),f.isObject3D&&(f.visible=!1),ui(f)},unhideInstance(f,v){var x;let{attach:M,parent:L}=(x=f==null?void 0:f.__r3f)!=null?x:{};M&&L&&qf(L,f,M),(f.isObject3D&&v.visible==null||v.visible)&&(f.visible=!0),ui(f)},createTextInstance:g,hideTextInstance:g,unhideTextInstance:g,getCurrentEventPriority:()=>e?e():ar.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&$e.fun(performance.now)?performance.now:$e.fun(Date.now)?Date.now:()=>0,scheduleTimeout:$e.fun(setTimeout)?setTimeout:void 0,cancelTimeout:$e.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Qf}}l(bS,"createRenderer");var Ab=l(o=>!!(o!=null&&o.render),"isRenderer"),pm=Be.createContext(null),yS=l((o,e)=>{let t=tb((m,g)=>{let b=new he,f=new he,v=new he;function x(C=g().camera,k=f,O=g().size){let{width:I,height:K,top:G,left:q}=O,$=I/K;k instanceof he?v.copy(k):v.set(...k);let H=C.getWorldPosition(b).distanceTo(v);if(kb(C))return{width:I/C.zoom,height:K/C.zoom,top:G,left:q,factor:1,distance:H,aspect:$};{let D=C.fov*Math.PI/180,j=2*Math.tan(D/2)*H,ne=j*(I/K);return{width:ne,height:j,top:G,left:q,factor:I/ne,distance:H,aspect:$}}}l(x,"getCurrentViewport");let M,L=l(C=>m(k=>({performance:{...k.performance,current:C}})),"setPerformanceCurrent"),T=new Et;return{set:m,get:g,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(C=1)=>o(g(),C),advance:(C,k)=>e(C,k,g()),legacy:!1,linear:!1,flat:!1,scene:ai(new Cg),controls:null,clock:new Mg,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let C=g();M&&clearTimeout(M),C.performance.current!==C.performance.min&&L(C.performance.min),M=setTimeout(()=>L(g().performance.max),C.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:C=>m(k=>({...k,events:{...k.events,...C}})),setSize:(C,k,O,I,K)=>{let G=g().camera,q={width:C,height:k,top:I||0,left:K||0,updateStyle:O};m($=>({size:q,viewport:{...$.viewport,...x(G,f,q)}}))},setDpr:C=>m(k=>{let O=Tb(C);return{viewport:{...k.viewport,dpr:O,initialDpr:k.viewport.initialDpr||O}}}),setFrameloop:(C="always")=>{let k=g().clock;k.stop(),k.elapsedTime=0,C!=="never"&&(k.start(),k.elapsedTime=0),m(()=>({frameloop:C}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Be.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(C,k,O)=>{let I=g().internal;return I.priority=I.priority+(k>0?1:0),I.subscribers.push({ref:C,priority:k,store:O}),I.subscribers=I.subscribers.sort((K,G)=>K.priority-G.priority),()=>{let K=g().internal;K!=null&&K.subscribers&&(K.priority=K.priority-(k>0?1:0),K.subscribers=K.subscribers.filter(G=>G.ref!==C))}}}}}),i=t.getState(),u=i.size,p=i.viewport.dpr,h=i.camera;return t.subscribe(()=>{let{camera:m,size:g,viewport:b,gl:f,set:v}=t.getState();(g!==u||b.dpr!==p)&&(u=g,p=b.dpr,mS(m,g),f.setPixelRatio(b.dpr),f.setSize(g.width,g.height,g.updateStyle)),m!==h&&(h=m,v(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(m)}})))}),t.subscribe(m=>o(m)),t},"createStore");var Ma,Jf=new Set,$f=new Set,Eb=new Set;function Es(o,e){o.forEach(({callback:t})=>t(e))}l(Es,"run");var em,tm;function nm(o,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof o=="number"&&(i=o-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=o),em=e.internal.subscribers,Ma=0;Ma<em.length;Ma++)tm=em[Ma],tm.ref.current(tm.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}l(nm,"render$1");function _S(o){let e=!1,t,i,u;function p(g){if(i=requestAnimationFrame(p),e=!0,t=0,Jf.size&&Es(Jf,g),o.forEach(b=>{var f;u=b.store.getState(),u.internal.active&&(u.frameloop==="always"||u.internal.frames>0)&&!((f=u.gl.xr)!=null&&f.isPresenting)&&(t+=nm(g,u))}),$f.size&&Es($f,g),t===0)return Eb.size&&Es(Eb,g),e=!1,cancelAnimationFrame(i)}l(p,"loop");function h(g,b=1){var f;if(!g)return o.forEach(v=>h(v.store.getState()),b);(f=g.gl.xr)!=null&&f.isPresenting||!g.internal.active||g.frameloop==="never"||(g.internal.frames=Math.min(60,g.internal.frames+b),e||(e=!0,requestAnimationFrame(p)))}l(h,"invalidate");function m(g,b=!0,f,v){b&&Es(Jf,g),f?nm(g,f,v):o.forEach(x=>nm(g,x.store.getState())),b&&Es($f,g)}return l(m,"advance"),{loop:p,invalidate:h,advance:m}}l(_S,"createLoop");function dm(){let o=Be.useContext(pm);if(!o)throw"R3F hooks can only be used within the Canvas component!";return o}l(dm,"useStore");function At(o=t=>t,e){return dm()(o,e)}l(At,"useThree");function Ts(o,e=0){let t=dm(),i=t.getState().internal.subscribe,u=am(o);return ci(()=>i(u,e,t),[e,i,t]),null}l(Ts,"useFrame");function zb(o,e){return function(t,...i){let u=new t;return o&&o(u),Promise.all(i.map(p=>new Promise((h,m)=>u.load(p,g=>{g.scene&&Object.assign(g,fS(g.scene)),h(g)},e,g=>m("Could not load ".concat(p,": ").concat(g.message))))))}}l(zb,"loadingFn");function hm(o,e,t,i){let u=Array.isArray(e)?e:[e],p=wb(zb(t,i),[o,...u],{equal:$e.equ});return Array.isArray(e)?p:p[0]}l(hm,"useLoader");hm.preload=function(o,e,t){let i=Array.isArray(e)?e:[e];return bb(zb(t),[o,...i])};hm.clear=function(o,e){let t=Array.isArray(e)?e:[e];return yb([o,...t])};var yo=new Map,{invalidate:sm,advance:lm}=_S(yo),{reconciler:Ms,applyProps:ks}=bS(yo,gS),li={objects:"shallow",strict:!1},xS=l((o,e)=>{let t=typeof o=="function"?o(e):o;return Ab(t)?t:new Eg({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...o})},"createRendererInstance");function PS(o){return o instanceof HTMLCanvasElement}l(PS,"isCanvas");function SS(o,e){if(e)return e;if(PS(o)&&o.parentElement){let{width:t,height:i,top:u,left:p}=o.parentElement.getBoundingClientRect();return{width:t,height:i,top:u,left:p}}return{width:0,height:0,top:0,left:0}}l(SS,"computeInitialSize");function fm(o){let e=yo.get(o),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");let u=typeof reportError=="function"?reportError:console.error,p=i||yS(sm,lm),h=t||Ms.createContainer(p,ar.ConcurrentRoot,null,!1,null,"",u,null);e||yo.set(o,{fiber:h,store:p});let m,g=!1;return{configure(b={}){let{gl:f,size:v,events:x,onCreated:M,shadows:L=!1,linear:T=!1,flat:A=!1,legacy:C=!1,orthographic:k=!1,frameloop:O="always",dpr:I=[1,2],performance:K,raycaster:G,camera:q,onPointerMissed:$}=b,H=p.getState(),D=H.gl;H.gl||H.set({gl:D=xS(f,o)});let j=H.raycaster;j||H.set({raycaster:j=new Fl});let{params:ne,...Me}=G||{};if($e.equ(Me,j,li)||ks(j,{...Me}),$e.equ(ne,j.params,li)||ks(j,{params:{...j.params,...ne}}),!H.camera){let pe=q instanceof Pg,Y=pe?q:k?new Dn(0,0,0,0,.1,1e3):new On(75,0,.1,1e3);pe||(Y.position.z=5,q&&ks(Y,q),q!=null&&q.rotation||Y.lookAt(0,0,0)),H.set({camera:Y})}if(!H.xr){let pe=l((ve,Ce)=>{let gt=p.getState();gt.frameloop!=="never"&&lm(ve,!0,gt,Ce)},"handleXRFrame"),Y=l(()=>{let ve=p.getState();ve.gl.xr.enabled=ve.gl.xr.isPresenting,ve.gl.xr.setAnimationLoop(ve.gl.xr.isPresenting?pe:null),ve.gl.xr.isPresenting||sm(ve)},"handleSessionChange"),xe={connect(){let ve=p.getState().gl;ve.xr.addEventListener("sessionstart",Y),ve.xr.addEventListener("sessionend",Y)},disconnect(){let ve=p.getState().gl;ve.xr.removeEventListener("sessionstart",Y),ve.xr.removeEventListener("sessionend",Y)}};D.xr&&xe.connect(),H.set({xr:xe})}if(D.shadowMap){let pe=$e.boo(L);if(pe&&D.shadowMap.enabled!==L||!$e.equ(L,D.shadowMap,li)){let Y=D.shadowMap.enabled;D.shadowMap.enabled=!!L,pe?D.shadowMap.type=hg:Object.assign(D.shadowMap,L),Y!==D.shadowMap.enabled&&(D.shadowMap.needsUpdate=!0)}}"ColorManagement"in Vo&&vS(Vo,C,["ColorManagement","legacyMode"]);let ce=T?vg:Qu,Ge=A?fg:mg;D.outputEncoding!==ce&&(D.outputEncoding=ce),D.toneMapping!==Ge&&(D.toneMapping=Ge),H.legacy!==C&&H.set(()=>({legacy:C})),H.linear!==T&&H.set(()=>({linear:T})),H.flat!==A&&H.set(()=>({flat:A})),f&&!$e.fun(f)&&!Ab(f)&&!$e.equ(f,D,li)&&ks(D,f),x&&!H.events.handlers&&H.set({events:x(p)}),I&&H.viewport.dpr!==Tb(I)&&H.setDpr(I);let Ee=SS(o,v);return $e.equ(Ee,H.size,li)||H.setSize(Ee.width,Ee.height,Ee.updateStyle,Ee.top,Ee.left),H.frameloop!==O&&H.setFrameloop(O),H.onPointerMissed||H.set({onPointerMissed:$}),K&&!$e.equ(K,H.performance,li)&&H.set(pe=>({performance:{...pe.performance,...K}})),m=M,g=!0,this},render(b){return g||this.configure(),Ms.updateContainer(Be.createElement(ES,{store:p,children:b,onCreated:m,rootElement:o}),h,null,()=>{}),p},unmount(){La(o)}}}l(fm,"createRoot");function ES({store:o,children:e,onCreated:t,rootElement:i}){return ci(()=>{let u=o.getState();u.set(p=>({internal:{...p.internal,active:!0}})),t&&t(u),o.getState().events.connected||u.events.connect==null||u.events.connect(i)},[]),Be.createElement(pm.Provider,{value:o},e)}l(ES,"Provider");function La(o,e){let t=yo.get(o),i=t==null?void 0:t.fiber;if(i){let u=t==null?void 0:t.store.getState();u&&(u.internal.active=!1),Ms.updateContainer(null,i,null,()=>{u&&setTimeout(()=>{try{var p,h,m,g;u.events.disconnect==null||u.events.disconnect(),(p=u.gl)==null||(h=p.renderLists)==null||h.dispose==null||h.dispose(),(m=u.gl)==null||m.forceContextLoss==null||m.forceContextLoss(),(g=u.gl)!=null&&g.xr&&u.xr.disconnect(),Lb(u),yo.delete(o),e&&e(o)}catch(b){}},500)})}}l(La,"unmountComponentAtNode");Ms.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Be.version});Wr();var Ne=V(Pe());var Jt=V(Pe()),gm=V(Nb());function Ib(o){var k;let{debounce:e,scroll:t,polyfill:i,offsetSize:u}=o===void 0?{debounce:0,scroll:!1,offsetSize:!1}:o,p=i||(typeof window>"u"?(k=class{},l(k,"ResizeObserver"),k):window.ResizeObserver);if(!p)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[h,m]=(0,Jt.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),g=(0,Jt.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:h}),b=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,v=(0,Jt.useRef)(!1);(0,Jt.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));let[x,M,L]=(0,Jt.useMemo)(()=>{let O=l(()=>{if(!g.current.element)return;let{left:I,top:K,width:G,height:q,bottom:$,right:H,x:D,y:j}=g.current.element.getBoundingClientRect(),ne={left:I,top:K,width:G,height:q,bottom:$,right:H,x:D,y:j};g.current.element instanceof HTMLElement&&u&&(ne.height=g.current.element.offsetHeight,ne.width=g.current.element.offsetWidth),Object.freeze(ne),v.current&&!MS(g.current.lastBounds,ne)&&m(g.current.lastBounds=ne)},"callback");return[O,f?(0,gm.default)(O,f):O,b?(0,gm.default)(O,b):O]},[m,u,b,f]);function T(){g.current.scrollContainers&&(g.current.scrollContainers.forEach(O=>O.removeEventListener("scroll",L,!0)),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null)}l(T,"removeListeners");function A(){g.current.element&&(g.current.resizeObserver=new p(L),g.current.resizeObserver.observe(g.current.element),t&&g.current.scrollContainers&&g.current.scrollContainers.forEach(O=>O.addEventListener("scroll",L,{capture:!0,passive:!0})))}l(A,"addListeners");let C=l(O=>{!O||O===g.current.element||(T(),g.current.element=O,g.current.scrollContainers=Vb(O),A())},"ref");return kS(L,!!t),CS(M),(0,Jt.useEffect)(()=>{T(),A()},[t,L,M]),(0,Jt.useEffect)(()=>T,[]),[C,h,x]}l(Ib,"useMeasure");function CS(o){(0,Jt.useEffect)(()=>{let e=o;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[o])}l(CS,"useOnWindowResize");function kS(o,e){(0,Jt.useEffect)(()=>{if(e){let t=o;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[o,e])}l(kS,"useOnWindowScroll");function Vb(o){let e=[];if(!o||o===document.body)return e;let{overflow:t,overflowX:i,overflowY:u}=window.getComputedStyle(o);return[t,i,u].some(p=>p==="auto"||p==="scroll")&&e.push(o),[...e,...Vb(o.parentElement)]}l(Vb,"findScrollContainers");var RS=["x","y","top","bottom","left","right","width","height"],MS=l((o,e)=>RS.every(t=>o[t]===e[t]),"areBoundsEqual");var HR=V(If());var FR=V(Xf()),BR=V(Ra());var wm={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function TS(o){let{handlePointer:e}=um(o);return{priority:1,enabled:!0,compute(t,i,u){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(wm).reduce((t,i)=>({...t,[i]:e(i)}),{}),connect:t=>{var i;let{set:u,events:p}=o.getState();p.disconnect==null||p.disconnect(),u(h=>({events:{...h.events,connected:t}})),Object.entries((i=p.handlers)!=null?i:[]).forEach(([h,m])=>{let[g,b]=wm[h];t.addEventListener(g,m,{passive:b})})},disconnect:()=>{let{set:t,events:i}=o.getState();if(i.connected){var u;Object.entries((u=i.handlers)!=null?u:[]).forEach(([p,h])=>{if(i&&i.connected instanceof HTMLElement){let[m]=wm[p];i.connected.removeEventListener(m,h)}}),t(p=>({events:{...p.events,connected:void 0}}))}}}}l(TS,"createPointerEvents");var Hb=Ne.forwardRef(l(function({children:e,fallback:t,resize:i,style:u,gl:p,events:h=TS,shadows:m,linear:g,flat:b,legacy:f,orthographic:v,frameloop:x,dpr:M,performance:L,raycaster:T,camera:A,onPointerMissed:C,onCreated:k,...O},I){Ne.useMemo(()=>cm(Vo),[]);let[K,G]=Ib({scroll:!0,debounce:{scroll:50,resize:0},...i}),q=Ne.useRef(null),$=Ne.useRef(null),[H,D]=Ne.useState(null);Ne.useImperativeHandle(I,()=>q.current);let j=am(C),[ne,Me]=Ne.useState(!1),[ce,Ge]=Ne.useState(!1);if(ne)throw ne;if(ce)throw ce;let Ee=Ne.useRef(null);return G.width>0&&G.height>0&&H&&(Ee.current||(Ee.current=fm(H)),Ee.current.configure({gl:p,events:h,shadows:m,linear:g,flat:b,legacy:f,orthographic:v,frameloop:x,dpr:M,performance:L,raycaster:T,camera:A,size:G,onPointerMissed:(...pe)=>j.current==null?void 0:j.current(...pe),onCreated:pe=>{pe.events.connect==null||pe.events.connect($.current),k==null||k(pe)}}),Ee.current.render(Ne.createElement(Rs,{set:Ge},Ne.createElement(Ne.Suspense,{fallback:Ne.createElement(Rb,{set:Me})},e)))),ci(()=>{D(q.current)},[]),Ne.useEffect(()=>{if(H)return()=>La(H)},[H]),Ne.createElement("div",ye({ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",...u}},O),Ne.createElement("div",{ref:K,style:{width:"100%",height:"100%"}},Ne.createElement("canvas",{ref:q,style:{display:"block"}},t)))},"Canvas"));var Ls=new he,ym=new he,LS=new he;function OS(o,e,t){let i=Ls.setFromMatrixPosition(o.matrixWorld);i.project(e);let u=t.width/2,p=t.height/2;return[i.x*u+u,-(i.y*p)+p]}l(OS,"defaultCalculatePosition");function DS(o,e){let t=Ls.setFromMatrixPosition(o.matrixWorld),i=ym.setFromMatrixPosition(e.matrixWorld),u=t.sub(i),p=e.getWorldDirection(LS);return u.angleTo(p)>Math.PI/2}l(DS,"isObjectBehindCamera");function AS(o,e,t,i){let u=Ls.setFromMatrixPosition(o.matrixWorld),p=u.clone();p.project(e),t.setFromCamera(p,e);let h=t.intersectObjects(i,!0);if(h.length){let m=h[0].distance;return u.distanceTo(t.ray.origin)<m}return!0}l(AS,"isObjectVisible");function zS(o,e){if(e instanceof Dn)return e.zoom;if(e instanceof On){let t=Ls.setFromMatrixPosition(o.matrixWorld),i=ym.setFromMatrixPosition(e.matrixWorld),u=e.fov*Math.PI/180,p=t.distanceTo(i);return 1/(2*Math.tan(u/2)*p)}else return 1}l(zS,"objectScale");function jS(o,e,t){if(e instanceof On||e instanceof Dn){let i=Ls.setFromMatrixPosition(o.matrixWorld),u=ym.setFromMatrixPosition(e.matrixWorld),p=i.distanceTo(u),h=(t[1]-t[0])/(e.far-e.near),m=t[1]-h*e.far;return Math.round(h*p+m)}}l(jS,"objectZIndex");var bm=l(o=>Math.abs(o)<1e-10?0:o,"epsilon");function Bb(o,e,t=""){let i="matrix3d(";for(let u=0;u!==16;u++)i+=bm(e[u]*o.elements[u])+(u!==15?",":")");return t+i}l(Bb,"getCSSMatrix");var NS=(o=>e=>Bb(e,o))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),IS=(o=>(e,t)=>Bb(e,o(t),"translate(-50%,-50%)"))(o=>[1/o,1/o,1/o,1,-1/o,-1/o,-1/o,-1,1/o,1/o,1/o,1,1,1,1,1]),_m=Ae.forwardRef(({children:o,eps:e=.001,style:t,className:i,prepend:u,center:p,fullscreen:h,portal:m,distanceFactor:g,sprite:b=!1,transform:f=!1,occlude:v,onOcclude:x,zIndexRange:M=[16777271,0],calculatePosition:L=OS,as:T="div",wrapperClass:A,pointerEvents:C="auto",...k},O)=>{var I;let K=At(({gl:Ce})=>Ce),G=At(({camera:Ce})=>Ce),q=At(({scene:Ce})=>Ce),$=At(({size:Ce})=>Ce),H=At(({raycaster:Ce})=>Ce),[D]=Ae.useState(()=>document.createElement(T)),j=Ae.useMemo(()=>Fb.createRoot(D),[D]),ne=Ae.useRef(null),Me=Ae.useRef(0),ce=Ae.useRef([0,0]),Ge=Ae.useRef(null),Ee=Ae.useRef(null),pe=(I=m==null?void 0:m.current)!==null&&I!==void 0?I:K.domElement.parentNode;Ae.useEffect(()=>{if(ne.current){if(q.updateMatrixWorld(),f)D.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let Ce=L(ne.current,G,$);D.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(Ce[0],"px,").concat(Ce[1],"px,0);transform-origin:0 0;")}return pe&&(u?pe.prepend(D):pe.appendChild(D)),()=>{pe&&pe.removeChild(D),j.unmount()}}},[pe,f]),Ae.useLayoutEffect(()=>{A&&(D.className=A)},[A]);let Y=Ae.useMemo(()=>f?{position:"absolute",top:0,left:0,width:$.width,height:$.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:p?"translate3d(-50%,-50%,0)":"none",...h&&{top:-$.height/2,left:-$.width/2,width:$.width,height:$.height},...t},[t,p,h,$,f]),xe=Ae.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);Ae.useLayoutEffect(()=>{f?j.render(Ae.createElement("div",{ref:Ge,style:Y},Ae.createElement("div",{ref:Ee,style:xe},Ae.createElement("div",{ref:O,className:i,style:t,children:o})))):j.render(Ae.createElement("div",{ref:O,style:Y,className:i,children:o}))});let ve=Ae.useRef(!0);return Ts(()=>{if(ne.current){G.updateMatrixWorld(),ne.current.updateWorldMatrix(!0,!1);let Ce=f?ce.current:L(ne.current,G,$);if(f||Math.abs(Me.current-G.zoom)>e||Math.abs(ce.current[0]-Ce[0])>e||Math.abs(ce.current[1]-Ce[1])>e){let gt=DS(ne.current,G),Z=!1;typeof v=="boolean"?v===!0&&(Z=[q]):Array.isArray(v)&&(Z=v.map(de=>de.current));let at=ve.current;if(Z){let de=AS(ne.current,G,H,Z);ve.current=de&&!gt}else ve.current=!gt;if(at!==ve.current&&(x?x(!ve.current):D.style.display=ve.current?"block":"none"),D.style.zIndex="".concat(jS(ne.current,G,M)),f){let[de,ze]=[$.width/2,$.height/2],Ke=G.projectionMatrix.elements[5]*ze,{isOrthographicCamera:et,top:wt,left:rt,bottom:We,right:Ye}=G,ke=NS(G.matrixWorldInverse),xn=et?"scale(".concat(Ke,")translate(").concat(bm(-(Ye+rt)/2),"px,").concat(bm((wt+We)/2),"px)"):"translateZ(".concat(Ke,"px)"),hn=ne.current.matrixWorld;b&&(hn=G.matrixWorldInverse.clone().transpose().copyPosition(hn).scale(ne.current.scale),hn.elements[3]=hn.elements[7]=hn.elements[11]=0,hn.elements[15]=1),D.style.width=$.width+"px",D.style.height=$.height+"px",D.style.perspective=et?"":"".concat(Ke,"px"),Ge.current&&Ee.current&&(Ge.current.style.transform="".concat(xn).concat(ke,"translate(").concat(de,"px,").concat(ze,"px)"),Ee.current.style.transform=IS(hn,1/((g||10)/400)))}else{let de=g===void 0?1:zS(ne.current,G)*g;D.style.transform="translate3d(".concat(Ce[0],"px,").concat(Ce[1],"px,0) scale(").concat(de,")")}ce.current=Ce,Me.current=G.zoom}}}),Ae.createElement("group",ye({},k,{ref:ne}))});var VS=Object.defineProperty,HS=l((o,e,t)=>e in o?VS(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,"__defNormalProp"),te=l((o,e,t)=>(HS(o,typeof e!="symbol"?e+"":e,t),t),"__publicField"),Oa=new bg,Ub=new Sg,FS=Math.cos(70*(Math.PI/180)),Gb=l((o,e)=>(o%e+e)%e,"moduloWrapAround"),xm=class xm extends gg{constructor(e,t){super(),te(this,"object"),te(this,"domElement"),te(this,"enabled",!0),te(this,"target",new he),te(this,"minDistance",0),te(this,"maxDistance",1/0),te(this,"minZoom",0),te(this,"maxZoom",1/0),te(this,"minPolarAngle",0),te(this,"maxPolarAngle",Math.PI),te(this,"minAzimuthAngle",-1/0),te(this,"maxAzimuthAngle",1/0),te(this,"enableDamping",!1),te(this,"dampingFactor",.05),te(this,"enableZoom",!0),te(this,"zoomSpeed",1),te(this,"enableRotate",!0),te(this,"rotateSpeed",1),te(this,"enablePan",!0),te(this,"panSpeed",1),te(this,"screenSpacePanning",!0),te(this,"keyPanSpeed",7),te(this,"zoomToCursor",!1),te(this,"autoRotate",!1),te(this,"autoRotateSpeed",2),te(this,"reverseOrbit",!1),te(this,"reverseHorizontalOrbit",!1),te(this,"reverseVerticalOrbit",!1),te(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),te(this,"mouseButtons",{LEFT:Xr.ROTATE,MIDDLE:Xr.DOLLY,RIGHT:Xr.PAN}),te(this,"touches",{ONE:qr.ROTATE,TWO:qr.DOLLY_PAN}),te(this,"target0"),te(this,"position0"),te(this,"zoom0"),te(this,"_domElementKeyEvents",null),te(this,"getPolarAngle"),te(this,"getAzimuthalAngle"),te(this,"setPolarAngle"),te(this,"setAzimuthalAngle"),te(this,"getDistance"),te(this,"listenToKeyEvents"),te(this,"stopListenToKeyEvents"),te(this,"saveState"),te(this,"reset"),te(this,"update"),te(this,"connect"),te(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=P=>{let F=Gb(P,2*Math.PI),ee=f.phi;ee<0&&(ee+=2*Math.PI),F<0&&(F+=2*Math.PI);let fe=Math.abs(F-ee);2*Math.PI-fe<fe&&(F<ee?F+=2*Math.PI:ee+=2*Math.PI),v.phi=F-ee,i.update()},this.setAzimuthalAngle=P=>{let F=Gb(P,2*Math.PI),ee=f.theta;ee<0&&(ee+=2*Math.PI),F<0&&(F+=2*Math.PI);let fe=Math.abs(F-ee);2*Math.PI-fe<fe&&(F<ee?F+=2*Math.PI:ee+=2*Math.PI),v.theta=F-ee,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=P=>{P.addEventListener("keydown",fi),this._domElementKeyEvents=P},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",fi),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(u),i.update(),g=m.NONE},this.update=(()=>{let P=new he,F=new he(0,1,0),ee=new Zu().setFromUnitVectors(e.up,F),fe=ee.clone().invert(),ot=new he,fn=new Zu,Pn=2*Math.PI;return l(function(){let vi=i.object.position;ee.setFromUnitVectors(e.up,F),fe.copy(ee).invert(),P.copy(vi).sub(i.target),P.applyQuaternion(ee),f.setFromVector3(P),i.autoRotate&&g===m.NONE&&ce(ne()),i.enableDamping?(f.theta+=v.theta*i.dampingFactor,f.phi+=v.phi*i.dampingFactor):(f.theta+=v.theta,f.phi+=v.phi);let $t=i.minAzimuthAngle,mn=i.maxAzimuthAngle;isFinite($t)&&isFinite(mn)&&($t<-Math.PI?$t+=Pn:$t>Math.PI&&($t-=Pn),mn<-Math.PI?mn+=Pn:mn>Math.PI&&(mn-=Pn),$t<=mn?f.theta=Math.max($t,Math.min(mn,f.theta)):f.theta=f.theta>($t+mn)/2?Math.max($t,f.theta):Math.min(mn,f.theta)),f.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,f.phi)),f.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(M,i.dampingFactor):i.target.add(M),i.zoomToCursor&&H||i.object.isOrthographicCamera?f.radius=gt(f.radius):f.radius=gt(f.radius*x),P.setFromSpherical(f),P.applyQuaternion(fe),vi.copy(i.target).add(P),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(v.theta*=1-i.dampingFactor,v.phi*=1-i.dampingFactor,M.multiplyScalar(1-i.dampingFactor)):(v.set(0,0,0),M.set(0,0,0));let pr=!1;if(i.zoomToCursor&&H){let dr=null;if(i.object instanceof On&&i.object.isPerspectiveCamera){let hr=P.length();dr=gt(hr*x);let _o=hr-dr;i.object.position.addScaledVector(q,_o),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){let hr=new he($.x,$.y,0);hr.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/x)),i.object.updateProjectionMatrix(),pr=!0;let _o=new he($.x,$.y,0);_o.unproject(i.object),i.object.position.sub(_o).add(hr),i.object.updateMatrixWorld(),dr=P.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;dr!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(dr).add(i.object.position):(Oa.origin.copy(i.object.position),Oa.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Oa.direction))<FS?e.lookAt(i.target):(Ub.setFromNormalAndCoplanarPoint(i.object.up,i.target),Oa.intersectPlane(Ub,i.target))))}else i.object instanceof Dn&&i.object.isOrthographicCamera&&(pr=x!==1,pr&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/x)),i.object.updateProjectionMatrix()));return x=1,H=!1,pr||ot.distanceToSquared(i.object.position)>b||8*(1-fn.dot(i.object.quaternion))>b?(i.dispatchEvent(u),ot.copy(i.object.position),fn.copy(i.object.quaternion),pr=!1,!0):!1},"update")})(),this.connect=P=>{P===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=P,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Is),i.domElement.addEventListener("pointerdown",js),i.domElement.addEventListener("pointercancel",cr),i.domElement.addEventListener("wheel",Ns)},this.dispose=()=>{var P,F,ee,fe,ot,fn;(P=i.domElement)==null||P.removeEventListener("contextmenu",Is),(F=i.domElement)==null||F.removeEventListener("pointerdown",js),(ee=i.domElement)==null||ee.removeEventListener("pointercancel",cr),(fe=i.domElement)==null||fe.removeEventListener("wheel",Ns),(ot=i.domElement)==null||ot.ownerDocument.removeEventListener("pointermove",di),(fn=i.domElement)==null||fn.ownerDocument.removeEventListener("pointerup",hi),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",fi)};let i=this,u={type:"change"},p={type:"start"},h={type:"end"},m={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},g=m.NONE,b=1e-6,f=new Ju,v=new Ju,x=1,M=new he,L=new Et,T=new Et,A=new Et,C=new Et,k=new Et,O=new Et,I=new Et,K=new Et,G=new Et,q=new he,$=new Et,H=!1,D=[],j={};function ne(){return 2*Math.PI/60/60*i.autoRotateSpeed}l(ne,"getAutoRotationAngle");function Me(){return Math.pow(.95,i.zoomSpeed)}l(Me,"getZoomScale");function ce(P){i.reverseOrbit||i.reverseHorizontalOrbit?v.theta+=P:v.theta-=P}l(ce,"rotateLeft");function Ge(P){i.reverseOrbit||i.reverseVerticalOrbit?v.phi+=P:v.phi-=P}l(Ge,"rotateUp");let Ee=(()=>{let P=new he;return l(function(ee,fe){P.setFromMatrixColumn(fe,0),P.multiplyScalar(-ee),M.add(P)},"panLeft2")})(),pe=(()=>{let P=new he;return l(function(ee,fe){i.screenSpacePanning===!0?P.setFromMatrixColumn(fe,1):(P.setFromMatrixColumn(fe,0),P.crossVectors(i.object.up,P)),P.multiplyScalar(ee),M.add(P)},"panUp2")})(),Y=(()=>{let P=new he;return l(function(ee,fe){let ot=i.domElement;if(ot&&i.object instanceof On&&i.object.isPerspectiveCamera){let fn=i.object.position;P.copy(fn).sub(i.target);let Pn=P.length();Pn*=Math.tan(i.object.fov/2*Math.PI/180),Ee(2*ee*Pn/ot.clientHeight,i.object.matrix),pe(2*fe*Pn/ot.clientHeight,i.object.matrix)}else ot&&i.object instanceof Dn&&i.object.isOrthographicCamera?(Ee(ee*(i.object.right-i.object.left)/i.object.zoom/ot.clientWidth,i.object.matrix),pe(fe*(i.object.top-i.object.bottom)/i.object.zoom/ot.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)},"pan2")})();function xe(P){i.object instanceof On&&i.object.isPerspectiveCamera||i.object instanceof Dn&&i.object.isOrthographicCamera?x/=P:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}l(xe,"dollyOut");function ve(P){i.object instanceof On&&i.object.isPerspectiveCamera||i.object instanceof Dn&&i.object.isOrthographicCamera?x*=P:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}l(ve,"dollyIn");function Ce(P){if(!i.zoomToCursor||!i.domElement)return;H=!0;let F=i.domElement.getBoundingClientRect(),ee=P.clientX-F.left,fe=P.clientY-F.top,ot=F.width,fn=F.height;$.x=ee/ot*2-1,$.y=-(fe/fn)*2+1,q.set($.x,$.y,1).unproject(i.object).sub(i.object.position).normalize()}l(Ce,"updateMouseParameters");function gt(P){return Math.max(i.minDistance,Math.min(i.maxDistance,P))}l(gt,"clampDistance");function Z(P){L.set(P.clientX,P.clientY)}l(Z,"handleMouseDownRotate");function at(P){Ce(P),I.set(P.clientX,P.clientY)}l(at,"handleMouseDownDolly");function de(P){C.set(P.clientX,P.clientY)}l(de,"handleMouseDownPan");function ze(P){T.set(P.clientX,P.clientY),A.subVectors(T,L).multiplyScalar(i.rotateSpeed);let F=i.domElement;F&&(ce(2*Math.PI*A.x/F.clientHeight),Ge(2*Math.PI*A.y/F.clientHeight)),L.copy(T),i.update()}l(ze,"handleMouseMoveRotate");function Ke(P){K.set(P.clientX,P.clientY),G.subVectors(K,I),G.y>0?xe(Me()):G.y<0&&ve(Me()),I.copy(K),i.update()}l(Ke,"handleMouseMoveDolly");function et(P){k.set(P.clientX,P.clientY),O.subVectors(k,C).multiplyScalar(i.panSpeed),Y(O.x,O.y),C.copy(k),i.update()}l(et,"handleMouseMovePan");function wt(P){Ce(P),P.deltaY<0?ve(Me()):P.deltaY>0&&xe(Me()),i.update()}l(wt,"handleMouseWheel");function rt(P){let F=!1;switch(P.code){case i.keys.UP:Y(0,i.keyPanSpeed),F=!0;break;case i.keys.BOTTOM:Y(0,-i.keyPanSpeed),F=!0;break;case i.keys.LEFT:Y(i.keyPanSpeed,0),F=!0;break;case i.keys.RIGHT:Y(-i.keyPanSpeed,0),F=!0;break}F&&(P.preventDefault(),i.update())}l(rt,"handleKeyDown");function We(){if(D.length==1)L.set(D[0].pageX,D[0].pageY);else{let P=.5*(D[0].pageX+D[1].pageX),F=.5*(D[0].pageY+D[1].pageY);L.set(P,F)}}l(We,"handleTouchStartRotate");function Ye(){if(D.length==1)C.set(D[0].pageX,D[0].pageY);else{let P=.5*(D[0].pageX+D[1].pageX),F=.5*(D[0].pageY+D[1].pageY);C.set(P,F)}}l(Ye,"handleTouchStartPan");function ke(){let P=D[0].pageX-D[1].pageX,F=D[0].pageY-D[1].pageY,ee=Math.sqrt(P*P+F*F);I.set(0,ee)}l(ke,"handleTouchStartDolly");function xn(){i.enableZoom&&ke(),i.enablePan&&Ye()}l(xn,"handleTouchStartDollyPan");function hn(){i.enableZoom&&ke(),i.enableRotate&&We()}l(hn,"handleTouchStartDollyRotate");function Ds(P){if(D.length==1)T.set(P.pageX,P.pageY);else{let ee=mi(P),fe=.5*(P.pageX+ee.x),ot=.5*(P.pageY+ee.y);T.set(fe,ot)}A.subVectors(T,L).multiplyScalar(i.rotateSpeed);let F=i.domElement;F&&(ce(2*Math.PI*A.x/F.clientHeight),Ge(2*Math.PI*A.y/F.clientHeight)),L.copy(T)}l(Ds,"handleTouchMoveRotate");function As(P){if(D.length==1)k.set(P.pageX,P.pageY);else{let F=mi(P),ee=.5*(P.pageX+F.x),fe=.5*(P.pageY+F.y);k.set(ee,fe)}O.subVectors(k,C).multiplyScalar(i.panSpeed),Y(O.x,O.y),C.copy(k)}l(As,"handleTouchMovePan");function zs(P){let F=mi(P),ee=P.pageX-F.x,fe=P.pageY-F.y,ot=Math.sqrt(ee*ee+fe*fe);K.set(0,ot),G.set(0,Math.pow(K.y/I.y,i.zoomSpeed)),xe(G.y),I.copy(K)}l(zs,"handleTouchMoveDolly");function Aa(P){i.enableZoom&&zs(P),i.enablePan&&As(P)}l(Aa,"handleTouchMoveDollyPan");function zr(P){i.enableZoom&&zs(P),i.enableRotate&&Ds(P)}l(zr,"handleTouchMoveDollyRotate");function js(P){var F,ee;i.enabled!==!1&&(D.length===0&&((F=i.domElement)==null||F.ownerDocument.addEventListener("pointermove",di),(ee=i.domElement)==null||ee.ownerDocument.addEventListener("pointerup",hi)),Va(P),P.pointerType==="touch"?Na(P):za(P))}l(js,"onPointerDown");function di(P){i.enabled!==!1&&(P.pointerType==="touch"?Ia(P):ja(P))}l(di,"onPointerMove");function hi(P){var F,ee,fe;Vs(P),D.length===0&&((F=i.domElement)==null||F.releasePointerCapture(P.pointerId),(ee=i.domElement)==null||ee.ownerDocument.removeEventListener("pointermove",di),(fe=i.domElement)==null||fe.ownerDocument.removeEventListener("pointerup",hi)),i.dispatchEvent(h),g=m.NONE}l(hi,"onPointerUp");function cr(P){Vs(P)}l(cr,"onPointerCancel");function za(P){let F;switch(P.button){case 0:F=i.mouseButtons.LEFT;break;case 1:F=i.mouseButtons.MIDDLE;break;case 2:F=i.mouseButtons.RIGHT;break;default:F=-1}switch(F){case Xr.DOLLY:if(i.enableZoom===!1)return;at(P),g=m.DOLLY;break;case Xr.ROTATE:if(P.ctrlKey||P.metaKey||P.shiftKey){if(i.enablePan===!1)return;de(P),g=m.PAN}else{if(i.enableRotate===!1)return;Z(P),g=m.ROTATE}break;case Xr.PAN:if(P.ctrlKey||P.metaKey||P.shiftKey){if(i.enableRotate===!1)return;Z(P),g=m.ROTATE}else{if(i.enablePan===!1)return;de(P),g=m.PAN}break;default:g=m.NONE}g!==m.NONE&&i.dispatchEvent(p)}l(za,"onMouseDown");function ja(P){if(i.enabled!==!1)switch(g){case m.ROTATE:if(i.enableRotate===!1)return;ze(P);break;case m.DOLLY:if(i.enableZoom===!1)return;Ke(P);break;case m.PAN:if(i.enablePan===!1)return;et(P);break}}l(ja,"onMouseMove");function Ns(P){i.enabled===!1||i.enableZoom===!1||g!==m.NONE&&g!==m.ROTATE||(P.preventDefault(),i.dispatchEvent(p),wt(P),i.dispatchEvent(h))}l(Ns,"onMouseWheel");function fi(P){i.enabled===!1||i.enablePan===!1||rt(P)}l(fi,"onKeyDown");function Na(P){switch(Hs(P),D.length){case 1:switch(i.touches.ONE){case qr.ROTATE:if(i.enableRotate===!1)return;We(),g=m.TOUCH_ROTATE;break;case qr.PAN:if(i.enablePan===!1)return;Ye(),g=m.TOUCH_PAN;break;default:g=m.NONE}break;case 2:switch(i.touches.TWO){case qr.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;xn(),g=m.TOUCH_DOLLY_PAN;break;case qr.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;hn(),g=m.TOUCH_DOLLY_ROTATE;break;default:g=m.NONE}break;default:g=m.NONE}g!==m.NONE&&i.dispatchEvent(p)}l(Na,"onTouchStart");function Ia(P){switch(Hs(P),g){case m.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ds(P),i.update();break;case m.TOUCH_PAN:if(i.enablePan===!1)return;As(P),i.update();break;case m.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Aa(P),i.update();break;case m.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;zr(P),i.update();break;default:g=m.NONE}}l(Ia,"onTouchMove");function Is(P){i.enabled!==!1&&P.preventDefault()}l(Is,"onContextMenu");function Va(P){D.push(P)}l(Va,"addPointer");function Vs(P){delete j[P.pointerId];for(let F=0;F<D.length;F++)if(D[F].pointerId==P.pointerId){D.splice(F,1);return}}l(Vs,"removePointer");function Hs(P){let F=j[P.pointerId];F===void 0&&(F=new Et,j[P.pointerId]=F),F.set(P.pageX,P.pageY)}l(Hs,"trackPointer");function mi(P){let F=P.pointerId===D[0].pointerId?D[1]:D[0];return j[F.pointerId]}l(mi,"getSecondPointerPosition"),t!==void 0&&this.connect(t),this.update()}};l(xm,"OrbitControls");var Os=xm;Wr();var Hn=V(Pe());var Pm=Hn.forwardRef(({makeDefault:o,camera:e,regress:t,domElement:i,enableDamping:u=!0,onChange:p,onStart:h,onEnd:m,...g},b)=>{let f=At(I=>I.invalidate),v=At(I=>I.camera),x=At(I=>I.gl),M=At(I=>I.events),L=At(I=>I.set),T=At(I=>I.get),A=At(I=>I.performance),C=e||v,k=i||M.connected||x.domElement,O=Hn.useMemo(()=>new Os(C),[C]);return Ts(()=>{O.enabled&&O.update()},-1),Hn.useEffect(()=>(O.connect(k),()=>void O.dispose()),[k,t,O,f]),Hn.useEffect(()=>{let I=l(K=>{f(),t&&A.regress(),p&&p(K)},"callback");return O.addEventListener("change",I),h&&O.addEventListener("start",h),m&&O.addEventListener("end",m),()=>{h&&O.removeEventListener("start",h),m&&O.removeEventListener("end",m),O.removeEventListener("change",I)}},[p,h,m]),Hn.useEffect(()=>{if(o){let I=T().controls;return L({controls:O}),()=>L({controls:I})}},[o,O]),Hn.createElement("primitive",ye({ref:b,object:O,enableDamping:u},g))});var Ie=V(re());function Sm({isIndex:o=!1}){let[e,t]=(0,ur.useState)(null),[i,u]=(0,ur.useState)(0),{day:p}=dg();return(0,ur.useEffect)(()=>{Tg(h=>{let m=Date.now(),g=Yg(m),b=o?g:parseInt(p||g);u(b);let f=h(b);t(f)})},[p,u,o,t]),(0,Ie.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[e&&(0,Ie.jsx)(BS,{id:oe,planetCoords:e}),(0,Ie.jsxs)("div",{style:{position:"absolute",top:0,left:0,zIndex:10},children:[(0,Ie.jsxs)("h1",{children:["Julian Day: ",i]}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("a",{href:"https://en.wikipedia.org/wiki/VSOP_model",target:"_new",children:"Variations S\xE9culaires des Orbites Plan\xE9taires (VSOP)"})," orbital positions using the ",(0,Ie.jsx)("a",{href:"https://github.com/gmarty/vsop87",target:"_new",children:"vsop87"})," library."]}),(0,Ie.jsxs)("p",{children:["See",(0,Ie.jsx)("a",{href:"https://en.wikipedia.org/wiki/Julian_day",target:"_new",children:"https://en.wikipedia.org/wiki/Julian_day"})]}),(0,Ie.jsxs)("p",{children:["Coordinates: ",(0,Ie.jsx)("span",{style:{whiteSpace:"pre"},children:JSON.stringify(e,null,2)})]})]})]})}l(Sm,"VSOP");function BS({id:o,planetCoords:e}){return(0,Ie.jsx)("div",{id:o,children:(0,Ie.jsx)(US,{planetCoords:e})})}l(BS,"ViewerContainer");function Kb(o){let e=(0,ur.useRef)(),[t,i]=(0,ur.useState)(!1),[u,p]=(0,ur.useState)(!1);return(0,Ie.jsxs)("mesh",{...o,ref:e,scale:u?1.5:1,onClick:h=>p(!u),onPointerOver:h=>i(!0),onPointerOut:h=>i(!1),children:[(0,Ie.jsx)("sphereGeometry",{args:[o.radius||.1,32,16]}),(0,Ie.jsx)("meshStandardMaterial",{color:t?"hotpink":"white",emissive:o.name==="sun"?"yellow":"black"}),(0,Ie.jsx)(_m,{className:"label",children:o.name})]})}l(Kb,"Planet");function US({planetCoords:o}){return(0,Ie.jsxs)(Hb,{frameloop:"demand",children:[(0,Ie.jsx)("ambientLight",{intensity:.01}),(0,Ie.jsx)("pointLight",{position:[0,0,0],decay:0,intensity:Math.PI}),(0,Ie.jsx)(Kb,{position:[0,0,0],radius:.2,name:"sun"}),Object.entries(o).map((t,i)=>(0,Ie.jsx)(Kb,{name:t[0],position:[2*t[1].x,2*t[1].z,2*t[1].y]},i)),(0,Ie.jsx)(Pm,{})]})}l(US,"SolarSystem");var SM=V(Pe());var Ue=V(re());function Em(){return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("h1",{children:"Welcome"}),(0,Ue.jsx)("p",{children:"This is the developer guide for Celestiary."}),(0,Ue.jsxs)("p",{children:["Celestiary is written using the ",(0,Ue.jsx)("a",{href:"https://threejs.org/",children:"three.js"})," library for most of the graphics.  Three.js is a productivity layer on top of the ",(0,Ue.jsx)("a",{href:"https://en.wikipedia.org/wiki/WebGL",children:"WebGL"})," capability available in all modern browsers."]}),(0,Ue.jsx)("p",{children:"The topic guide to the left steps through how each of the main functions of Celestiary are built."}),(0,Ue.jsx)("p",{children:"Background reading:"}),(0,Ue.jsx)("ul",{children:(0,Ue.jsxs)("li",{children:[(0,Ue.jsx)("a",{href:"https://webglfundamentals.org/",children:"WebGL Fundamentals"})," - deeper dive into WebGL",(0,Ue.jsxs)("ul",{children:[(0,Ue.jsx)("li",{children:(0,Ue.jsx)("a",{href:"http://acko.net/files/gltalks/pixelfactory/online.html#0",children:"The Pixel Factory"})}),(0,Ue.jsx)("li",{children:(0,Ue.jsx)("a",{href:"https://webglfundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html",children:"WebGL Shaders and GLSL"})}),(0,Ue.jsx)("li",{children:(0,Ue.jsx)("a",{href:"https://thebookofshaders.com/",children:"The Book of Shaders"})})]})]})}),(0,Ue.jsxs)("p",{children:["Back to the ",(0,Ue.jsx)(He,{href:"~/",children:"app"}),"."]})]})}l(Em,"Welcome");var Yb=V(Wb());var z=V(re());function YS(){let[o,e]=(0,pi.useState)(!0),[t]=jl();(0,pi.useEffect)(()=>{Lg(t,"Guide")},[t]),document.body.style.overflow="inherit";let i="left";return(0,z.jsxs)(pi.Fragment,{children:[(0,z.jsx)(cc,{anchor:i,open:o,onClose:()=>e(!1),onOpen:()=>e(!0),variant:"temporary",children:(0,z.jsx)(XS,{})}),(0,z.jsxs)(qu,{sx:{m:"1em"},children:[(0,z.jsx)(r0,{tip:"Sections",icon:(0,z.jsx)(Yb.default,{}),onClick:()=>e(!0)}),(0,z.jsx)(nt,{path:"/",children:(0,z.jsx)(Em,{})}),(0,z.jsx)(nt,{path:"/angles",children:(0,z.jsx)(dc,{})}),(0,z.jsx)(nt,{path:"/asterisms",children:(0,z.jsx)(hc,{})}),(0,z.jsx)(nt,{path:"/atmosphere",children:(0,z.jsx)(yf,{})}),(0,z.jsx)(nt,{path:"/cube",children:(0,z.jsx)(_f,{})}),(0,z.jsx)(nt,{path:"/galaxy",nest:!0,children:(0,z.jsx)(Ef,{})}),(0,z.jsx)(nt,{path:"/grid",children:(0,z.jsx)(Cf,{})}),(0,z.jsx)(nt,{path:"/labels",children:(0,z.jsx)(kf,{})}),(0,z.jsx)(nt,{path:"/loader",children:(0,z.jsx)(Rf,{})}),(0,z.jsx)(nt,{path:"/measure",children:(0,z.jsx)(Mf,{})}),(0,z.jsx)(nt,{path:"/orbit",children:(0,z.jsx)(Of,{})}),(0,z.jsx)(nt,{path:"/picking",children:(0,z.jsx)(Df,{})}),(0,z.jsx)(nt,{path:"/planet",children:(0,z.jsx)(Af,{})}),(0,z.jsx)(nt,{path:"/saturn-earth",children:(0,z.jsx)(zf,{})}),(0,z.jsx)(nt,{path:"/sphere",children:(0,z.jsx)(xf,{})}),(0,z.jsx)(nt,{path:"/star",children:(0,z.jsx)(jf,{})}),(0,z.jsx)(nt,{path:"/stars",children:(0,z.jsx)(Nf,{})}),(0,z.jsx)(nt,{path:"/vsop",children:(0,z.jsx)(Sm,{})})]})]},i)}l(YS,"Guide");function XS(){return(0,z.jsxs)(qu,{sx:{m:"1em"},children:[(0,z.jsx)(Jg,{variant:"h4",children:"Guide"}),(0,z.jsx)("p",{children:(0,z.jsx)(He,{to:"~/",children:"\u2190 Back"})}),(0,z.jsxs)("ol",{children:[(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/",children:"Welcome"})}),(0,z.jsxs)("li",{children:["Data",(0,z.jsxs)("ol",{children:[(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/loader",children:"Loader"})}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/measure",children:"Measure"})})]})]}),(0,z.jsxs)("li",{children:["Scene Objects",(0,z.jsx)("ol",{children:(0,z.jsxs)("li",{children:["Basic Shapes",(0,z.jsxs)("ul",{children:[(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/cube",children:"Cube"})}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/sphere",children:"Sphere"})})]})]})})]}),(0,z.jsxs)("li",{children:["Decorators",(0,z.jsxs)("ul",{children:[(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/grid",children:"Grid"})}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/labels",children:"Labels"})}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/angles",children:"Angles"})})]})]}),(0,z.jsxs)("li",{children:["Interaction",(0,z.jsx)("ul",{children:(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/picking",children:"Picking"})})})]}),(0,z.jsxs)("li",{children:["Celestial Bodies",(0,z.jsxs)("ul",{children:[(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/stars",children:"Stars"})}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/star",children:"Star"})}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/asterisms",children:"Asterisms"})}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/planet",children:"Planet"})})]})]}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/atmosphere",children:"Atmosphere"})}),(0,z.jsxs)("li",{children:["Celestial Mechanics",(0,z.jsxs)("ul",{children:[(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/orbit",children:"Orbit"})}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/vsop",children:"VSOP"})}),(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/galaxy",children:"Gravity (galaxy)"})})]})]}),(0,z.jsxs)("li",{children:["Fun",(0,z.jsx)("ul",{children:(0,z.jsx)("li",{children:(0,z.jsx)(He,{to:"/saturn-earth",children:"Earth, Saturn's moon"})})})]})]})]})}l(XS,"Outline");export{YS as default};
/*! Bundled license information:

react-reconciler/cjs/react-reconciler-constants.production.min.js:
  (**
   * @license React
   * react-reconciler-constants.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler.production.min.js:
  (**
   * @license React
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

tweakpane/dist/tweakpane.js:
  (*! Tweakpane 4.0.3 (c) 2016 cocopon, licensed under the MIT license. *)
*/
//# sourceMappingURL=Guide-QPLLBCUQ.js.map
